{"version":3,"sources":["lib/hooks.ts","store/lib/ContractState.ts","pages/Home/Polygon","serviceWorker.js","components/ChainNav/index.tsx","components/Headers/index.tsx","components/Notice/index.tsx","pages/Home/Top/index.tsx","components/LinksLanguage/index.tsx","components/CycFooter/index.tsx","components/Dialog/index.tsx","components/OnLoading/index.tsx","components/WalletInfo/index.tsx","components/CheckNote/index.tsx","components/LpMiningHeader/index.tsx","pages/Home/Deposit/index.jsx","pages/Home/Withdraw/index.jsx","Utility.js","components/TextButton.js","components/TransactionRecord.js","pages/Home/TransactionRecord/index.jsx","pages/Home/Transfer/index.jsx","pages/Home/index.jsx","components/EthConnectWallet/index.tsx","pages/Home/Mainnet.tsx","pages/Home/Bscnet.tsx","components/Modal/index.tsx","components/ModalView.js","components/Loading.tsx","index.js","lib/web3-react-bsc.ts","store/lib/TokenState.ts","utils/helper.ts","store/lib/GetLog.js","modules/index.ts","lib/lodash.ts","config/ETHMainConfig.ts","config/BSCMainnetConfig.ts","store/lang.ts","config/public.ts","store/god.ts","store/dev.ts","store/lib/TransactionState.ts","store/transaction.ts","store/setting.ts","store/base.ts","store/index.ts","utils/metamaskUtils.ts","components/SingleSymbol/index.tsx","store/lib/BignumberInputState.ts","store/lib/PoolState.ts","Config.js","lib/analytics-bsc-gql.ts","store/lib/NetworkState.ts","config/NetowkConfig.ts","store/type.ts","store/lib/ChainState.ts","../generated/bsc/gql/createClient.js","components/Button.js","modules/globalStyle.ts","lib/event.ts","components/DepositViewForBSC.jsx","components/WithdrawViewForETH.js","components/TransferView.js"],"names":["hooks","waitWeb3","Promise","res","rej","rootStore","eth","web3","eventBus","once","waitLoading","args","base","setLoading","waitPendingPool","setPendingPool","closePendingPool","waitModal","setModal","closeModal","ContractState","address","abi","deployedBlock","network","Object","assign","this","module","exports","Boolean","window","location","hostname","match","ChainNav","observer","useStore","god","lang","history","useHistory","store","useLocalStore","current","pathname","chains","name","logo","path","active_logo","chainID","find","i","useEffect","css","display","position","mr","DropItem","color","justify","width","flex","src","currentObj","alt","height","marginRight","size","weight","DropdownBox","className","backgroundColor","map","item","index","key","onClick","currentPoolIndex","push","img","content","cursor","mb","padding","textAlign","styled","top","left","boxSizing","alignItems","variants","normal","Headers","props","isMouseOver","isRegistered","showConnecter","setShowConnecter","mouseOver","event","mouseOut","showWalletInfo","currentNetwork","walletInfo","visible","register","menus","Item","style","href","t","accountView","useObserver","myAddress","family","helper","string","truncate","styles","cycHeader","menuMobile","overlay","placement","dispaly","flexDirection","justifyContent","flexBetweenCenter","marginBottom","fontFamily","ul","listStyleType","margin","li","a","fontSize","fontWeight","px","Notice","lineHeight","textDecoration","ml","status","show","hide","NoticeItem","useState","isShow","setStatus","HomeTop","homeTop","responsive","mt","end","m87PriceUSD","format","duration","decimals","preserveValue","swapURL","target","hover","swapName","toLowerCase","marginLeft","miniLine","marginTop","langGroups","en","text","ru","zh_CN","LinksLanguage","Container","rel","LangSelect","values","setLang","curLang","borderRadius","background","paddingBottom","CycFooter","FooterBox","direction","items","CYCToken","mx","e","addCYCToMetamask","getFormat","fixed","Dialog","ModalMask","zIndex","ModalWrap","outline","overflow","Modal","small","md","medium","auto","DialogWrapper","title","close","OnLoading","onConfirm","onCancel","showLoading","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeMiterlimit","strokeLinecap","attributeName","begin","dur","type","from","to","repeatCount","my","align","showConfirm","confirmText","showCancel","WalletInfo","copyMyaddress","copy","message","success","copyAccount","account","copyKey","myPrivteKey","logout","emit","wordBreak","currentChain","explorerURL","explorerName","p","CheckNote","invalid","keyConfirm","data","setLoadingText","setLoadingView","checkPrivateKey","all","poolList","pool","checkCommitmentAndNullifer","loginType","value","onChange","disabled","isConfirm","LpMiningHeader","bg","active","setting","toggleSwtich","approveMax","save","withdrawStatusId","unwrapperStatusId","curStatusType","curSignBlockNumber","Deposit","dev","isTransactionSent","confirmedBlocks","num","total","L1FinalizationRate","isChosen","DepositViewForBSC","indexOfPool","id","chainId","onApproveXRC","token","approve","spender","L1Helper","Error","onDeposit","depositAmount","axios","post","CurrentSet","relayer","amount","toString","response","extData","console","log","txData","generateTxData","deposit","txInstance","provider","JsonRpcProvider","rpcUrl","handler","blockNumber","getTransactionReceipt","hash","receipt","confirmations","on","wait","then","L1MessageId","removeListener","logs","topics","length","userRequestTopic","gnosisProvider","gnosisRpcUrl","completionFilter","HomeAMB","AffirmationCompletedTopic","checkRegistration","msg","isSendingTx","Withdraw","getStatus","relayerURL","options","resolve","getRelayerStatus","get","responseStatus","txHash","failedReason","L2FinalizationRate","waitForTxReceipt","setTimeout","attempts","delay","reject","checkForTx","retryAttempt","result","WithdrawViewForETH","feeAmount","recipient","L1feeAmount","idx","sumBalance","BigNumber","inputCommitments","myUtxoArr","utxoList","utxo","comparedTo","gt","plus","commitment","restAmount","minus","outputData","pubKey","myPublicKey","undefined","relayerStatus","input","output","fee","l1fee","withdrawTxId","getUserSignatureLog","encodedData","getSignatures","AMBBridgeHelper","signatures","unwrapperTxId","Utility","isInMobile","isMobile","navigator","userAgent","any","isIoPayMobile","includes","toFixString","str","substr","url","clipboardy","TransactionRecord","pageStore","formatAmount","dividedBy","Math","pow","toFixed","onClickRemoveButton","removeTransactionRecord","onClickCopyButton","note","focus","select","document","execCommand","error","toast","dark","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","showStatus","idOfStatus","deposits","fetchData","subsequent","amountCoin","overflowX","maxWidth","InfoCircleOutlined","data-tip","data-for","place","effect","delayHide","createTime","timeAgo","Date","tokenSymbol","amountToken","Coin","symbol","ref","node","border","defaultValue","transaction","isPublicInfoLoaded","isPrivateInfoLoaded","currentTransactions","removeTransaction","currentStatusId","Transfer","TransferView","recipientPubKey","transferAmount","SwitchItem","HomePage","antdPopoverStyle","tabKey","setTabKey","anchorEl","curSelectedId","setAnchorEl","element","handlePopoverOpen","currentTarget","getAttribute","handlePopoverClose","home","pendingPool","homeContent","tabConfig","onMouseEnter","onMouseLeave","count","Popover","sx","pointerEvents","widht","open","anchorOrigin","vertical","horizontal","transformOrigin","onClose","disableRestoreFocus","Typography","paddingTop","loading","closeLoading","minHeight","backgroundImage","WalletBox","borderTop","borderBottom","WalletItem","getIsMetaMaskBrowser","ethereum","isMetaMask","getIsMetaMask","EthConnectWallet","useWeb3React","activate","deactivate","connector","showConnector","connectInejct","injectedConnector","latestProvider","connectWalletConnect","walletconnectConnector","connectWithKey","Mainnet","library","clear","clearAccountInfo","generatePrivateKey","msgParams","request","method","params","sign","ethers","utils","keccak256","currentNetworkName","ETHMainnetConfig","allowChains","r","initializeAccount","defaultEthers","signer","getSigner","multiCall","Provider","_multicallAddress","Multicall","loadBalance","loadPublichData","startRefetchForce","connectingStatus","privateKey","downloadShieldedKey","doNecessary","refetchTimer","chain","metamaskUtils","setupNetwork","blockExplorerUrls","chainName","nativeCurrency","rpcUrls","baseRpcUrl","addListener","Bscnet","BSCMainnetConfig","modal","ok","ModalView","children","Loading","allowToCancel","nextable","shapeRendering","preserveAspectRatio","cx","cy","stroke-width","keyTimes","keySplines","calcMode","split","Sentry","dsn","integrations","Integrations","BrowserTracing","tracesSampleRate","App","useControls","devUI","devPool","showLoadingView","loadingText","init","StrictMode","hidden","scrollTo","exact","getLibrary","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister","catch","EthersProviders","Web3Provider","pollingInterval","BscConnector","supportedChainIds","InjectedConnector","EthereumConfigV2","WalletConnectConnector","rpc","1","bridge","qrcode","TokenState","allownaceForRouter","BigNumberState","balance","metas","makeObservable","observable","json","safeParse","val","JSON","parse","parseTemplate","keys","forEach","replace","fullStr","strLen","separator","charsToShow","frontChars","ceil","backChars","floor","number","countNonZeroNumbers","Number","toPrecisionFloor","isNaN","String","numStr","BN","numLength","resultNumLength","numeral","getBN","AbiCoder","getKeypairLog","L1HelperContract","stBlock","tornadoPool","Contract","filter","filters","PublicKey","getBlock","endBlock","toBlock","fromBlock","totEvents","getSafeLog","subEvents","tempEvents","owner","publicKey","concat","fromBlockNumber","toBlockNumber","keypairArr","getCommitmentAndNullifierLog","from_commitment","from_nullifier","HorizonPoolContract","filter_commitment","NewCommitment","filter_nullifier","NewNullifier","subEvents_commitment","subEvents_nullifier","tempEvents_commitment","tempEvents_nullifier","encryptedOutput","toNumber","nullifier","commitmentArr","nullifierArr","proof","encode","encodeDataForBridge","HomeAMBContract","UserRequestForSignature","sigData","bridgeHelper","getSign","contract","query","isSafe","getLogFunc","queryFilter","getPoolBalance","poolAddress","tokenContract","balanceOf","createCss","prefix","insertionMethod","theme","colors","primary","primary200","primaryOpacity","primary600","info","info200","info400","bg1","bg2","bg3","bg4","bg5","bg6","bg7","bg8","bg9","textPrimary","textLight","textInfo","textGray","textGray200","textGray900","borderPrimary","textWarn","space","$0","$1","$2","$3","$4","$5","$6","$7","$8","autoX","fontSizes","$xs","$sm","$base","$lg","$xl","$2xl","$3xl","$4xl","$5xl","$6xl","media","xss","xs","sm","lg","xl","xxl","m","config","paddingLeft","paddingRight","pt","pr","pb","pl","py","linearGradient","br","flexCenterCenter","global","keyframes","_","keyBy","debounce","each","flattenDeep","ChainState","APIURL","L2UserRequestTopic","MultiCall","XRC20ABI","L1HelperABI","AMBABI","BridgeHelperABI","pools","PoolState","set","maxDepositAmount","minDepositAmount","HorizonPool","HorizonABI","BridgeToken","order","XRCToken","fileNameMapping","LangStore","langPath","translations","makeAutoObservable","urlParams","URLSearchParams","search","langFromQuery","broswerLang","languages","language","localStorage","getItem","loadTranslation","setItem","processed","translation","publicConfig","isProd","process","maxApprove","iotexTVL","GodStore","isOnProgress","currentNote","ABIs","Map","withdrawAnnoucement","isLockStatus","currentPrivateKey","getNetwork","Aeolus","AeolusV2","LPToken","isShown","poolId","uniswapMulticall","v","price","mainnetMulticallV2","sumOfTvl","tvlState","viewerFixed","indexOfChainID","poolTVL","tvl","setValue","xrcList","multicallV2","preMulticall","allowance","isApprovingAllowance","approveValue","execContract","aeolus","tokenAddress","isExist","commitmentblockNumber","nullifierBlockNumber","UTXOArr","sort","b","hex","_commitment","shieldedBalance","LpToken","allowanceForAeolus","registerToken","Config","baseURL","DevStore","TransactionState","amountCYC","getChain","getPool","TransactionStore","transactions","transaciton","stringify","SettingStore","StorageState","default","TimeAgo","addDefaultLocale","addLocale","zh","timer","priavetKey","createElement","file","Blob","URL","createObjectURL","download","substring","body","appendChild","click","tempIndex","timeAgos","ip","geo","apy","cycPrice","ethPrice","coinPrice","m87PriceETH","startRefetch","clearInterval","setInterval","USD","priceBNB","priceMatic","getM87PriceETH","multipliedBy","getTotalTVL","getCycPrice","StoresContext","React","createContext","useContext","_store","tokenDecimals","tokenImage","image","tokenAdded","toHex","code","StackBox","SingleSymbol","imgs","BigNumberInputState","formatter","PoolStateStatus","rpcURL","infuraId","backendServiceURL","iotexRpcURL","analyticsURL","analyticsBscURL","analyticsETHURL","merkleTreeHeight","version","donations","defaultAccount","ipAPI","GeoAPI","intervalForContract","assetURL","retry","mimoExchange","tokenName","bsc_address","tokens","networkID","amountSteps","deprecated","createClient","fetcher","variables","ETHNetworkState","defaultChainId","chianId","apyMap","poolTvl","analyicsClient","createAnalyticsEthCilent","contractAddress","first","analyticsClient","orderDirection","where","totalCount","leafIndex","timestamp","tokenDenomination","coinDenomination","cycDenomination","UniswapABI","coinBalance","getBalance","lpLocked","lpOldLocked","tokensInPoolPerDay","MuticallContract","calls","readMultiContract","callback","mainnetMulticall","MainEthers","isAddress","EXPONENTIAL_AT","fixednum","speFixed","getRawFormat","load","removeItem","UniswapV2CycloneRouter","LPTokenV2","k","_val","__assign","s","n","arguments","prototype","hasOwnProperty","call","apply","defineProperty","__1","require","typeMap","linkTypeMap","queryRoot","Query","avaliable","fullWidth","textOverflow","whiteSpace","disable","disabledLabel","label","borderColor","Wrapper","rotate","transform","Button","mini","large","borderLeft","opacity","verticalAlign","clipPath","animation","Text","yellow","gray","white","light","black","warning","lightGray","semibold","bold","ibm","Montserrat","pointer","none","inline","center","right","whitespace","FlexBox","row","column","between","start","rc","cr","Icon","BorderBox","Input","TextArea","Section","DropBox","willChange","transition","EventEmitter","Buffer","bigInt","padStart","gasPricesETH","tenPercent","max","bumped","toWei","createTheme","palette","MessierOrange","main","contrastText","baseStore","isShowDetail","currentAmount","currentShieldedAmount","currentCYCDenomination","currentCoinDenomination","poolSize","anonymityFee","ApproveStatus","TokenApproveStatus","DepositStatus","WithdrawStatus","isConnecting","gasPrice","depositAmountInput","setDepositAmount","subArr","setFormat","setMaxLimitAmount","maxLimitAmount","getAnonymityFee","anonymityPoolFee","fetchGasPrice","netId","defaultRpc","timeout","defaultFallbackGasPrices","instant","fast","standard","low","oracle","GasPriceOracle","fallbackGasPrices","gasPrices","gas","loadAmount","getCurrentAmount","getCurrentShieldedAmount","onSelectPool","setCurrentSelectedAmount","setDecimals","onConnect","isConnect","latestEthProvider","getCurrentCoinDenomination","getCurrentCYCDenomination","depositCYCAmount","getPoolSize","numOfShare","onChangeBuyCYCCheckBox","allowBuyCYC","checked","xrcApproved","toBN","expense","mul","maxValue","sub","lt","AnonymityPool","denomenation","min","step","loadingPosition","variant","allowDeposit","isActive","balanceOfXRC","depositView","appearance","borderWidth","borderStyle","buttonPanel","textTransform","bottomTips","poolInfos","poolAudio","flexWrap","rowGap","columnGap","approveBtn","loginOut","span","recipientAddress","isUsingMax","checkValidAccount","totalReceiveAmount","relayerFeeAmount","withdrawFeeAmount","totalBalance","tempBalance","dp","ROUND_FLOOR","lte","rawWithdrawFee","realBalance","bridgeFeeAmount","eq","myRealBalance","relayerFeeFormat","bridgeFeeFormat","withdrawFeeFormat","totalReceiveFormat","placeholder","parseUnits","recipientPublicKey","checkRegisteredAccount","totalSendAmount","totalSendFormat"],"mappings":"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","file":"static/js/main.ec08fdf7.chunk.js","sourcesContent":["import { rootStore } from '../store/index';\r\nimport Web3 from 'web3';\r\nimport { eventBus } from './event';\r\nimport { BaseStore } from '../store/base';\r\n\r\nexport const hooks = {\r\n  async waitWeb3() {\r\n    return new Promise<Web3>((res, rej) => {\r\n      //@ts-ignore\r\n      if (rootStore.eth.web3) {\r\n        //@ts-ignore\r\n        res(rootStore.eth.web3);\r\n      } else {\r\n        eventBus.once('web3.onConnect', (web3) => {\r\n          res(web3);\r\n        });\r\n      }\r\n    });\r\n  },\r\n  async waitLoading(args: Partial<BaseStore['loading']>) {\r\n    return new Promise<void>((res, rej) => {\r\n      rootStore.base.setLoading(args);\r\n      eventBus.once('loading.confirm', () => {\r\n        res();\r\n      });\r\n      eventBus.once('loading.cancel', () => {\r\n        rej();\r\n      });\r\n    });\r\n  },\r\n  async waitPendingPool() {\r\n    return new Promise<boolean>((res, rej) => {\r\n      rootStore.base.setPendingPool();\r\n      eventBus.once('pendingPool.confirm', () => {\r\n        res(true);\r\n        rootStore.base.closePendingPool();\r\n      });\r\n      eventBus.once('pendingPool.cacel', () => {\r\n        res(false);\r\n        rootStore.base.closePendingPool();\r\n      });\r\n    });\r\n  },\r\n  async waitModal(args: Partial<BaseStore['modal']>) {\r\n    return new Promise<boolean>((res, rej) => {\r\n      rootStore.base.setModal(args);\r\n      eventBus.once('modal.confirm', () => {\r\n        res(true);\r\n        rootStore.base.closeModal();\r\n      });\r\n      eventBus.once('modal.cancel', () => {\r\n        res(false);\r\n      });\r\n    });\r\n  }\r\n};\r\n","import { makeAutoObservable, makeObservable, observable } from 'mobx';\r\nimport { NetworkState } from './NetworkState';\r\nimport { BigNumberState, MulticallParams } from '../type';\r\nimport { _ } from '../../lib/lodash';\r\nimport BigNumber from 'bignumber.js';\r\nimport { LPTokenState } from './TokenState';\r\nimport { helper } from '../../utils/helper';\r\nimport { rootStore } from '../index';\r\n\r\nexport class ContractState {\r\n  address: string;\r\n  abi: any;\r\n  deployedBlock: Number;\r\n  network: NetworkState;\r\n\r\n  constructor(args: Partial<ContractState>) {\r\n    Object.assign(this, args);\r\n  }\r\n\r\n  preMulticall(args: Partial<MulticallParams>) {\r\n    return Object.assign({ address: this.address, abi: this.abi }, args);\r\n  }\r\n}\r\n\r\nexport class AeolusContractState implements ContractState {\r\n  address: string;\r\n  name: string;\r\n  abi: any;\r\n  deployedBlock: Number;\r\n  deprecated: boolean;\r\n  rewardPerBlock = new BigNumberState({\r\n    loading: true,\r\n    fixed: 0\r\n  });\r\n  staked = new BigNumberState({ loading: true });\r\n  cycEarn = new BigNumberState({ loading: true });\r\n  lpLocked = null;\r\n  network: NetworkState;\r\n  LpToken: LPTokenState;\r\n  addLiquidity: string;\r\n  removeLiquidity: string;\r\n\r\n  constructor(args: Partial<AeolusContractState>) {\r\n    Object.assign(this, args);\r\n    makeAutoObservable(this, {\r\n      network: false\r\n    });\r\n  }\r\n\r\n  get liquidityText() {\r\n    return this.deprecated ? rootStore.lang.t('remove.liquidity') : rootStore.lang.t('add.liquidity');\r\n  }\r\n\r\n  get LiquidityURL() {\r\n    return this.deprecated\r\n      ? helper.string.parseTemplate(this.removeLiquidity, { token: this.network.currentChain.CYCToken.address })\r\n      : helper.string.parseTemplate(this.addLiquidity, { token: this.network.currentChain.CYCToken.address });\r\n  }\r\n\r\n  get title() {\r\n    if (this.name) return this.name;\r\n    return `CYC-${this.network.currentChain.Coin.symbol.toUpperCase()} LP`;\r\n  }\r\n\r\n  get liquidityApy() {\r\n    return _.get(this.network.apyMap, `${this.address}.apy`, '0') as string;\r\n  }\r\n\r\n  get liquidityApyDaily() {\r\n    return new BigNumber(this.liquidityApy).comparedTo(0) > 0 ? new BigNumber(this.liquidityApy).dividedBy(365).toFixed(2) : '0';\r\n  }\r\n\r\n  get rewardDaily() {\r\n    const rewardPerBlock = this.rewardPerBlock;\r\n    if (rewardPerBlock.loading) return '...';\r\n    return rewardPerBlock.value\r\n      .multipliedBy(86400 / this.network.currentChain.metas.rewardPerBlock)\r\n      .dividedBy(10 ** rewardPerBlock.decimals)\r\n      .toFixed(rewardPerBlock.fixed);\r\n  }\r\n\r\n  preMulticall(args: Partial<MulticallParams>) {\r\n    return Object.assign({ address: this.address, abi: this.abi }, args);\r\n  }\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/Polygon.02c8e71a.bin\";","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  // if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n  if ('serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          // console.log(\r\n          //   'This web app is being served cache-first by a service ' +\r\n          //     'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          // );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              // console.log(\r\n              //   'New content is available and will be used when all ' +\r\n              //     'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              // );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              // console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      // console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      // console.log(\r\n      //   'No internet connection found. App is running in offline mode.'\r\n      // );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useStore } from '../../store';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Wrapper, Text, FlexBox, Icon, BorderBox, Button, Section } from '../../modules/globalStyle';\r\nimport { styled } from '../../modules/index';\r\nimport { metamaskUtils } from '../../utils/metamaskUtils';\r\nimport { hooks } from '../../lib/hooks';\r\n\r\nfunction getIsMetaMask(): boolean {\r\n  return window.ethereum?.isMetaMask ?? false\r\n}\r\n\r\nexport const ChainNav = observer(() => {\r\n  const { lang, base, god } = useStore();\r\n  const history = useHistory();\r\n  const store = useLocalStore(() => ({\r\n    current: history.location.pathname,\r\n    chains: [\r\n      {\r\n        name: 'ETH',\r\n        logo: '/images/home/eth_n.svg',\r\n        path: '/eth',\r\n        active_logo: '/images/home/eth_s.svg',\r\n        chainID: 1,\r\n      },\r\n      {\r\n        name: 'BSC',  \r\n        logo: '/images/home/bsc_n.svg',\r\n        path: '/bsc',\r\n        active_logo: '/images/home/bsc_s.svg',\r\n        chainID: 56,\r\n      },\r\n      // {\r\n      //   name: 'Polygon',\r\n      //   logo: '/images/home/matic_n.svg',\r\n      //   path: '/polygon',\r\n      //   active_logo: '/images/home/matic_s.svg',\r\n      //   chainID: 137\r\n      // },\r\n    ],\r\n    get currentObj() {\r\n      if(store.current == '/compliance')\r\n        return store.chains[0];\r\n      return store.chains.find((i) => i.path == store.current);\r\n    },\r\n  }));\r\n\r\n  useEffect(() => {\r\n    store.current = history.location.pathname;\r\n  }, [history.location.pathname]);\r\n\r\n  return (\r\n    <>\r\n      <Section css={{ display: 'none', '@md': { display: 'block', position: 'relative', mr: '1rem' } }}>\r\n        <DropItem color=\"normal\">\r\n          <FlexBox justify=\"between\" css={{width: '100%'}}>\r\n            <FlexBox css={{flex: 1}}>\r\n                <Icon src={store.currentObj.active_logo} alt=\"\" css={{ width: '25px', height: '25px', marginRight: '5px' }}></Icon>\r\n                <Text color=\"white\" size=\"md\" weight=\"semibold\">{store.currentObj.name}</Text>\r\n            </FlexBox>\r\n            <Icon src=\"/images/home/btn_dropdown.png\" alt=\"\" css={{ width: 24, height: 24 }}></Icon>\r\n          </FlexBox>\r\n        </DropItem>\r\n        <DropdownBox>\r\n          <Section className=\"dropBox\" css={{ backgroundColor: '$bg9' }}>\r\n            {store.chains &&\r\n              store.chains.map((item, index) => (\r\n                <DropItem\r\n                  key={item.path}\r\n                  onClick={() => {\r\n                    god.currentPoolIndex = null;\r\n                    store.current = item.path;\r\n                    // if( getIsMetaMask() ) {\r\n                    //   const chain = god.eth.chains[item.chainID];\r\n                    //   metamaskUtils.setupNetwork({\r\n                    //     chainId: chain.chainId,\r\n                    //     blockExplorerUrls: [chain.explorerURL],\r\n                    //     chainName: chain.name,\r\n                    //     nativeCurrency: {\r\n                    //       decimals: chain.Coin.decimals || 18,\r\n                    //       name: chain.Coin.symbol,\r\n                    //       symbol: chain.Coin.symbol\r\n                    //     },\r\n                    //     rpcUrls: [chain.baseRpcUrl]\r\n                    //   });\r\n                    // }\r\n                    // else {\r\n                    //   hooks.waitModal({title: lang.t('notification'), msg: lang.t('toNet.wallet')});\r\n                    // }\r\n                    history.push(item.path);\r\n                  }}\r\n                  css={{\r\n                    backgroundColor: store.current === item.path ? '$bg9' : 'transparent',\r\n                    '&:hover': {\r\n                      img: {\r\n                        content: `url(${item.active_logo}) !important`\r\n                      },\r\n                      \".name\": {\r\n                        color: '$textPrimary'\r\n                      }\r\n                    }\r\n                  }}\r\n                >\r\n                  <Icon\r\n                    src={store.current === item.path ? item.active_logo : item.logo}\r\n                    css={{\r\n                      width: '25px',\r\n                      height: item.name == 'Polygon' ? '20px' : '25px',\r\n                      marginRight: '5px',\r\n                      '&:hover': {\r\n                        content: `url(${item.active_logo})`\r\n                      }\r\n                    }}\r\n                  />\r\n                  <Text className=\"name\" color=\"light\" size=\"md\" weight=\"semibold\" cursor=\"pointer\">{item.name}</Text>\r\n                </DropItem>\r\n              ))}\r\n          </Section>\r\n        </DropdownBox>\r\n      </Section>\r\n\r\n      <FlexBox css={{ mb: '2rem', display: 'flex', '@md': { display: 'none' } }}>\r\n        {store.chains &&\r\n          store.chains.map((item, index) => (\r\n            <DropItem\r\n              key={item.path}\r\n              onClick={() => {\r\n                god.currentPoolIndex = null;\r\n                store.current = item.path;\r\n                    // if( getIsMetaMask() ) {\r\n                    //   const chain = god.eth.chains[item.chainID];\r\n                    //   metamaskUtils.setupNetwork({\r\n                    //     chainId: chain.chainId,\r\n                    //     blockExplorerUrls: [chain.explorerURL],\r\n                    //     chainName: chain.name,\r\n                    //     nativeCurrency: {\r\n                    //       decimals: chain.Coin.decimals || 18,\r\n                    //       name: chain.Coin.symbol,\r\n                    //       symbol: chain.Coin.symbol\r\n                    //     },\r\n                    //     rpcUrls: [chain.baseRpcUrl]\r\n                    //   });\r\n                    // }\r\n                    // else {\r\n                    //   hooks.waitModal({title: lang.t('notification'), msg: lang.t('toNet.wallet')});\r\n                    // }\r\n                history.push(item.path);\r\n              }}\r\n              css={{\r\n                padding: 0,\r\n                width: '100%',\r\n                textAlign: 'center',\r\n                backgroundColor: store.current === item.path ? '$bg9' : '$bg3',\r\n                '&:hover': {\r\n                  img: {\r\n                    content: `url(${item.active_logo}) !important`\r\n                  },\r\n                }\r\n              }}\r\n            >\r\n              <FlexBox justify=\"center\" css={{width: '100%', marginRight: 10}}>\r\n                <Icon\r\n                  src={store.current === item.path ? item.active_logo : item.logo}\r\n                  css={{\r\n                    width: item.name == 'Polygon' ? '25px' : '35px',\r\n                    height: item.name == 'Polygon' ? '20px' : '25px',\r\n                    marginRight: '5px',\r\n                    '&:hover': {\r\n                      content: `url(${item.active_logo})`\r\n                    }\r\n                  }}\r\n                />\r\n                <Text color={store.current === item.path  ? \"white\": \"light\"} size=\"md\" weight=\"semibold\" cursor=\"pointer\">{item.name}</Text>\r\n              </FlexBox>\r\n            </DropItem>\r\n          ))}\r\n      </FlexBox>\r\n    </>\r\n  );\r\n});\r\n\r\nconst DropdownBox = styled('div', {\r\n  position: 'absolute',\r\n  width: '100px',\r\n  height: '30px',\r\n  top: 0,\r\n  left: 0,\r\n  '.dropBox': {\r\n    position: 'absolute',\r\n    top: 38,\r\n    left: 0,\r\n    display: 'none'\r\n  },\r\n  '&:hover': {\r\n    height: 90,\r\n    '.dropBox': {\r\n      display: 'block'\r\n    }\r\n  }\r\n});\r\n\r\nconst DropItem = styled('div', {\r\n  width: '110px',\r\n  height: '30px',\r\n  backgroundColor: '$bg9',\r\n  padding: '0 9px 0 11px',\r\n  boxSizing: 'border-box',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  variants: {\r\n    color: {\r\n      normal: {\r\n        '&:hover': {\r\n          backgroundColor: '$bg3'\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n","import React, { useEffect } from 'react';\r\nimport { css, global } from '../../modules/index';\r\nimport { useStore } from '../../store';\r\nimport { Link } from 'react-router-dom';\r\nimport { Icon, Text, Section } from '../../modules/globalStyle';\r\nimport { Menu, Dropdown } from 'antd';\r\nimport { observer, useLocalStore, useObserver } from 'mobx-react-lite';\r\nimport { helper } from '../../utils/helper';\r\nimport { ChainNav } from '../ChainNav/index';\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nexport const Headers = observer((props) => {\r\n  const { lang, god } = useStore();\r\n  const store = useLocalStore(() => ({\r\n    isMouseOver: false,\r\n    isRegistered: false,\r\n    showConnecter() {\r\n      god.setShowConnecter(true);\r\n    },\r\n    mouseOver(event) {\r\n      this.isMouseOver = true;\r\n    },\r\n    mouseOut(event) {\r\n      this.isMouseOver = false;\r\n    },\r\n    showWalletInfo() {\r\n      if(store.isRegistered) {\r\n        god.currentNetwork.walletInfo.visible = true;\r\n      }\r\n      else {\r\n        god.register();\r\n      }\r\n    },\r\n    register() {\r\n    }\r\n  }));\r\n\r\n  const menus = (\r\n    <Menu>\r\n      <Menu.Item style={{color: 'white'}}>\r\n        <a href=\"https://messier.gitbook.io/catalogue-de-messier/horizon\">{lang.t('Docs')}</a>\r\n      </Menu.Item>\r\n      <Menu.Item style={{color: 'white'}}>\r\n        <a href=\"https://github.com/MessierM87/Horizon\">Github</a>\r\n      </Menu.Item>\r\n      \r\n    </Menu>\r\n  );\r\n  const accountView = useObserver(() => {\r\n    if (!god.myAddress) {\r\n      return (\r\n        <Text color=\"yellow\" weight=\"bold\" family=\"Montserrat\" cursor=\"pointer\" onClick={store.showConnecter}>\r\n          {lang.t('login')}\r\n        </Text>\r\n      );\r\n    }\r\n    else {\r\n      return (\r\n        <Text size=\"small\" color=\"yellow\" weight=\"bold\" family=\"Montserrat\" cursor=\"pointer\" onClick={store.showWalletInfo}>\r\n          {store.isRegistered ? helper.string.truncate(god.myAddress, 12, \"...\") : lang.t('signup')}\r\n        </Text>\r\n      );\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    store.isRegistered = god.isRegistered;\r\n  }, [god.isRegistered]);\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.cycHeader.className}>\r\n        <div className=\"cycHeader_l\">\r\n          <a href=\"/\">\r\n            <img src=\"/images/home/logo.png\" className=\"logo\" alt=\"\" />\r\n          </a>\r\n          <ul>\r\n            <li>\r\n              <a href=\"https://messier.gitbook.io/catalogue-de-messier/horizon\">{lang.t('Docs')}</a>\r\n            </li>\r\n            <li>\r\n              <a href=\"https://github.com/MessierM87/Horizon\">Github</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"cycHeader_r\">\r\n          {/* <Icon src=\"/images/home/icon_light.png\" alt=\"\" className=\"light\"  /> */}\r\n          <ChainNav />\r\n          {accountView}\r\n        </div>\r\n        <div className={styles.menuMobile.className}>\r\n          <Dropdown overlay={menus} placement=\"bottomRight\">\r\n            <Icon src=\"/images/home/menu_icon.png\" css={{ width: '1.4em', height: '1.3rem', padding: 0 }} alt=\"\"></Icon>\r\n          </Dropdown>\r\n\r\n        </div>\r\n      </div>\r\n      <Section css={{ dispaly: 'block', '@md': { display: 'none' } }}>\r\n        <div style={{display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>\r\n          <ChainNav />\r\n          <div style={{display: 'flex', alignItems: 'center', height: 30}}>\r\n            {accountView}\r\n          </div>\r\n        </div>\r\n      </Section>\r\n    </>\r\n  );\r\n});\r\n\r\nconst styles = {\r\n  cycHeader: css({\r\n    flexBetweenCenter: 'row',\r\n    marginBottom: '2.5rem',\r\n    fontFamily: 'Montserrat',\r\n    '.ant-dropdown-menu': {\r\n      backgroundColor: '$bg5 !important',\r\n    },\r\n    '.cycHeader_l': {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n\r\n      '.logo': {\r\n        height: '2.5rem',\r\n        marginRight: '5rem',\r\n      },\r\n      ul: {\r\n        display: 'none',\r\n        '@md': {\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          listStyleType: 'none',\r\n          padding: 0,\r\n          margin: 0,\r\n        },\r\n        li: {\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          marginRight: '2.375rem',\r\n          a: {\r\n            color: '$textPrimary',\r\n            fontSize: '1rem',\r\n            fontWeight: 'bold',\r\n            '&:hover': {\r\n              color: '$primary',\r\n            },\r\n          },\r\n        },\r\n      },\r\n    },\r\n    '.cycHeader_r': {\r\n      display: 'none',\r\n      '@md': {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        '.light': {\r\n          width: '1.6rem',\r\n          height: '1.6rem',\r\n          marginRight: '2.5rem',\r\n        },\r\n      },\r\n    },\r\n  }),\r\n  menuMobile: css({\r\n    display: 'block',\r\n    '@md': {\r\n      display: 'none',\r\n    },\r\n    '.ant-dropdown-trigger': {\r\n      px: 0,\r\n    },\r\n  }),\r\n};\r\n\r\nexport default Headers;\r\n","import React, { useState } from 'react';\r\nimport { styled } from '../../modules/index';\r\nimport { Icon, Text } from '../../modules/globalStyle';\r\n\r\ninterface IComponentProps {\r\n  content?: any;\r\n}\r\n\r\nexport const Notice = styled('div', {\r\n  width: '100%',\r\n  boxSizing: 'border-box',\r\n  backgroundColor: '$bg3',\r\n  padding: '0.5rem 1.5rem',\r\n  flexBetweenCenter: 'row',\r\n  fontSize: '0.75rem',\r\n  lineHeight: '1.2rem',\r\n  color: '$textPrimary',\r\n  a: {\r\n    color: '$primary',\r\n    textDecoration: 'none'\r\n  },\r\n  img: {\r\n    width: '1.5rem',\r\n    height: '1.5rem',\r\n    cursor: 'pointer',\r\n    ml: '1rem'\r\n  },\r\n  variants: {\r\n    status: {\r\n      show: {\r\n        display: 'flex'\r\n      },\r\n      hide: {\r\n        display: 'none'\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nexport const NoticeItem = (props: IComponentProps) => {\r\n  const { content } = props;\r\n  const [isShow, setStatus] = useState(true);\r\n  return (\r\n    <Notice css={{ mb: '0.5rem' }} status={isShow ? 'show' : 'hide'}>\r\n      <Text css={{ flex: 1, textAlign: 'center' }}>{content}</Text>\r\n      <Icon\r\n        onClick={() => setStatus(false)}\r\n        src=\"/images/home/delete_button_n.png\"\r\n        css={{\r\n          '&:hover': {\r\n            content: 'url(\"/images/home/delete_button_s.png\")'\r\n          }\r\n        }}\r\n        alt=\"\"\r\n      />\r\n    </Notice>\r\n  );\r\n};\r\n","import React, { Fragment } from 'react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { Wrapper, FlexBox, Text, Icon, Section } from '../../../modules/globalStyle';\r\nimport { css } from '../../../modules/index';\r\nimport { Headers } from '../../../components/Headers/index';\r\nimport { NoticeItem } from '../../../components/Notice/index';\r\nimport { useStore } from '../../../store';\r\nimport CountUp from 'react-countup';\r\n\r\nexport const HomeTop = observer(() => {\r\n  const { lang, base, god } = useStore();\r\n  return (\r\n    <article className={styles.homeTop.className}>\r\n      <Wrapper>\r\n        <Headers />\r\n\r\n        <NoticeItem\r\n          content={\r\n            <div>\r\n              {lang.t('notice.txt1')}&nbsp;\r\n              <a href=\"https://github.com/solidproof/projects/blob/main/Messier%20M87/SmartContract_Audit_Solidproof_MessierM87.pdf\">{lang.t('audited.code')}</a>&nbsp;\r\n              {lang.t('notice.txt2')} <br />\r\n              {lang.t('notice.txt2_next')}\r\n            </div>\r\n          }\r\n        />\r\n\r\n        <FlexBox justify=\"between\" responsive=\"rc\" css={{ mt: '2.625rem', alignItems: 'stretch', '@md': { alignItems: 'center' } }}>\r\n          <Section css={{ mb: '3rem', '@md': { mb: 0 } }}>\r\n            <Text size=\"large\" color=\"white\" weight=\"medium\" css={{ mb: '0.5rem' }} responsive=\"large\">\r\n              {/* <span>{lang.t('tvl')}: </span>\r\n              {base.tvl ? (\r\n                <CountUp\r\n                  end={base.tvl}\r\n                  duration={1}\r\n                  decimals={2}\r\n                  preserveValue\r\n                  formattingFn={(e) => `$${e.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}`}\r\n                />\r\n              ) : (\r\n                '...'\r\n              )} */}\r\n            </Text>\r\n            <Text size=\"medium\" color=\"light\" responsive=\"large\">\r\n              <span>{lang.t('token.price')}: $</span>\r\n              <CountUp end={base.m87PriceUSD.format} duration={1} decimals={10} preserveValue />\r\n            </Text>\r\n          </Section>\r\n          <Section>\r\n            {/* <FlexBox justify=\"end\" css={{ mb: '0.4rem' }} onClick={(e) => god.addCYCToMetamask()}>\r\n              <Text size=\"small\" color=\"light\" hover=\"light\" cursor=\"pointer\">\r\n                {lang.t('add.metamask')}\r\n              </Text>\r\n              <Icon src=\"/images/home/metamask_logo.png\" css={{ marginLeft: '0.8rem' }} alt=\"\" />\r\n            </FlexBox> */}\r\n            <a href={god.currentNetwork.chains[1].swapURL} target=\"_blank\">\r\n              <FlexBox justify=\"end\">\r\n                <Text size=\"small\" color=\"light\" hover=\"light\" cursor=\"pointer\">\r\n                  {lang.t('add.to', { target: god.currentNetwork.chains[1].swapName })}\r\n                </Text>\r\n                <Icon src={`/images/home/${god.currentNetwork.chains[1].swapName.toLowerCase()}.png`} css={{ marginLeft: '0.8rem' }} alt=\"\" />\r\n              </FlexBox>\r\n            </a>\r\n          </Section>\r\n        </FlexBox>\r\n      </Wrapper>\r\n    </article>\r\n  );\r\n});\r\n\r\nconst styles = {\r\n  homeTop: css({\r\n    padding: '1.5rem 0 0 0'\r\n  }),\r\n  miniLine: css({\r\n    width: '100px',\r\n    height: 1,\r\n    backgroundColor: '$primary',\r\n    marginTop: '1.5rem'\r\n  })\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useStore } from '../../store';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Wrapper, Text, FlexBox, Icon, Section, Button } from '../../modules/globalStyle';\r\nimport { styled } from '../../modules/index';\r\n\r\nconst langGroups = {\r\n\ten: { name: 'EN', src: '/images/EN.png', text: 'en' },\r\n\tru: { name: 'RU', src: '/images/RU.png', text: 'ru' },\r\n\tzh_CN: { name: 'CN', src: '/images/CN.png', text: 'zh_CN' },\r\n};\r\n\r\nexport const LinksLanguage = observer(() => {\r\n\tconst { lang } = useStore();\r\n\tconst store = useLocalStore(() => ({\r\n\t\tget curLang() {\r\n\t\t\tif (!langGroups[lang.lang]) return langGroups.en;\r\n\t\t\treturn langGroups[lang.lang];\r\n\t\t},\r\n\t}));\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"https://messier.gitbook.io/catalogue-de-messier/horizon\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t<img src=\"images/home/gitbook.png\" className=\"logo\" alt=\"\" />\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"https://twitter.com/MessierM87\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t<img src=\"images/home/twitter.png\" className=\"logo\" alt=\"\" />\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"https://t.me/MessierM87Community\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t<img src=\"images/home/tele.png\" className=\"logo\" alt=\"\" />\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"https://github.com/MessierM87/Horizon\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t<img src=\"images/home/github.png\" className=\"logo\" alt=\"\" />\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"https://medium.com/@MessierM87\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t<img src=\"images/home/medium.png\" className=\"logo\" alt=\"\" />\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<div className=\"line\"></div>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<LangSelect>\r\n\t\t\t\t\t<div className=\"langList\">\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t{Object.values(langGroups).map((item) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tclassName={item.text === lang.lang ? 'active' : ''}\r\n\t\t\t\t\t\t\t\t\t\tkey={item.name}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => lang.setLang(item.text)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img src={item.src} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t<span>{item.name}</span>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img className=\"cityIcon\" src={store.curLang.src} alt=\"\" />\r\n\t\t\t\t</LangSelect>\r\n\t\t\t</li>\r\n\t\t</Container>\r\n\t);\r\n});\r\n\r\n\r\n\r\nconst Container = styled('article', {\r\n\tdisplay: 'flex',\r\n\talignItems: 'flex-end',\r\n\tlistStyleType: 'none',\r\n\tpadding: 0,\r\n\tmargin: '0 0 2rem 0',\r\n\t'@md': {\r\n\t\tmarginBottom: 0,\r\n\t},\r\n\tli: {\r\n\t\tmarginRight: 8,\r\n\t\tcursor: 'pointer',\r\n\t\t'&:last-child': {\r\n\t\t\tmarginRight: 0,\r\n\t\t},\r\n\t\t'.line': {\r\n\t\t\theight: '1.5rem',\r\n\t\t\twidth: '1px',\r\n\t\t\tbackgroundColor: '#FF7518',\r\n\t\t\tmarginLeft: 5,\r\n\t\t\tmarginRight: 5,\r\n\t\t},\r\n\t\timg: {\r\n\t\t\twidth: '1.5rem',\r\n\t\t\theight: '1.5rem',\r\n\t\t\tborderRadius: '50%',\r\n\t\t},\r\n\t},\r\n\r\n});\r\n\r\nconst LangSelect = styled('div', {\r\n\tposition: 'relative',\r\n\t'.cityIcon': {\r\n\t\twidth: '1.5rem',\r\n\t\theight: '1.5rem',\r\n\t\tborderRadius: '50%',\r\n\t\tcursor: 'pointer',\r\n\t},\r\n\tul: {\r\n\t\tlistStyleType: 'none',\r\n\t\twidth: '64px',\r\n\t\ttextAlign: 'left',\r\n\t\tpadding: 0,\r\n\t\tmargin: 0,\r\n\t\tdisplay: 'none',\r\n\t\tli: {\r\n\t\t\twidth: '100%',\r\n\t\t\tboxSizing: 'border-box',\r\n\t\t\tpadding: '6px 10px',\r\n\t\t\tfontSize: '12px',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tcursor: 'pointer',\r\n\t\t\tcolor: '#fff',\r\n\t\t\timg: {\r\n\t\t\t\twidth: '22px',\r\n\t\t\t\theight: '22px',\r\n\t\t\t\tmarginRight: '7px',\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: '$primary',\r\n\t\t\t\tcolor: '#000',\r\n\t\t\t},\r\n\t\t},\r\n\t\t'.active': {\r\n\t\t\tbackground: '$primary',\r\n\t\t\tcolor: '#000',\r\n\t\t},\r\n\t},\r\n\t'.langList': {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 0,\r\n\t\tleft: '0',\r\n\t\tpaddingBottom: '26px',\r\n\t\twidth: '64px',\r\n\t\theight: '1.5rem',\r\n\t\t'&:hover': {\r\n\t\t\theight: 140,\r\n\t\t\ttop: '-112px',\r\n\t\t\tul: {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tbackgroundColor: '$bg1',\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n})","import React, { useState } from 'react';\r\nimport { useStore } from '../../store';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { Wrapper, Text, FlexBox, Icon, Section, Button } from '../../modules/globalStyle';\r\nimport { styled } from '../../modules/index';\r\nimport { LinksLanguage } from '../LinksLanguage';\r\n\r\nconst langGroups = {\r\n  en: { name: 'EN', src: '/images/EN.png', text: 'en' },\r\n  ru: { name: 'RU', src: '/images/RU.png', text: 'ru' },\r\n  zh_CN: { name: 'CN', src: '/images/CN.png', text: 'zh_CN' }\r\n};\r\n\r\nexport const CycFooter = observer(() => {\r\n  const { lang, god, base } = useStore();\r\n\r\n  return (\r\n    <FooterBox>\r\n      <Wrapper>\r\n        <FlexBox justify=\"between\" responsive=\"rc\" css={{ alignItems: 'center', '@md': { alignItems: 'start' } }}>\r\n          <LinksLanguage />\r\n          <FlexBox justify=\"end\" direction=\"column\" items=\"end\">\r\n            <FlexBox css={{ mb: '0.5rem', cursor: 'pointer' }}>\r\n              <a href={'https://etherscan.io/address/' + god.CYCToken.address} target=\"_blank\">\r\n                <Text size=\"mini\" color=\"white\" cursor=\"pointer\">\r\n                  {lang.t('cyc.token.contract')}: {god.CYCToken.address}\r\n                </Text>\r\n              </a>\r\n              <Section css={{ width: 1, height: 12, backgroundColor: '#FF7518', mx: '0.8rem' }} />\r\n              <Icon src=\"/images/home/metamask_logo.png\" alt=\"\" onClick={(e) => god.addCYCToMetamask()} />\r\n            </FlexBox>\r\n            <FlexBox>\r\n              <FlexBox>\r\n                <Text size=\"mini\" color=\"white\">\r\n                  {lang.t('token.price')}\r\n                </Text>\r\n                <Text size=\"mini\" color=\"primary\" cursor=\"pointer\" css={{ textDecoration: 'underline' }}>\r\n                  $ {base.m87PriceUSD.getFormat({decimals: 18, fixed: 9})}\r\n                </Text>\r\n              </FlexBox>\r\n              <Section css={{ width: 1, height: 12, backgroundColor: '#FF7518', mx: '0.8rem' }} />\r\n              <a href={god.currentNetwork.chains[1].swapURL} target=\"_blank\">\r\n                <Icon src={`/images/home/${god.currentNetwork.chains[1].swapName.toLowerCase()}.png`} alt=\"\" />\r\n              </a>\r\n            </FlexBox>\r\n          </FlexBox>\r\n        </FlexBox>\r\n      </Wrapper>\r\n    </FooterBox>\r\n  );\r\n});\r\n\r\nconst FooterBox = styled('article', {\r\n  backgroundColor: '$bg2',\r\n  padding: '2rem 0',\r\n  '@md': {\r\n    padding: '2.75rem 0 1.875rem 0'\r\n  }\r\n});\r\n","import React, { useState } from 'react';\r\nimport { styled } from '../../modules/index';\r\nimport { FlexBox, Icon, Text } from '../../modules/globalStyle';\r\n\r\ninterface IComponentProps {\r\n  content?: any,\r\n  title?: string,\r\n  size?: any,\r\n  visible?: any,\r\n  close?: any\r\n}\r\n\r\nconst Dialog = styled('div', {\r\n  position: 'absolute',\r\n  variants: {\r\n    status: {\r\n      show: {\r\n        display: 'block'\r\n      },\r\n      hide: {\r\n        display: 'none'\r\n      }\r\n    }\r\n  },\r\n})\r\n\r\nconst ModalMask = styled('div', {\r\n  position: 'fixed',\r\n  top: 0,\r\n  left: 0,\r\n  zIndex: 999,\r\n  width: '100%',\r\n  height: '100%',\r\n  backgroundColor: '$bg6'\r\n})\r\n\r\nconst ModalWrap = styled('div', {\r\n  position: 'fixed',\r\n  top: 0,\r\n  left: 0,\r\n  zIndex: 1001,\r\n  width: '100%',\r\n  height: '100%',\r\n  outline: 'none',\r\n  overflow: 'auto',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n})\r\n\r\nconst Modal = styled('div', {\r\n  padding: '1rem',\r\n  backgroundColor: '$bg7',\r\n  textAlign: 'center',\r\n  '@md': {\r\n    padding: '1.5rem 3rem 3rem 3rem',\r\n  },\r\n  variants: {\r\n    size: {\r\n      base: {\r\n        px: '1.5rem',\r\n        borderRadius: '10px',\r\n        width: '90%',\r\n        '@md': {\r\n          width: '399px'\r\n        }\r\n      },\r\n      small: {\r\n        px: '2rem',\r\n        width: '90%',\r\n        '@md': {\r\n          width: '550px'\r\n        }\r\n      },\r\n      md: {\r\n        px: '1.5rem',\r\n        width: '90%',\r\n        '@md': {\r\n          width: '550px'\r\n        }\r\n      },\r\n      medium: {\r\n        width: '90%',\r\n        '@md': {\r\n          width: '700px'\r\n        }\r\n      },\r\n      auto: {\r\n        backgroundColor: 'transparent',\r\n        width: '90%',\r\n        '@md': {\r\n          width: 'auto'\r\n        }\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\nexport const DialogWrapper = (props: IComponentProps) => {\r\n  const { title, content, size, visible, close } = props\r\n  return (\r\n    <Dialog status={visible ? 'show' : 'hide'}>\r\n      <ModalMask />\r\n      <ModalWrap>\r\n        <Modal size={size}>\r\n          {title && <FlexBox justify=\"between\" css={{ mb: '1.5rem' }}>\r\n            <Text size=\"small\" color=\"white\" weight=\"semibold\">{title}</Text>\r\n            <Icon\r\n              onClick={close}\r\n              src=\"/images/home/delete_button_n.png\"\r\n              css={{\r\n                '&:hover': {\r\n                  content: 'url(\"/images/home/delete_button_s.png\")'\r\n                }\r\n              }} alt=\"\" />\r\n          </FlexBox>}\r\n          {content}\r\n        </Modal>\r\n      </ModalWrap>\r\n    </Dialog>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { styled } from '../../modules/index';\r\nimport { Icon, Text, FlexBox, TextArea, Button } from '../../modules/globalStyle';\r\nimport { DialogWrapper } from '../Dialog/index';\r\nimport { useLocalStore, observer } from 'mobx-react-lite';\r\nimport { useStore } from '../../store/index';\r\n\r\ninterface IComponentProps {\r\n  visible?: boolean;\r\n  text?: string;\r\n  showConfirm?: boolean;\r\n  showCancel?: boolean;\r\n  showLoading?: boolean;\r\n  confirmText?: string;\r\n  close?: Function;\r\n  onConfirm?: Function;\r\n  onCancel?: Function;\r\n}\r\n\r\nexport const OnLoading = observer((props: IComponentProps) => {\r\n  const { lang } = useStore();\r\n  const { visible, text } = props;\r\n\r\n  const store = useLocalStore(() => ({\r\n    onConfirm() {\r\n      props.close();\r\n      props.onConfirm();\r\n    },\r\n    onCancel() {\r\n      props.close();\r\n      props.onCancel();\r\n    }\r\n  }));\r\n\r\n  const content = (\r\n    <article>\r\n      {props.showLoading && (\r\n        <svg width=\"80\" height=\"80\" viewBox=\"0 0 80 80\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path\r\n            d=\"M39.5488 16.0156C52.6496 16.0156 63.2616 26.7487 63.2616 39.999C63.2616 53.2494 52.6496 63.9824 39.5488 63.9824C26.4479 63.9824 15.8359 53.2494 15.8359 39.999\"\r\n            stroke=\"#38DCD5\"\r\n            strokeWidth=\"6\"\r\n            strokeMiterlimit=\"10\"\r\n            strokeLinecap=\"square\"\r\n          >\r\n            <animateTransform attributeName=\"transform\" begin=\"0s\" dur=\"1s\" type=\"rotate\" from=\"0 40 40\" to=\"360 40 40\" repeatCount=\"indefinite\" />\r\n          </path>\r\n          <path\r\n            d=\"M51.3651 40.001C51.3651 46.6123 46.0865 51.9512 39.5498 51.9512C33.013 51.9512 27.7344 46.6123 27.7344 40.001C27.7344 33.3896 33.013 28.0508 39.5498 28.0508\"\r\n            stroke=\"#38DCD5\"\r\n            strokeWidth=\"6\"\r\n            strokeMiterlimit=\"10\"\r\n          >\r\n            <animateTransform attributeName=\"transform\" begin=\"0s\" dur=\"1s\" type=\"rotate\" from=\"0 40 40\" to=\"360 40 40\" repeatCount=\"indefinite\" />\r\n          </path>\r\n          <path\r\n            d=\"M74.9969 40C74.9969 59.8064 59.1337 75.8506 39.5508 75.8506\"\r\n            stroke=\"#38DCD5\"\r\n            strokeWidth=\"6\"\r\n            strokeMiterlimit=\"10\"\r\n            strokeLinecap=\"square\"\r\n          />\r\n          <path\r\n            d=\"M4.10156 39.9991C4.10156 20.1927 19.9648 4.14844 39.5477 4.14844\"\r\n            stroke=\"#38DCD5\"\r\n            strokeWidth=\"6\"\r\n            strokeMiterlimit=\"10\"\r\n            strokeLinecap=\"square\"\r\n          />\r\n          <path d=\"M39.5508 4.14844H74.9969\" stroke=\"#38DCD5\" strokeWidth=\"6\" strokeMiterlimit=\"10\" />\r\n          <path d=\"M39.5477 75.8516H4.10156\" stroke=\"#38DCD5\" strokeWidth=\"6\" strokeMiterlimit=\"10\" />\r\n        </svg>\r\n      )}\r\n\r\n      <Text size=\"lg\" color=\"primary\" weight=\"medium\" css={{ my: '1rem' }} align=\"center\">\r\n        {text}\r\n      </Text>\r\n\r\n      <FlexBox justify=\"center\">\r\n        {props.showConfirm && (\r\n          <Button size=\"medium\" color=\"primary\" onClick={store.onConfirm}>\r\n            {props.confirmText || (props.showLoading ? lang.t('Confirm') : lang.t('Okay'))}\r\n          </Button>\r\n        )}\r\n        {props.showCancel && (\r\n          <Button size=\"medium\" color=\"primary\" css={{ ml: '1rem' }} onClick={store.onCancel}>\r\n            Cancel\r\n          </Button>\r\n        )}\r\n      </FlexBox>\r\n    </article>\r\n  );\r\n  return <DialogWrapper size=\"auto\" content={content} visible={visible} />;\r\n});\r\n","import React from 'react';\r\nimport { styled } from '../../modules/index';\r\nimport { Icon, Text, FlexBox, Button, Section } from '../../modules/globalStyle';\r\nimport { DialogWrapper } from '../Dialog/index';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { useStore } from '../../store/index';\r\nimport { message } from 'antd';\r\nimport { eventBus } from '../../lib/event';\r\nimport copy from 'copy-to-clipboard';\r\n\r\nexport const WalletInfo = observer(() => {\r\n  const { god, lang } = useStore();\r\n\r\n  const store = useLocalStore(() => ({\r\n    get visible() {\r\n      return god.currentNetwork.walletInfo.visible;\r\n    },\r\n    close() {\r\n      god.currentNetwork.walletInfo.visible = false;\r\n    },\r\n    copyMyaddress() {\r\n      copy(god.myAddress);\r\n      message.success(lang.t('address.copied'));\r\n    },\r\n    copyAccount() {\r\n      copy(god.currentNetwork.account);\r\n      message.success(lang.t('address.copied'));\r\n    },\r\n    copyKey() {\r\n      copy(god.myPrivteKey);\r\n      message.success(lang.t('key.copied'));\r\n    },\r\n    logout() {\r\n      god.isRegistered = false;\r\n      god.myAddress = null;\r\n      eventBus.emit('wallet.logout');\r\n      store.close();\r\n    }\r\n  }));\r\n\r\n  const content = (\r\n    <Section>\r\n\r\n      <Text size=\"md\" color=\"white\" css={{ mb: '1.5rem' }}>\r\n        {lang.t('shielded.wallet')}\r\n      </Text>\r\n      <Text size=\"small\" color=\"white\" css={{ padding: '1.125rem 1rem', backgroundColor: '$bg3', wordBreak: 'break-all' }}>\r\n        {' '}\r\n        {god.myAddress}{' '}\r\n      </Text>\r\n      <FlexBox css={{ mt: '1.125rem', mb: '3rem' }}>\r\n        <Icon src=\"/images/home/icon_copy_bold.png\" alt=\"\" css={{ width: '0.875rem', mr: '0.6rem', '@md': { width: '1.5rem' } }}></Icon>\r\n        <Text size=\"small\" color=\"primary\" cursor=\"pointer\" onClick={store.copyKey} css={{ textDecoration: 'underline' }} responsive=\"md\">\r\n          {lang.t('copy.key')}\r\n        </Text>\r\n        <Icon src=\"/images/home/icon_copy_bold.png\" alt=\"\" css={{ width: '0.875rem', ml: '2rem', mr: '0.6rem', '@md': { width: '1.5rem' } }}></Icon>\r\n        <Text size=\"small\" color=\"primary\" cursor=\"pointer\" onClick={store.copyMyaddress} css={{ textDecoration: 'underline' }} responsive=\"md\">\r\n          {lang.t('copy.address')}\r\n        </Text>\r\n      </FlexBox>\r\n\r\n      {\r\n        god.currentNetwork.account &&\r\n          <>\r\n            <Text size=\"md\" color=\"white\" css={{ mb: '1.5rem' }}>\r\n              {lang.t('connected.wallet')}\r\n            </Text>\r\n            <Text size=\"small\" color=\"white\" css={{ padding: '1.125rem 1rem', backgroundColor: '$bg3', wordBreak: 'break-all' }}>\r\n            {' '}\r\n            {god.currentNetwork.account}{' '}\r\n          </Text>\r\n          <FlexBox css={{ mt: '1.125rem', mb: '3rem' }}>\r\n            <Icon src=\"/images/home/icon_bscscan.png\" alt=\"\" css={{ width: '0.875rem', mr: '0.6rem', '@md': { width: '1.5rem' } }}></Icon>\r\n            <a href={god.currentChain.explorerURL + '/address/' + god.currentNetwork.account} target=\"_blank\">\r\n              <Text size=\"small\" color=\"primary\" cursor=\"pointer\" css={{ textDecoration: 'underline' }} responsive=\"md\">\r\n                {lang.t('view.on')} {god.currentChain.explorerName}\r\n              </Text>\r\n            </a>\r\n            <Icon src=\"/images/home/icon_copy_bold.png\" alt=\"\" css={{ width: '0.875rem', ml: '2rem', mr: '0.6rem', '@md': { width: '1.5rem' } }}></Icon>\r\n            <Text size=\"small\" color=\"primary\" cursor=\"pointer\" onClick={store.copyAccount} css={{ textDecoration: 'underline' }} responsive=\"md\">\r\n              {lang.t('copy.address')}\r\n            </Text>\r\n          </FlexBox>\r\n        </>\r\n      }\r\n\r\n      <FlexBox justify=\"center\">\r\n        <Button size=\"small\" color=\"primary\" onClick={store.logout} responsive=\"lg\">\r\n          {lang.t('LOGOUT')}\r\n        </Button>\r\n      </FlexBox>\r\n    </Section>\r\n  );\r\n  return <DialogWrapper title=\" \" size=\"md\" content={content} visible={store.visible} close={store.close} />;\r\n});\r\n","import React, { useState } from 'react';\r\nimport { styled } from '../../modules/index';\r\nimport { Icon, Text, FlexBox, TextArea, Button, Section } from '../../modules/globalStyle';\r\nimport { DialogWrapper } from '../Dialog/index';\r\nimport { useStore } from '../../store';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { message } from 'antd';\r\nimport copy from 'copy-to-clipboard';\r\ninterface IComponentProps {\r\n  visible?: boolean;\r\n  close?: any;\r\n  note?: any;\r\n  onConfirm?: Function;\r\n  onCancel?: Function;\r\n}\r\n\r\nconst NoteBox = styled('div', {\r\n  backgroundColor: '$bg3',\r\n  p: '1rem'\r\n});\r\n\r\nexport const CheckNote = observer((props: IComponentProps) => {\r\n  const { lang, god } = useStore();\r\n  const { visible, close } = props;\r\n  const store = useLocalStore(\r\n    (props) => ({\r\n      invalid: false,\r\n      keyConfirm: '',\r\n      copy(data) {\r\n        copy(data);\r\n        message.success(lang.t('check.note.copied'));\r\n      },\r\n      get isConfirm() {\r\n        return store.keyConfirm != '';\r\n      },\r\n      async onConfirm() {\r\n        god.isRegistered = false;\r\n        god.setLoadingText(lang.t('horizon.connect'));\r\n        god.setLoadingView(true);\r\n        const { invalid } = await god.checkPrivateKey(store.keyConfirm);\r\n        store.invalid = !god.isRegistered;\r\n        if(!store.invalid) {\r\n          god.setLoadingText(lang.t('Loading.text9'));\r\n          await Promise.all(god.currentChain.poolList.map( async (pool) => {\r\n            await god.checkCommitmentAndNullifer(pool);\r\n          }));\r\n          god.loginType = \"key\";\r\n          props.onConfirm();\r\n        }\r\n        god.setLoadingView(false);\r\n      }\r\n    }),\r\n    props\r\n  );\r\n\r\n  const content = (\r\n    <Section>\r\n      {\r\n        store.invalid &&\r\n        <Text size=\"md\" color=\"warning\" css={{ mb: '1.2rem' }}>\r\n          {lang.t('backup.red')}\r\n        </Text>\r\n      }\r\n      <div>\r\n        <Text size=\"md\" color=\"white\" css={{ mb: '1.5rem' }}>\r\n          {lang.t('check.ky.textarea')}\r\n        </Text>\r\n\r\n        <TextArea value={store.keyConfirm} css={{ mb: '2rem' }} onChange={(e) => (store.keyConfirm = e.target.value)} />\r\n\r\n        <div style={{display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>\r\n          <Button disabled={!store.isConfirm} style={{width: '48%'}} onClick={(e) => store.onConfirm()} color=\"primary\" responsive=\"large\">\r\n            {lang.t('confirm')}\r\n          </Button>\r\n          <Button style={{width: '48%'}} onClick={(e) => props.onConfirm()} color=\"primary\" responsive=\"large\">\r\n            {lang.t('Cancel')}\r\n          </Button>\r\n        </div>\r\n        \r\n      </div>\r\n    </Section>\r\n  );\r\n  return <DialogWrapper title={lang.t('shielded.key')} size=\"medium\" content={content} visible={visible} close={close} />;\r\n});\r\n","import React from 'react';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { FlexBox, Text, BorderBox, Section } from '../../modules/globalStyle';\r\nimport { useStore } from '../../store/index';\r\nimport { styled } from '../../modules';\r\n\r\nconst SwitchItem = styled('div', {\r\n  width: 24,\r\n  height: 24,\r\n  lineHeight: '24px',\r\n  cursor: 'pointer',\r\n  '.name': {\r\n    textAlign: 'center'\r\n  },\r\n  variants: {\r\n    bg: {\r\n      active: {\r\n        backgroundColor: '$primaryOpacity'\r\n      },\r\n      normal: {\r\n        backgroundColor: 'transparent'\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nexport const LpMiningHeader = observer(() => {\r\n  const { lang, setting, god } = useStore();\r\n  const store = useLocalStore(() => ({\r\n    toggleSwtich() {\r\n      setting.approveMax.save(!setting.approveMax.value);\r\n    }\r\n  }));\r\n  return (\r\n    <Section>\r\n      <BorderBox css={{ padding: '0 0 0.4rem 0' }}>\r\n        <FlexBox justify=\"between\">\r\n          <Text size=\"small\" color=\"white\" cursor=\"none\" weight=\"medium\" css={{ width: 190, '@md': { width: '32%' } }}>\r\n            {lang.t('anonymity_pools')}\r\n          </Text>\r\n          {/* <Text size=\"small\" color=\"white\" cursor=\"none\" weight=\"medium\" css={{ flex: 1, textAlign: 'right' }}>\r\n            {god.currentChain.chainId == 1 ? lang.t('total.apy') + ' / ' + lang.t('daily.apr') : ''}\r\n          </Text> */}\r\n          <FlexBox css={{ width: 'max-content', '@md': { width: '40%' } }} justify=\"end\">\r\n            {/* <Text size=\"small\" color=\"white\" cursor=\"none\" weight=\"medium\" css={{ display: 'none', '@md': { display: 'block' } }}>\r\n              {lang.t('tvl')}\r\n            </Text> */}\r\n            <Section css={{ width: '1rem', ml: '1rem', '@md': { width: '1.375rem', ml: '1.5rem' } }} />\r\n          </FlexBox>\r\n        </FlexBox>\r\n      </BorderBox>\r\n    </Section>\r\n  );\r\n});\r\n","import React, { useEffect, useState } from 'react';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { Wrapper, Icon, FlexBox, Text, BorderBox, Button, Section, DropBox } from '../../../modules/globalStyle';\r\nimport { useStore } from '../../../store';\r\nimport { LpMiningHeader } from '../../../components/LpMiningHeader';\r\nimport { DepositViewForBSC } from '../../../components/DepositViewForBSC';\r\nimport axios from 'axios';\r\nimport { generateTxData } from '../../../store/lib/GetLog';\r\nimport { JsonRpcProvider } from '@ethersproject/providers';\r\nimport { hooks } from '../../../lib/hooks';\r\n\r\nexport const Deposit = observer((props) => {\r\n  const { lang, god, dev, base } = useStore();\r\n\r\n  const store = useLocalStore(() => ({\r\n    isTransactionSent: false,\r\n    confirmedBlocks: 0\r\n  }));\r\n\r\n  useEffect(() => {\r\n    if(store.isTransactionSent) {\r\n      god.setLoadingText(lang.t('confirm.block', {num: store.confirmedBlocks, total: god.currentChain.L1FinalizationRate}));\r\n    }\r\n  }, [store.confirmedBlocks]);\r\n\r\n  return (\r\n    <div style={{ display: props.isChosen? 'block' : 'none' }}>\r\n    <Wrapper>\r\n      <LpMiningHeader />\r\n      {/* {god.AeolusV2 && <LpMining aeolus={god.AeolusV2} />} */}\r\n      {/* <LpMining aeolus={god.Aeolus} /> */}\r\n      {/* <div style={store.isShowDetail1 ? {background: '#0000006e'} : {}}>\r\n        <TokenTab\r\n          tokenSymbol={god.currentChain.Coin.symbol}\r\n          tabName={god.currentChain.Coin.symbol}\r\n          onSelectTab={() => {\r\n            if (!god.isOnProgress && god.isPublicInfoLoaded && god.isPrivateInfoLoaded)\r\n              store.isShowDetail1 = !store.isShowDetail1;\r\n          }}\r\n          isShowDetail={store.isShowDetail1}\r\n        />\r\n      </div> */}\r\n      {\r\n        god.currentChain.poolList.map((pool) => {\r\n          return god.currentPoolIndex && <DepositViewForBSC\r\n            indexOfPool={pool.id}\r\n            chainID={god.currentChain.chainId}\r\n            onApproveXRC={ async (token, value)=> {\r\n              try {\r\n                await god.approve({token, spender: god.currentChain.L1Helper.address, value})\r\n              } catch (error) {\r\n                  throw new Error(\"Error while approving\");\r\n              }\r\n            }}\r\n            onDeposit={async (depositAmount) => {\r\n              god.setLoadingText(lang.t('Loading.text4'));\r\n              god.setLoadingView(true);\r\n              \r\n              let response = await axios.post(god.CurrentSet.relayer + '/v1/getProofData', { amount: depositAmount.toString(), key: god.myPrivteKey });\r\n              let res = response.data;\r\n              const {args, extData} = res;\r\n\r\n              console.log('depositAmount.toString()', depositAmount.toString());\r\n              console.log('args', args);\r\n              console.log('extData', extData);\r\n\r\n              const txData = generateTxData(args, extData);\r\n\r\n              god.setLoadingText(lang.t('send.transaction'));\r\n\r\n              let txInstance;\r\n              try {\r\n                txInstance = await god.deposit({amount: depositAmount, data: txData});\r\n                store.isTransactionSent = true;\r\n              } catch (error) {\r\n                god.setLoadingView(false);\r\n                store.isTransactionSent = false;\r\n                throw new Error(\"Error while depositing\");\r\n              }\r\n\r\n              const provider = new JsonRpcProvider(god.currentChain.rpcUrl);\r\n\r\n              const handler = async (blockNumber) => {\r\n                console.log(blockNumber);\r\n                let receipt = await provider.getTransactionReceipt(txInstance.hash);\r\n                if(receipt)\r\n                  store.confirmedBlocks = receipt.confirmations;\r\n                else\r\n                  store.confirmedBlocks = 0;\r\n              }\r\n\r\n              provider.on(\"block\", handler);\r\n              \r\n              await txInstance.wait(god.currentChain.L1FinalizationRate ).then((receipt) => {\r\n                store.isTransactionSent = false;\r\n                provider.removeListener(\"block\", handler);\r\n                god.setLoadingText(lang.t('send.bridge'));\r\n\r\n                let L1MessageId;\r\n                console.log('receipt.logs', receipt.logs);\r\n                receipt.logs.map((log) => {\r\n                  if(log.topics.length) {\r\n                    if(log.topics[0] == god.currentChain.userRequestTopic)\r\n                    L1MessageId = log.topics[1];\r\n                  }\r\n                });\r\n                console.log('messageId', L1MessageId);\r\n\r\n                const gnosisProvider = new JsonRpcProvider(god.currentChain.gnosisRpcUrl);\r\n\r\n                const completionFilter = {\r\n                    address: god.currentChain.HomeAMB.address,\r\n                    topics: [god.currentChain.AffirmationCompletedTopic]\r\n                }\r\n                gnosisProvider.on(completionFilter, async (event) => {\r\n                  if ( event.topics[3] == L1MessageId ) {\r\n                    god.setLoadingText(lang.t('update.info'));\r\n                    if(!god.isRegistered) {\r\n                      await god.checkRegistration(god.myAddress);\r\n                    }\r\n                    await god.checkCommitmentAndNullifer(god.CurrentSet);\r\n                    god.setLoadingView(false);\r\n                    hooks.waitLoading({ msg: lang.t('notification'), confirmText: lang.t('deposit.success') });\r\n                  }\r\n                })\r\n\r\n              });\r\n            }}\r\n          />\r\n        })\r\n      } \r\n      {/* head */}\r\n    </Wrapper>\r\n    </div>\r\n  );\r\n});","import React, { useEffect, useState } from 'react';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { Wrapper, Icon, FlexBox, Text, BorderBox, Button, Section, DropBox } from '../../../modules/globalStyle';\r\nimport { useStore } from '../../../store';\r\nimport { LpMiningHeader } from '../../../components/LpMiningHeader';\r\nimport { WithdrawViewForETH } from '../../../components/WithdrawViewForETH';\r\nimport axios from 'axios';\r\nimport { getUserSignatureLog, getSignatures } from '../../../store/lib/GetLog';\r\nimport { JsonRpcProvider } from '@ethersproject/providers';\r\nimport { hooks } from '../../../lib/hooks';\r\nimport BigNumber from 'bignumber.js';\r\n\r\nlet withdrawStatusId, unwrapperStatusId;\r\nlet curStatusType;\r\nlet curSignBlockNumber;\r\n\r\nlet isSendingTx = false;\r\n\r\nexport const Withdraw = observer((props) => {\r\n  const { lang, god, dev, base } = useStore();\r\n\r\n  function getStatus(id, relayerURL, options) {\r\n    return new Promise((resolve) => {\r\n      async function getRelayerStatus() {\r\n\r\n        console.log('id', id);\r\n\r\n        console.log('curStatusType', curStatusType);\r\n        console.log('withdrawStatusId', withdrawStatusId);\r\n        console.log('unwrapperStatusId', unwrapperStatusId);\r\n        if(!isSendingTx)\r\n          return;\r\n        if(curStatusType == 'withdraw' && withdrawStatusId != id)\r\n          return;\r\n        if(curStatusType == 'unwrapper' && unwrapperStatusId != id)\r\n          return;\r\n        let responseStatus;\r\n        if(curStatusType == 'withdraw') {\r\n          responseStatus = await axios.get(relayerURL + '/v1/withdraw/jobs/' + id, options);\r\n        }\r\n        if(curStatusType == 'unwrapper') {\r\n          responseStatus = await axios.get(relayerURL + '/v1/unwrapper/jobs/' + id, options);\r\n        }\r\n        if (responseStatus.status === 200) {\r\n          const { txHash, status, confirmations, failedReason } = responseStatus.data;\r\n\r\n          if(curStatusType == 'withdraw') {\r\n            const msg = lang.t('viaRelayer1') + '#' + lang.t('confirm.block', {num: (confirmations ? confirmations: '0'), total: god.currentChain.L2FinalizationRate});\r\n            god.setLoadingText(msg);\r\n            // god.setLoadingText(`Transaction status ${status}, confirmations: ${confirmations ? confirmations: '0'}`);\r\n          }\r\n\r\n          if(curStatusType == 'unwrapper') {\r\n            const msg = lang.t('send.l1.tx') + '#' + lang.t('confirm.block', {num: (confirmations ? confirmations: '0'), total: 3});\r\n            god.setLoadingText(msg);\r\n            // god.setLoadingText(`Transaction status ${status}, confirmations: ${confirmations ? confirmations: '0'}`);\r\n          }\r\n          \r\n          console.log(`Current job status ${status}, confirmations: ${confirmations}`);\r\n  \r\n          if (status === 'FAILED') {\r\n            throw new Error(status + ' failed reason:' + failedReason);\r\n          }\r\n  \r\n          if (status === 'CONFIRMED') {\r\n            const receipt = await waitForTxReceipt({ txHash });\r\n            // console.log(\r\n            //   `Transaction submitted through the relay. View transaction on block explorer ${txHash}`\r\n            // );\r\n            // console.log('Transaction mined in block', receipt.blockNumber);\r\n            resolve(status);\r\n          }\r\n        }\r\n        if(curStatusType == 'withdraw' && !withdrawStatusId) {\r\n          return;\r\n        }\r\n        if(curStatusType == 'unwrapper' && !unwrapperStatusId) {\r\n          return;\r\n        }\r\n        setTimeout(() => {\r\n          getRelayerStatus(id, relayerURL);\r\n        }, 3000)\r\n      }\r\n  \r\n      getRelayerStatus();\r\n    })\r\n  }\r\n\r\n  function waitForTxReceipt({ txHash, attempts = 60, delay = 1000 }) {\r\n    console.log('txHash', txHash);\r\n    return new Promise((resolve, reject) => {\r\n      const checkForTx = async (txHash, retryAttempt = 0) => {\r\n        let provider;\r\n        if(curStatusType == 'withdraw') {\r\n          provider = new JsonRpcProvider(god.currentChain.gnosisRpcUrl);\r\n        }\r\n        if(curStatusType == 'unwrapper') {\r\n          provider = new JsonRpcProvider(god.currentChain.rpcUrl);\r\n        }\r\n        const result = await provider.getTransactionReceipt(txHash);\r\n        if(curStatusType == 'withdraw') {\r\n          curSignBlockNumber = result.blockNumber;\r\n        }\r\n        if (!result || !result.blockNumber) {\r\n          if (retryAttempt <= attempts) {\r\n            setTimeout(() => checkForTx(txHash, retryAttempt + 1), delay);\r\n          } else {\r\n            reject(new Error('tx was not mined'));\r\n          }\r\n        } else {\r\n          resolve(result);\r\n        }\r\n      }\r\n      checkForTx(txHash);\r\n    })\r\n}\r\n\r\n  const store = useLocalStore(() => ({\r\n    isTransactionSent: false,\r\n    confirmedBlocks: 0\r\n  }));\r\n\r\n  useEffect(() => {\r\n    if(store.isTransactionSent) {\r\n      god.setLoadingText(lang.t('confirm.block', {num: store.confirmedBlocks, total: god.currentChain.L1FinalizationRate}));\r\n    }\r\n  }, [store.confirmedBlocks]);\r\n\r\n  return (\r\n    <div style={{ display: props.isChosen? 'block' : 'none' }}>\r\n    <Wrapper>\r\n      <LpMiningHeader />\r\n      {/* {god.AeolusV2 && <LpMining aeolus={god.AeolusV2} />} */}\r\n      {/* <LpMining aeolus={god.Aeolus} /> */}\r\n      {/* <div style={store.isShowDetail1 ? {background: '#0000006e'} : {}}>\r\n        <TokenTab\r\n          tokenSymbol={god.currentChain.Coin.symbol}\r\n          tabName={god.currentChain.Coin.symbol}\r\n          onSelectTab={() => {\r\n            if (!god.isOnProgress && god.isPublicInfoLoaded && god.isPrivateInfoLoaded)\r\n              store.isShowDetail1 = !store.isShowDetail1;\r\n          }}\r\n          isShowDetail={store.isShowDetail1}\r\n        />\r\n      </div> */}\r\n      {\r\n        god.currentChain.poolList.map((pool) => {\r\n          return god.currentPoolIndex && <WithdrawViewForETH\r\n            indexOfPool={pool.id}\r\n            chainID={god.currentChain.chainId}\r\n            onDeposit={async (depositAmount, feeAmount, recipient, L1feeAmount) => {\r\n\r\n            let idx = 0;\r\n\r\n            let sumBalance = new BigNumber(0);\r\n            let inputCommitments = [];\r\n            let myUtxoArr = god.CurrentSet.utxoList;\r\n\r\n            console.log('myUtxoArr', myUtxoArr);\r\n            myUtxoArr.map((utxo) => {\r\n              console.log(utxo.amount.toString());\r\n            })\r\n\r\n            while(sumBalance.comparedTo(depositAmount) < 0) {\r\n              if(myUtxoArr[idx].amount.gt(0)) {\r\n                sumBalance = sumBalance.plus(myUtxoArr[idx].amount);\r\n                inputCommitments.push(myUtxoArr[idx].commitment);\r\n              }\r\n              idx ++;\r\n            }\r\n\r\n            const restAmount = sumBalance.minus(depositAmount);\r\n            \r\n            let outputData = [];\r\n\r\n            if(restAmount.gt(0)) {\r\n              outputData.push({amount: restAmount, pubKey: god.myPublicKey});\r\n            }\r\n\r\n            god.setLoadingText(lang.t('Loading.text4'));\r\n            god.setLoadingView(true);\r\n\r\n            withdrawStatusId = undefined;\r\n            const relayerStatus = await axios.get(god.CurrentSet.relayer + '/v1/statusWithdraw');\r\n            const { relayer } = relayerStatus.data;\r\n            console.log('inputCommitments', inputCommitments);\r\n            console.log('outputData', outputData);\r\n            console.log('relayer', relayer);\r\n\r\n            let response;\r\n\r\n            response = await axios.post(god.CurrentSet.relayer + '/v1/submitWithdrawTX', {input: inputCommitments, output: outputData, key: god.myPrivteKey, fee: feeAmount.toString(), recipient: recipient, l1fee: L1feeAmount.toString(), relayer: relayer}, {});\r\n            \r\n            god.setLoadingText(lang.t('viaRelayer1'));\r\n\r\n            const withdrawTxId = response.data.id;\r\n            withdrawStatusId = withdrawTxId;\r\n            isSendingTx = true;\r\n            console.log(withdrawStatusId, 'withdrawStatusId');\r\n            curStatusType = 'withdraw';\r\n            await getStatus(withdrawTxId, god.CurrentSet.relayer, {});\r\n            withdrawStatusId = undefined;\r\n            isSendingTx = false;\r\n\r\n            god.setLoadingText(lang.t('send.l1.tx'));\r\n            const encodedData = await getUserSignatureLog(god.currentChain.HomeAMB, god.currentChain.gnosisRpcUrl, curSignBlockNumber);\r\n            console.log('encodedData', encodedData);\r\n\r\n            const signatures = await getSignatures(god.currentChain.AMBBridgeHelper, god.currentChain.gnosisRpcUrl, encodedData);\r\n\r\n            console.log('signatures', signatures);\r\n            if(!signatures)\r\n              return;\r\n            \r\n            response = await axios.post(god.CurrentSet.relayer + '/v1/submitUnwrapperTx', {msg: encodedData, signatures: signatures}, {});\r\n\r\n            const unwrapperTxId = response.data.id;\r\n            unwrapperStatusId = unwrapperTxId;\r\n            isSendingTx = true;\r\n            curStatusType = 'unwrapper';\r\n            await getStatus(unwrapperTxId, god.CurrentSet.relayer, {});\r\n            unwrapperStatusId = undefined;\r\n            isSendingTx = false;\r\n\r\n            god.setLoadingText(lang.t('update.info'));\r\n            await god.checkCommitmentAndNullifer(god.CurrentSet);\r\n\r\n            myUtxoArr = god.CurrentSet.utxoList;\r\n\r\n            console.log('myUtxoArr', myUtxoArr);\r\n            myUtxoArr.map((utxo) => {\r\n              console.log(utxo.amount.toString());\r\n            })\r\n\r\n            god.setLoadingView(false);\r\n\r\n            hooks.waitLoading({ msg: lang.t('notification'), confirmText: lang.t('withdraw.success') });\r\n\r\n            // response = await axios.post(god.CurrentSet.relayer + '/v1/getProofData', { amount: depositAmount.toString(), key: privateKey });\r\n            // res = response.data;\r\n            // const {args, extData} = res;\r\n\r\n            // console.log('args', args);\r\n            // console.log('extData', extData);\r\n\r\n            // txData = await generateTxData(ETHMainnetConfig.HorizonPool, ETHMainnetConfig.gnosisRpcUrl, ETHMainnetConfig.BridgeToken, args, extData, depositAmount);\r\n              \r\n            //   god.setLoadingText(lang.t('Loading.text4'));\r\n            //   god.setLoadingView(true);\r\n              \r\n            //   let response = await axios.post(god.CurrentSet.relayer + '/v1/getProofData', { amount: depositAmount.toString(), key: god.myPrivteKey });\r\n            //   let res = response.data;\r\n            //   const {args, extData} = res;\r\n\r\n            //   console.log('depositAmount.toString()', depositAmount.toString());\r\n            //   console.log('args', args);\r\n            //   console.log('extData', extData);\r\n\r\n            //   const txData = generateTxData(args, extData);\r\n\r\n            //   god.setLoadingText(lang.t('send.transaction'));\r\n\r\n            //   let txInstance;\r\n            //   try {\r\n            //     txInstance = await god.deposit({amount: depositAmount, data: txData});\r\n            //     store.isTransactionSent = true;\r\n            //   } catch (error) {\r\n            //     god.setLoadingView(false);\r\n            //     store.isTransactionSent = false;\r\n            //     throw new Error(\"Error while depositing\");\r\n            //   }\r\n\r\n            //   const provider = new JsonRpcProvider(god.currentChain.rpcUrl);\r\n\r\n            //   const handler = async (blockNumber) => {\r\n            //     console.log(blockNumber);\r\n            //     let receipt = await provider.getTransactionReceipt(txInstance.hash);\r\n            //     if(receipt)\r\n            //       store.confirmedBlocks = receipt.confirmations;\r\n            //     else\r\n            //       store.confirmedBlocks = 0;\r\n            //   }\r\n\r\n            //   provider.on(\"block\", handler);\r\n              \r\n            //   await txInstance.wait(god.currentChain.L1FinalizationRate ).then((receipt) => {\r\n            //     store.isTransactionSent = false;\r\n            //     provider.removeListener(\"block\", handler);\r\n            //     god.setLoadingText(lang.t('send.bridge'));\r\n\r\n            //     let L1MessageId;\r\n            //     console.log('receipt.logs', receipt.logs);\r\n            //     receipt.logs.map((log) => {\r\n            //       if(log.topics.length) {\r\n            //         if(log.topics[0] == god.currentChain.userRequestTopic)\r\n            //         L1MessageId = log.topics[1];\r\n            //       }\r\n            //     });\r\n            //     console.log('messageId', L1MessageId);\r\n\r\n            //     const gnosisProvider = new JsonRpcProvider(god.currentChain.gnosisRpcUrl);\r\n\r\n            //     const completionFilter = {\r\n            //         address: god.currentChain.HomeAMB.address,\r\n            //         topics: [god.currentChain.AffirmationCompletedTopic]\r\n            //     }\r\n            //     gnosisProvider.on(completionFilter, async (event) => {\r\n            //       if ( event.topics[3] == L1MessageId ) {\r\n            //         god.setLoadingText(lang.t('update.info'));\r\n            //         if(!god.isRegistered) {\r\n            //           await god.checkRegistration(god.myAddress);\r\n            //         }\r\n            //         await god.checkCommitmentAndNullifer();\r\n            //         god.setLoadingView(false);\r\n            //         hooks.waitLoading({ msg: lang.t('notification'), confirmText: lang.t('deposit.success') });\r\n            //       }\r\n            //     })\r\n\r\n            //   });\r\n            }}\r\n          />\r\n        })\r\n      } \r\n      {/* head */}\r\n    </Wrapper>\r\n    </div>\r\n  );\r\n});\r\n","import isMobile from 'ismobilejs';\r\nconst Utility = {\r\n\tisInMobile: function () {\r\n\t\treturn isMobile(navigator.userAgent).any\r\n\t},\r\n\tisIoPayMobile: function () {\r\n\t\treturn navigator.userAgent && (navigator.userAgent.includes(\"IoPayAndroid\") || navigator.userAgent.includes(\"IoPayiOs\"));\r\n\t},\r\n\r\n\ttoFixString: function (str, length) {\r\n\t\tif (str && str.length > length) {\r\n\t\t\treturn str.substr(0, length) + '...'\r\n\t\t} else {\r\n\t\t\treturn str\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Utility\r\n","import { observer } from 'mobx-react-lite';\r\nimport React from 'react';\r\n\r\nexport const TextButton = observer((props) => {\r\n  return (\r\n    <a\r\n      href={props.url}\r\n      target=\"_blank\"\r\n      rel=\"noopener noreferrer\"\r\n      onClick={props.onClick}\r\n      className=\"textButton\"\r\n      style={{ fontSize: props.small ? '14px' : 'none', display: 'block' }}\r\n    >\r\n      {props.text}\r\n    </a>\r\n  );\r\n});\r\n\r\nexport default TextButton;\r\n","import BigNumber from 'bignumber.js';\r\nimport React, { useEffect } from 'react';\r\nimport Utility from '../Utility';\r\nimport { toast } from 'react-toastify';\r\nimport TextButton from './TextButton';\r\nimport { useStore } from '../store';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { InfoCircleOutlined } from '@ant-design/icons';\r\nimport { Popconfirm } from 'antd';\r\nimport axios from 'axios';\r\n\r\nlet clipboardy = null;\r\n\r\nexport const TransactionRecord = observer(props => {\r\n  const { lang, base, god: pageStore } = useStore();\r\n  const store = useLocalStore(\r\n    props => ({\r\n      formatAmount(str) {\r\n        return new BigNumber(str)\r\n          .dividedBy(Math.pow(10, 18))\r\n          .toFixed(6)\r\n          .toString();\r\n      },\r\n\r\n      onClickRemoveButton(id) {\r\n        // console.log(id);\r\n        props.removeTransactionRecord(id);\r\n      },\r\n\r\n      onClickCopyButton(id) {\r\n        if (clipboardy) {\r\n          clipboardy.value = props.data[id].note;\r\n          clipboardy.focus();\r\n          clipboardy.select();\r\n          const result = document.execCommand('copy');\r\n          if (result === 'unsuccessful') {\r\n            console.error(lang.t('check.note.fail'));\r\n          } else {\r\n            toast.dark(lang.t('check.note.copied'), {\r\n              position: 'bottom-center',\r\n              autoClose: 3000,\r\n              hideProgressBar: true,\r\n              closeOnClick: false,\r\n              pauseOnHover: false,\r\n              draggable: false,\r\n              progress: undefined\r\n            });\r\n          }\r\n        }\r\n      },\r\n\r\n      showStatus(idOfStatus) {\r\n        switch (idOfStatus) {\r\n          case 0:\r\n            return lang.t('waiting.for.receipt');\r\n\r\n          case 1:\r\n            return lang.t('Deposited');\r\n\r\n          case 2:\r\n            return lang.t('Sending');\r\n\r\n          case 3:\r\n            return lang.t('Spent');\r\n        }\r\n      },\r\n    }),\r\n    props,\r\n  );\r\n  useEffect(() => {\r\n    let deposits = [];\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.post(pageStore.CurrentSet.relayer + '/v1/getNumofSubsequents', deposits, {});\r\n        const { result } = response.data;\r\n        // console.log('result', result);\r\n        props.data.map((deposit, index) => {\r\n          deposit.subsequent = result[index];\r\n        });\r\n      } catch(error) {\r\n        // console.log('error');\r\n        throw new Error(\"Error\");\r\n      };\r\n    }\r\n        \r\n    if(props.data && props.data.length > 0) {\r\n      props.data.map((deposit) => {\r\n        deposits.push({id: deposit.amountCoin, commitment: deposit.commitment});\r\n      });\r\n      // console.log('deposits', deposits);\r\n      fetchData()\r\n    }\r\n\t}, [props.data])\r\n \r\n    return (\r\n    <>\r\n      {props.data && props.data.length > 0 && (\r\n        <div style={{display: 'flex', justifyContent: 'center'}}>\r\n          <div className=\"borderedView\" style={{ overflowX: 'auto', width: '90%', height: '100%', maxWidth: '942px', marginTop: '-30px' }}>\r\n            <div className=\"table\">\r\n              <div className=\"tr box boxheader-tx\">\r\n                <div className=\"td\">\r\n                  {lang.t('time.passed')}\r\n                </div>\r\n\r\n                {/* {God.isBSC && <div className=\"td\">{lang.t('Pool')}</div>} */}\r\n\r\n                <div className=\"td\">\r\n                  {lang.t('amount')}\r\n                </div>\r\n              \r\n                <div className=\"td\">\r\n                  {lang.t('subsequent.deposits')}\r\n                </div>\r\n               \r\n\r\n                <div className=\"td\">{lang.t('tx.hash')}</div>\r\n                <div className=\"td\" style={{ display: 'flex', alignItems: 'center' }}>\r\n                  <InfoCircleOutlined data-tip=\"status-tips\" data-for=\"status-tips\" style={{ marginRight: '2px' }} />\r\n                  <ReactTooltip\r\n                    place=\"top\"\r\n                    type=\"warning\"\r\n                    id=\"status-tips\"\r\n                    effect=\"solid\"\r\n                    backgroundColor=\"#45bcb8\"\r\n                    delayHide={500}\r\n                  >\r\n                    {lang.t('status_warning')}\r\n                  </ReactTooltip>\r\n                  {lang.t('status')}\r\n                </div>\r\n              </div>\r\n\r\n              {props.data.map((item, index) => (\r\n                <div className=\"tr box box-tx\" key={item.txHash} >\r\n                  <div className=\"td\" style={{padding: 0, display: 'flex', width: '135px'}}>\r\n                    <div className='headerBar'></div>\r\n                    <div style={{padding: '20px 0px 20px 10px'}}>{item.createTime && base.timeAgo.format(new Date(item.createTime))}</div>\r\n                  </div>\r\n\r\n                  <div className=\"td\">\r\n                    <div> { item.tokenSymbol ? item.amountToken + ' ' + item.tokenSymbol : item.amountCoin + ' ' + pageStore.currentChain.Coin.symbol} </div>\r\n                  </div> \r\n\r\n                  <div className=\"td\">\r\n                    {item.subsequent > 0 ? item.subsequent : 'no'}&nbsp;{lang.t('deposits')}\r\n                  </div>\r\n\r\n                  <div className=\"td\">\r\n                    <a\r\n                      href={\r\n                        `${pageStore.currentChain.explorerURL}/tx/` + item.txHash\r\n                      }\r\n                      className=\"colorfulA\"\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                    >\r\n                      {Utility.toFixString(item.txHash, 10)}\r\n                    </a>\r\n                  </div>\r\n                  <div className=\"td\">{store.showStatus(item.status)}</div>\r\n                  <div className=\"td\" style={{padding: '20px 0px 20px 0px'}}>\r\n                    <button\r\n                      onClick={() => {\r\n                        store.onClickCopyButton(index);\r\n                      }}\r\n                      className=\"imageButton\"\r\n                      style={{\r\n                        backgroundColor: 'rgb(108, 222, 212)',\r\n                        color: 'black',\r\n                        borderRadius: '5px',\r\n                        fontWeight: 'bold',\r\n                        display: 'flex',\r\n                        flexDirection: 'row'\r\n                      }}\r\n                    >\r\n                      <img src=\"/images/copyicon.png\" alt=\"Copy Button\" />\r\n                      <span>{lang.t('note')}&nbsp;</span>\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"td\" style={{padding: '20px 0px 20px 0px'}}>\r\n                    <Popconfirm title={lang.t('note.delte.confirm')} onConfirm={() => {\r\n                      store.onClickRemoveButton(index);\r\n                      }}>\r\n                      <button id={index} className=\"imageButton\">\r\n                        <img src=\"/images/closeicon.png\" alt=\"Remove Button\" />\r\n                      </button>\r\n                    </Popconfirm>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <input\r\n        ref={node => (clipboardy = node)}\r\n        style={{\r\n          width: '1px',\r\n          height: '1px',\r\n          border: 'none',\r\n          backgroundColor: 'transparent',\r\n          padding: 0,\r\n          fontSize: '3px'\r\n        }}\r\n        defaultValue={props.note}\r\n      />\r\n    </>\r\n  );\r\n});\r\n\r\nexport default TransactionRecord;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { useStore } from '../../../store';\r\n\r\nimport { TransactionRecord } from '../../../components/TransactionRecord';\r\n\r\n\r\nexport const TransactionLog = observer((props) => {\r\n  const { transaction, god } = useStore();\r\n  \r\n  return (\r\n    <div style={{ display: props.isChosen? 'block' : 'none' }}>\r\n      {\r\n        god.isPublicInfoLoaded && god.isPrivateInfoLoaded &&\r\n          <TransactionRecord\r\n              data = { transaction.currentTransactions }\r\n              removeTransactionRecord = {(id) => {\r\n                // console.log('id', id);\r\n                // console.log('transaction.currentTransactions[id]', transaction.currentTransactions[id]);\r\n                transaction.removeTransaction(transaction.currentTransactions[id]);\r\n              }}\r\n          />\r\n      }\r\n    </div>\r\n  );\r\n});\r\n","import React, { useEffect, useState } from 'react';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { Wrapper, Icon, FlexBox, Text, BorderBox, Button, Section, DropBox } from '../../../modules/globalStyle';\r\nimport { useStore } from '../../../store';\r\nimport { LpMiningHeader } from '../../../components/LpMiningHeader';\r\nimport { TransferView } from '../../../components/TransferView';\r\nimport axios from 'axios';\r\nimport { generateTxData } from '../../../store/lib/GetLog';\r\nimport { JsonRpcProvider } from '@ethersproject/providers';\r\nimport { hooks } from '../../../lib/hooks';\r\nimport BigNumber from 'bignumber.js';\r\n\r\nlet currentStatusId = null;\r\n\r\nexport const Transfer = observer((props) => {\r\n  const { lang, god, dev, base } = useStore();\r\n\r\n  function getStatus(id, relayerURL, options) {\r\n    return new Promise((resolve) => {\r\n      async function getRelayerStatus() {\r\n        if( currentStatusId != id || !currentStatusId)\r\n          return;\r\n        const responseStatus = await axios.get(relayerURL + '/v1/transfer/jobs/' + id, options);\r\n  \r\n        if (responseStatus.status === 200) {\r\n          const { txHash, status, confirmations, failedReason } = responseStatus.data;\r\n\r\n          const msg = lang.t('viaRelayer1') + '#' + lang.t('confirm.block', {num: (confirmations ? confirmations: '0'), total: 3});\r\n          god.setLoadingText(msg);\r\n\r\n          // god.setLoadingText(`Transaction status ${status}, confirmations: ${confirmations ? confirmations: '0'}`);\r\n          \r\n          // console.log(`Current job status ${status}, confirmations: ${confirmations}`);\r\n  \r\n          if (status === 'FAILED') {\r\n            throw new Error(status + ' failed reason:' + failedReason);\r\n          }\r\n  \r\n          if (status === 'CONFIRMED') {\r\n            const receipt = await waitForTxReceipt({ txHash });\r\n            // console.log(\r\n            //   `Transaction submitted through the relay. View transaction on block explorer ${txHash}`\r\n            // );\r\n            // console.log('Transaction mined in block', receipt.blockNumber);\r\n            resolve(status);\r\n          }\r\n        }\r\n  \r\n        setTimeout(() => {\r\n          getRelayerStatus(id, relayerURL);\r\n        }, 3000)\r\n      }\r\n  \r\n      getRelayerStatus();\r\n    })\r\n  }\r\n\r\n  function waitForTxReceipt({ txHash, attempts = 60, delay = 1000 }) {\r\n    return new Promise((resolve, reject) => {\r\n      const checkForTx = async (txHash, retryAttempt = 0) => {\r\n        let provider = new JsonRpcProvider(god.currentChain.gnosisRpcUrl);\r\n        const result = await provider.getTransactionReceipt(txHash);\r\n        if (!result || !result.blockNumber) {\r\n          if (retryAttempt <= attempts) {\r\n            setTimeout(() => checkForTx(txHash, retryAttempt + 1), delay);\r\n          } else {\r\n            reject(new Error('tx was not mined'));\r\n          }\r\n        } else {\r\n          resolve(result);\r\n        }\r\n      }\r\n      checkForTx(txHash);\r\n    })\r\n}\r\n\r\n  const store = useLocalStore(() => ({\r\n    isTransactionSent: false,\r\n    confirmedBlocks: 0\r\n  }));\r\n\r\n  useEffect(() => {\r\n    if(store.isTransactionSent) {\r\n      god.setLoadingText(lang.t('confirm.block', {num: store.confirmedBlocks, total: god.currentChain.L1FinalizationRate}));\r\n    }\r\n  }, [store.confirmedBlocks]);\r\n\r\n  return (\r\n    <div style={{ display: props.isChosen? 'block' : 'none' }}>\r\n    <Wrapper>\r\n      <LpMiningHeader />\r\n      {/* {god.AeolusV2 && <LpMining aeolus={god.AeolusV2} />} */}\r\n      {/* <LpMining aeolus={god.Aeolus} /> */}\r\n      {/* <div style={store.isShowDetail1 ? {background: '#0000006e'} : {}}>\r\n        <TokenTab\r\n          tokenSymbol={god.currentChain.Coin.symbol}\r\n          tabName={god.currentChain.Coin.symbol}\r\n          onSelectTab={() => {\r\n            if (!god.isOnProgress && god.isPublicInfoLoaded && god.isPrivateInfoLoaded)\r\n              store.isShowDetail1 = !store.isShowDetail1;\r\n          }}\r\n          isShowDetail={store.isShowDetail1}\r\n        />\r\n      </div> */}\r\n      {\r\n        god.currentChain.poolList.map((pool) => {\r\n          return god.currentPoolIndex && <TransferView\r\n            indexOfPool={pool.id}\r\n            chainID={god.currentChain.chainId}\r\n            onDeposit={async (depositAmount, recipientPubKey, feeAmount) => {\r\n\r\n            let idx = 0;\r\n\r\n            let sumBalance = new BigNumber(0);\r\n            let inputCommitments = [];\r\n            let myUtxoArr = god.CurrentSet.utxoList;\r\n\r\n            console.log('myUtxoArr', myUtxoArr);\r\n            myUtxoArr.map((utxo) => {\r\n              console.log(utxo.amount.toString());\r\n            })\r\n\r\n            while(sumBalance.comparedTo(depositAmount) < 0) {\r\n              if(myUtxoArr[idx].amount.gt(0)) {\r\n                sumBalance = sumBalance.plus(myUtxoArr[idx].amount);\r\n                inputCommitments.push(myUtxoArr[idx].commitment);\r\n              }\r\n              idx ++;\r\n            }\r\n\r\n            const restAmount = sumBalance.minus(depositAmount);\r\n\r\n            let outputData = [];\r\n\r\n            if(restAmount.gt(0)) {\r\n              outputData.push({amount: restAmount, pubKey: god.myPublicKey});\r\n            }\r\n\r\n            const transferAmount = depositAmount.minus(feeAmount);\r\n            outputData.push({amount: transferAmount, pubKey: recipientPubKey});\r\n\r\n            god.setLoadingText(lang.t('Loading.text4'));\r\n            god.setLoadingView(true);\r\n\r\n            currentStatusId = undefined;\r\n            const relayerStatus = await axios.get(god.CurrentSet.relayer + '/v1/statusTransfer');\r\n            const { relayer } = relayerStatus.data;\r\n            console.log('inputCommitments', inputCommitments);\r\n            console.log('outputData', outputData);\r\n            console.log('relayer', relayer);\r\n            const response = await axios.post(god.CurrentSet.relayer + '/v1/submitTransferTX', {input: inputCommitments, output: outputData, key: god.myPrivteKey, fee: feeAmount.toString(), relayer: relayer}, {});\r\n\r\n            god.setLoadingText(lang.t('viaRelayer1'));\r\n\r\n            const { id } = response.data;\r\n            currentStatusId = id;\r\n            await getStatus(id, god.CurrentSet.relayer, {});\r\n\r\n            currentStatusId = undefined;\r\n\r\n            god.setLoadingText(lang.t('update.info'));\r\n            await god.checkCommitmentAndNullifer(god.CurrentSet);\r\n\r\n            myUtxoArr = god.CurrentSet.utxoList;\r\n\r\n            console.log('myUtxoArr', myUtxoArr);\r\n            myUtxoArr.map((utxo) => {\r\n              console.log(utxo.amount.toString());\r\n            })\r\n\r\n            god.setLoadingView(false);\r\n\r\n            hooks.waitLoading({ msg: lang.t('notification'), confirmText: lang.t('transfer.success') });\r\n\r\n            // response = await axios.post(god.CurrentSet.relayer + '/v1/getProofData', { amount: depositAmount.toString(), key: privateKey });\r\n            // res = response.data;\r\n            // const {args, extData} = res;\r\n\r\n            // console.log('args', args);\r\n            // console.log('extData', extData);\r\n\r\n            // txData = await generateTxData(ETHMainnetConfig.HorizonPool, ETHMainnetConfig.gnosisRpcUrl, ETHMainnetConfig.BridgeToken, args, extData, depositAmount);\r\n              \r\n            //   god.setLoadingText(lang.t('Loading.text4'));\r\n            //   god.setLoadingView(true);\r\n              \r\n            //   let response = await axios.post(god.CurrentSet.relayer + '/v1/getProofData', { amount: depositAmount.toString(), key: god.myPrivteKey });\r\n            //   let res = response.data;\r\n            //   const {args, extData} = res;\r\n\r\n            //   console.log('depositAmount.toString()', depositAmount.toString());\r\n            //   console.log('args', args);\r\n            //   console.log('extData', extData);\r\n\r\n            //   const txData = generateTxData(args, extData);\r\n\r\n            //   god.setLoadingText(lang.t('send.transaction'));\r\n\r\n            //   let txInstance;\r\n            //   try {\r\n            //     txInstance = await god.deposit({amount: depositAmount, data: txData});\r\n            //     store.isTransactionSent = true;\r\n            //   } catch (error) {\r\n            //     god.setLoadingView(false);\r\n            //     store.isTransactionSent = false;\r\n            //     throw new Error(\"Error while depositing\");\r\n            //   }\r\n\r\n            //   const provider = new JsonRpcProvider(god.currentChain.rpcUrl);\r\n\r\n            //   const handler = async (blockNumber) => {\r\n            //     console.log(blockNumber);\r\n            //     let receipt = await provider.getTransactionReceipt(txInstance.hash);\r\n            //     if(receipt)\r\n            //       store.confirmedBlocks = receipt.confirmations;\r\n            //     else\r\n            //       store.confirmedBlocks = 0;\r\n            //   }\r\n\r\n            //   provider.on(\"block\", handler);\r\n              \r\n            //   await txInstance.wait(god.currentChain.L1FinalizationRate ).then((receipt) => {\r\n            //     store.isTransactionSent = false;\r\n            //     provider.removeListener(\"block\", handler);\r\n            //     god.setLoadingText(lang.t('send.bridge'));\r\n\r\n            //     let L1MessageId;\r\n            //     console.log('receipt.logs', receipt.logs);\r\n            //     receipt.logs.map((log) => {\r\n            //       if(log.topics.length) {\r\n            //         if(log.topics[0] == god.currentChain.userRequestTopic)\r\n            //         L1MessageId = log.topics[1];\r\n            //       }\r\n            //     });\r\n            //     console.log('messageId', L1MessageId);\r\n\r\n            //     const gnosisProvider = new JsonRpcProvider(god.currentChain.gnosisRpcUrl);\r\n\r\n            //     const completionFilter = {\r\n            //         address: god.currentChain.HomeAMB.address,\r\n            //         topics: [god.currentChain.AffirmationCompletedTopic]\r\n            //     }\r\n            //     gnosisProvider.on(completionFilter, async (event) => {\r\n            //       if ( event.topics[3] == L1MessageId ) {\r\n            //         god.setLoadingText(lang.t('update.info'));\r\n            //         if(!god.isRegistered) {\r\n            //           await god.checkRegistration(god.myAddress);\r\n            //         }\r\n            //         await god.checkCommitmentAndNullifer();\r\n            //         god.setLoadingView(false);\r\n            //         hooks.waitLoading({ msg: lang.t('notification'), confirmText: lang.t('deposit.success') });\r\n            //       }\r\n            //     })\r\n\r\n            //   });\r\n            }}\r\n          />\r\n        })\r\n      } \r\n      {/* head */}\r\n    </Wrapper>\r\n    </div>\r\n  );\r\n});\r\n","import React, { useEffect, useState } from 'react';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { Wrapper, Button, FlexBox, Text, antdPopoverStyle, Icon } from '../../modules/globalStyle';\r\nimport { css, styled } from '../../modules/index';\r\nimport { HomeTop } from './Top/index';\r\nimport { CycFooter } from '../../components/CycFooter';\r\nimport { OnLoading } from '../../components/OnLoading/index';\r\nimport { useStore } from '../../store';\r\nimport { eventBus } from '../../lib/event';\r\nimport { WalletInfo } from '../../components/WalletInfo';\r\nimport { CheckNote } from '../../components/CheckNote';\r\nimport { Deposit } from './Deposit/index';\r\nimport { Withdraw } from './Withdraw/index';\r\nimport { TransactionLog } from './TransactionRecord/index';\r\nimport { Badge } from 'antd';\r\nimport { Transfer } from './Transfer/index';\r\nimport Popover from '@mui/material/Popover';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst SwitchItem = styled('div', {\r\n  width: 24,\r\n  height: 24,\r\n  lineHeight: '24px',\r\n  cursor: 'pointer',\r\n  '.name': {\r\n    textAlign: 'center'\r\n  },\r\n  variants: {\r\n    bg: {\r\n      active: {\r\n        backgroundColor: '$primaryOpacity'\r\n      },\r\n      normal: {\r\n        backgroundColor: 'transparent'\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nexport const HomePage = observer(() => {\r\n  antdPopoverStyle();\r\n  const { lang, base, transaction, setting } = useStore();\r\n  const [tabKey, setTabKey] = useState(1);\r\n  \r\n  const store = useLocalStore(() => ({\r\n    anchorEl: null,\r\n    curSelectedId: 0,\r\n\r\n    get tabConfig() {\r\n      return [\r\n        { name: lang.t('Deposit'), id: 1 },\r\n        { name: lang.t('Transfer'), id: 2 },\r\n        { name: lang.t('Withdraw'), id: 3 },\r\n\r\n        // { name: lang.t('note'), id: 3, count: transaction.currentTransactions.length }\r\n      ];\r\n    },\r\n\r\n    get open() {\r\n      return Boolean(this.anchorEl);\r\n    },\r\n\r\n    toggleSwtich() {\r\n      setting.approveMax.save(!setting.approveMax.value);\r\n    },\r\n\r\n    setAnchorEl(element) {\r\n      this.anchorEl = element;\r\n    },\r\n\r\n    handlePopoverOpen (event) {\r\n      this.curSelectedId = event.currentTarget.getAttribute('id');\r\n      this.setAnchorEl(event.currentTarget);\r\n    },\r\n\r\n    handlePopoverClose () {\r\n      this.setAnchorEl(null);\r\n    },\r\n\r\n  }));\r\n\r\n  return (\r\n    <div\r\n      className={styles.home.className}\r\n      style={{ overflow: base.pendingPool.visible ? 'hidden' : 'auto', height: base.pendingPool.visible ? '100vh' : 'auto' }}\r\n    >\r\n      {/* top header content */}\r\n      <HomeTop />\r\n\r\n      <article className={styles.homeContent.className} style={{ flex: 1 }}>\r\n        {/* Deposit  Withdraw  Note*/}\r\n        <Wrapper css={{ mt: '2.5rem', mb: '3.75rem', '@md': { mb: '4rem' } }}>\r\n          <FlexBox justify=\"between\" responsive=\"rc\" css={{ alignItems: 'stretch', '@md': { alignItems: 'center' } }}>\r\n            <FlexBox css={{ mb: '2.5rem', '@md': { mb: 0 } }}>\r\n              {store.tabConfig.map((item) => {\r\n                return (\r\n                  <div>\r\n                    <Button\r\n                      key={item.name}\r\n                      id={item.id}\r\n                      size=\"medium\"\r\n                      responsive=\"medium\"\r\n                      color={tabKey == item.id ? 'active' : 'normal'}\r\n                      onClick={() => setTabKey(item.id)}\r\n                      onMouseEnter={store.handlePopoverOpen}\r\n                      onMouseLeave={store.handlePopoverClose}\r\n                    >\r\n                      <span>{item.name} </span>\r\n                      {item.count > 0 && <span>({item.count})</span>}\r\n                    </Button>\r\n                    \r\n                    <Popover\r\n                      id=\"mouse-over-popover\"\r\n                      color='primary'\r\n                      sx={{\r\n                        pointerEvents: 'none',\r\n                        widht: '100%',\r\n                        maxWidth: store.curSelectedId == 1 ? '1000px' : (store.curSelectedId == 2 ? '1200px' : '1400px')\r\n                      }}\r\n                      open={store.open}\r\n                      anchorEl={store.anchorEl}\r\n                      anchorOrigin={{\r\n                        vertical: 'bottom',\r\n                        horizontal: 'left',\r\n                      }}\r\n                      transformOrigin={{\r\n                        vertical: 'top',\r\n                        horizontal: 'left',\r\n                      }}\r\n                      onClose={store.handlePopoverClose}\r\n                      disableRestoreFocus\r\n                    >\r\n                      <Typography color='white' style={{backgroundColor: '#121212'}} sx={{ p: 1 }}>{\r\n\r\n                        store.curSelectedId == 1 ? lang.t('deposit.note') : (store.curSelectedId == 2 ? lang.t('transfer.note') : lang.t('withdraw.note'))\r\n\r\n                      }</Typography>\r\n                    </Popover>\r\n                  </div>\r\n                );\r\n              })}\r\n            </FlexBox>\r\n            <FlexBox justify=\"end\" items=\"center\" css={{ mb: '3rem', paddingTop: '50px' }}>\r\n              <Text size=\"small\" color=\"light\" cursor=\"none\" align=\"right\">\r\n                {lang.t('use.max.approve')}\r\n              </Text>\r\n              <FlexBox justify=\"between\" css={{ border: '1px solid $borderPrimary', width: '54px', height: '28px', ml: '1rem', px: '1px' }}>\r\n                <SwitchItem bg={setting.approveMax.value ? 'active' : 'normal'} onClick={store.toggleSwtich}>\r\n                  <Text color={setting.approveMax.value ? 'primary' : 'light'} size=\"mini\" className=\"name\" cursor=\"pointer\">\r\n                    On\r\n                  </Text>\r\n                </SwitchItem>\r\n                <SwitchItem bg={setting.approveMax.value ? 'normal' : 'active'} onClick={store.toggleSwtich}>\r\n                  <Text color={setting.approveMax.value ? 'light' : 'primary'} size=\"mini\" className=\"name\" cursor=\"pointer\">\r\n                    Off\r\n                  </Text>\r\n                </SwitchItem>\r\n              </FlexBox>\r\n            </FlexBox>\r\n            {/* <FlexBox items=\"start\" css={{ justifyContent: 'flex-end', '@md': { justifyContent: 'flex-start' } }}>\r\n              <Text size=\"small\" color=\"primary\" cursor=\"none\" align=\"right\">\r\n                {lang.t('yourIp')}: {base.ip} <br /> {base.geo}\r\n              </Text>\r\n              <Popover\r\n                placement=\"top\"\r\n                trigger=\"hover\"\r\n                content={\r\n                  <Text size=\"md\" color=\"white\" css={{ width: 200 }}>\r\n                    {lang.t('yout.ip.tips')}\r\n                  </Text>\r\n                }\r\n              >\r\n                <Icon src=\"/images/home/info_icon.png\" css={{ ml: '0.8rem' }} />\r\n              </Popover>\r\n            </FlexBox> */}\r\n          </FlexBox>\r\n        </Wrapper>\r\n\r\n        {/* chain tab */}\r\n        {/* <ChainNav /> */}\r\n\r\n       <Deposit isChosen={tabKey == 1} /> \r\n       <Transfer isChosen={tabKey == 2} />\r\n       <Withdraw isChosen={tabKey == 3} />\r\n\r\n        {/* onLoading */}\r\n        <OnLoading\r\n          visible={base.loading.visible}\r\n          confirmText={base.loading.confirmText}\r\n          showLoading={base.loading.showLoading}\r\n          showConfirm={base.loading.showConfirm}\r\n          text={base.loading.msg}\r\n          showCancel={base.loading.showCancel}\r\n          close={() => base.closeLoading()}\r\n          onConfirm={() => eventBus.emit('loading.confirm')}\r\n          onCancel={() => eventBus.emit('loading.cancel')}\r\n        />\r\n        {base.pendingPool.visible && (\r\n          <CheckNote\r\n            visible={base.pendingPool.visible}\r\n            note={base.pendingPool.note}\r\n            close={() => eventBus.emit('pendingPool.cacel')}\r\n            onConfirm={() => eventBus.emit('pendingPool.confirm')}\r\n            onCancel={() => eventBus.emit('pendingPool.cacel')}\r\n          />\r\n        )}\r\n        {/* WaleltInfo */}\r\n        <WalletInfo />\r\n      </article>\r\n      <CycFooter />\r\n    </div>\r\n  );\r\n});\r\n\r\nconst styles = {\r\n  home: css({\r\n    minHeight: '100vh',\r\n    backgroundImage: `url(/images/home/backgroundImage.png)`,\r\n    fontFamily: 'IBM Plex Sans',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    'position': 'relative',\r\n    'background-repeat': 'repeat',\r\n    'background-position': '50% 50%',\r\n    'background-size': 'cover',\r\n  }),\r\n  homeContent: css({\r\n    padding: '0 0 10rem 0'\r\n  })\r\n};\r\n","import React from 'react';\r\nimport { styled } from '../../modules/index';\r\nimport { Icon, Text, FlexBox } from '../../modules/globalStyle';\r\nimport { DialogWrapper } from '../Dialog/index';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { useStore } from '../../store/index';\r\nimport { injectedConnector, walletconnectConnector } from '../../lib/web3-react-bsc';\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { isMobile } from \"react-device-detect\";\r\nimport { hooks } from '../../lib/hooks';\r\n\r\nconst WalletBox = styled('div', {\r\n  padding: '1.5rem 0 0.5rem 0',\r\n  borderTop: '1px solid $borderPrimary',\r\n  borderBottom: '1px solid $borderPrimary'\r\n});\r\n\r\nconst WalletItem = styled('div', {\r\n  backgroundColor: '$bg1',\r\n  p: '1rem',\r\n  mb: '1rem'\r\n});\r\n\r\nfunction getIsMetaMask(): boolean {\r\n  return window.ethereum?.isMetaMask ?? false\r\n}\r\n\r\nfunction getIsMetaMaskBrowser(): boolean {\r\n  return isMobile && getIsMetaMask();\r\n}\r\n\r\nexport const EthConnectWallet = observer(() => {\r\n  const { god, lang } = useStore();\r\n  const { activate, error, deactivate } = useWeb3React();\r\n\r\n  const store = useLocalStore(() => ({\r\n    get visible() {\r\n      return god.eth.connector.showConnector;\r\n    },\r\n    close() {\r\n      god.eth.connector.showConnector = false;\r\n    },\r\n    connectInejct() {\r\n      activate(injectedConnector);\r\n      god.eth.connector.latestProvider.save('inject');\r\n    },\r\n    connectWalletConnect() {\r\n      activate(walletconnectConnector);\r\n      god.eth.connector.latestProvider.save('walletconnect');\r\n    },\r\n    connectWithKey() {\r\n      this.close();\r\n      hooks.waitPendingPool();\r\n    },\r\n  }));\r\n\r\n  const content = (\r\n    <WalletBox>\r\n      { ( !isMobile || getIsMetaMaskBrowser() ) &&\r\n        <WalletItem onClick={store.connectInejct} css={{ cursor: 'pointer' }} >\r\n          <FlexBox justify=\"between\" >\r\n            <Text size=\"small\" weight=\"semibold\" color=\"white\" css={{ cursor: 'pointer' }}>\r\n              {lang.t('metamask')}\r\n            </Text>\r\n            <Icon src=\"/images/metamask.svg\"></Icon>\r\n          </FlexBox>\r\n        </WalletItem>\r\n      }\r\n      { \r\n      <WalletItem onClick={store.connectWithKey} css={{ cursor: 'pointer' }}  >\r\n        <FlexBox justify=\"between\" >\r\n          <Text size=\"small\" weight=\"semibold\" color=\"white\" css={{ cursor: 'pointer' }}>\r\n            {lang.t('shielded.key')}\r\n          </Text>\r\n          <Icon src=\"/images/key.svg\"></Icon>\r\n        </FlexBox>\r\n      </WalletItem>\r\n      }\r\n    </WalletBox>\r\n  );\r\n  return <DialogWrapper title={lang.t('connect.to.wallet')} size=\"base\" content={content} visible={store.visible} close={store.close} />;\r\n});","import React, { useEffect } from 'react';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { HomePage } from '.';\r\nimport { Provider } from '@iotexproject/ethers-multicall';\r\nimport { useStore } from '../../store/index';\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { injectedConnector, walletconnectConnector } from '../../lib/web3-react-bsc';\r\nimport { EthConnectWallet } from '../../components/EthConnectWallet';\r\nimport { eventBus } from '../../lib/event';\r\nimport { metamaskUtils } from '../../utils/metamaskUtils';\r\nimport { Web3Provider } from '@ethersproject/providers';\r\nimport { ETHMainnetConfig } from '../../config/ETHMainConfig';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { ethers } from 'ethers';\r\nimport axios from 'axios';\r\nimport { getKeypairLog, getCommitmentAndNullifierLog, generateTxData, getUserSignatureLog, getSignatures } from '../../store/lib/GetLog';\r\nimport BigNumber from 'bignumber.js';\r\nimport ModalView from '../../components/ModalView';\r\nimport Loading from '../../components/Loading';\r\nimport { hooks } from '../../lib/hooks';\r\n\r\nexport const Mainnet = observer(() => {\r\n  const { god, base, lang } = useStore();\r\n  const { chainId, account, activate, active, library, deactivate } = useWeb3React<Web3Provider>();\r\n  const history = useHistory();\r\n\r\n  const store = useLocalStore(() => ({\r\n    logout() {\r\n      deactivate();\r\n      god.eth.connector.latestProvider.clear();\r\n      god.clearAccountInfo();\r\n\r\n      god.currentNetwork.account = null;\r\n    },\r\n    async generatePrivateKey(address) {\r\n      const msgParams = [\r\n        {\r\n          type: 'string',\r\n          name: 'Message',\r\n          value: 'Sign this message to generate your Messier Horizon Privacy Key. This key lets the application decrypt your balance in Messier Horizon.\\n\\nIMPORTANT: Signing this message doesn\\'t give Horizon access to your cryptocurrencies.',\r\n        }\r\n      ];\r\n      const from = address;\r\n      const sign = await window.ethereum.request({\r\n        method: 'eth_signTypedData',\r\n        params: [msgParams, from],\r\n      });\r\n      const hash = ethers.utils.keccak256(sign);\r\n      return hash;\r\n    }\r\n  }));\r\n  useEffect(() => {\r\n    const doNecessary = async () => {\r\n      god.currentNetworkName = 'eth';\r\n\r\n      god.currentNetwork.chainId = ETHMainnetConfig.chainId;\r\n\r\n      if(god.currentChain.poolList.length > 0)\r\n        god.currentPoolIndex = god.currentChain.poolList[0].id;\r\n      \r\n      if (chainId) {\r\n        if (god.currentNetwork.allowChains.includes(chainId)) {\r\n          if(chainId != ETHMainnetConfig.chainId) {\r\n            god.currentPoolIndex = null;\r\n            deactivate();\r\n            god.eth.connector.latestProvider.clear();\r\n            god.clearAccountInfo();\r\n            if(god.currentNetwork.account) {\r\n              while(chainId) {\r\n                await new Promise(r => setTimeout(r, 500));\r\n              }\r\n            }\r\n            god.currentNetwork.account = null;\r\n            history.push(god.currentNetwork.chains[chainId].path);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n\r\n      let depositAmount = new BigNumber(10).pow(15);\r\n\r\n      let txData, myPubkey;\r\n\r\n      const initializeAccount = () => {\r\n        god.currentNetwork.account = account;\r\n        god.currentNetwork.web3 = library;\r\n        //@ts-ignore\r\n        god.eth.ethers = library ? library : god.eth.defaultEthers;\r\n        god.eth.signer = library ? library.getSigner() : null;\r\n\r\n        //@ts-ignore\r\n        god.eth.multiCall = new Provider(god.eth.ethers);\r\n        //@ts-ignore\r\n        if (!god.eth.multiCall._multicallAddress) {\r\n          //@ts-ignore\r\n          god.eth.multiCall._multicallAddress = god.Multicall.address;\r\n        }\r\n\r\n        if (account) {\r\n          god.setShowConnecter(false);\r\n          god.loadBalance();\r\n          god.loadPublichData();\r\n        }\r\n        if(account) {\r\n          // god.deposit({L1HelperContract: ETHMainnetConfig.L1Helper, HorizonPoolAddress: ETHMainnetConfig.HorizonPool.address, amount: depositAmount, data: txData});\r\n          // god.register({L1HelperContract: ETHMainnetConfig.L1Helper, address: account, publicKey: myPubkey});\r\n        }\r\n      }\r\n\r\n      if(account) {\r\n        if( god.currentNetwork.account && god.currentNetwork.account != account ) {\r\n          if(god.myAddress != account && god.loginType == \"metamask\") { // Metamask login\r\n            const isOkay = await hooks.waitModal({title: lang.t('notification'), msg: lang.t('request.switch')});\r\n            if(!isOkay) {\r\n              if(!god.isRegistered) {\r\n                store.logout();\r\n              }\r\n              else {\r\n                initializeAccount();\r\n                base.startRefetchForce();\r\n              }\r\n              return;\r\n            }\r\n          }\r\n          if(god.loginType == \"key\") {\r\n            initializeAccount();\r\n            base.startRefetchForce();\r\n            return;\r\n          }\r\n        }\r\n        try {\r\n            god.connectingStatus = 'signing';\r\n            if((!god.myAddress || god.loginType == \"metamask\") && god.myAddress != account ) {\r\n              let privateKey = await store.generatePrivateKey(account);\r\n              console.log('privateKey', privateKey);\r\n              god.clearAccountInfo();\r\n              god.loginType = \"metamask\";\r\n              god.myAddress = account;\r\n              god.myPrivteKey = privateKey;\r\n              god.setLoadingText(lang.t('horizon.connect'));\r\n              god.setLoadingView(true);\r\n              await god.checkRegistration(account);\r\n              god.currentNetwork.account = account;\r\n              if(!god.isRegistered) {\r\n                base.downloadShieldedKey(account, privateKey);\r\n              }\r\n              else {\r\n                god.setLoadingText(lang.t('Loading.text9'));\r\n\r\n                for(var i = 0; i < god.currentChain.poolList.length; i ++) {\r\n                  console.log(god.currentChain.poolList[i].id);\r\n                  await god.checkCommitmentAndNullifer(god.currentChain.poolList[i]);\r\n                }\r\n              }\r\n              console.log('clearclear');\r\n              god.setLoadingView(false);\r\n            }\r\n            god.connectingStatus = 'idle';\r\n\r\n            // let sumBalance = new BigNumber(0);\r\n            // const transferAmount = new BigNumber('150000000000000');\r\n            // const withdrawAmount = new BigNumber('1000000000000');\r\n            // const recipient = '0xe0D5af7FEd599707933380657a0F75B6aD47C2a5';\r\n            // myUtxoArr = myUtxoArr.sort((a, b) => new BigNumber(a.amount.hex).comparedTo(new BigNumber(b.amount.hex))).map((e) => {return {amount: new BigNumber(e.amount.hex), commitment: e._commitment.hex}});\r\n            // console.log(myUtxoArr);\r\n            // let inputCommitments = [];\r\n            // myUtxoArr.map((utxo) => {\r\n            //   sumBalance = sumBalance.plus(utxo.amount);\r\n            // });\r\n\r\n            // const feeAmount = transferAmount.div(1000); // 0.1 %\r\n            // const totalAmount = transferAmount.plus(feeAmount);\r\n            // console.log('sumBalance.toString()', sumBalance.toString());\r\n\r\n            // sumBalance = new BigNumber(0);\r\n            // let idx = 0;\r\n            // while(sumBalance.comparedTo(totalAmount) < 0) {\r\n            //   sumBalance = sumBalance.plus(myUtxoArr[idx].amount);\r\n            //   inputCommitments.push(myUtxoArr[idx].commitment);\r\n            //   idx ++;\r\n            // }\r\n            // response = await axios.post(ETHMainnetConfig.relayer + '/v1/getAccountStatus', {address: recipient}, {});\r\n            // res = response.data;\r\n            // const recipientPubKey = res.publicKey;\r\n\r\n            // const restAmount = sumBalance.minus(totalAmount);\r\n\r\n            // let outputData = [];\r\n\r\n            // outputData.push({amount: restAmount, pubKey: myPubkey});\r\n\r\n            // outputData.push({amount: transferAmount, pubKey: recipientPubKey});\r\n\r\n            // await axios.post(ETHMainnetConfig.relayer + '/v1/submitTransferTX', {input: inputCommitments, output: outputData, key: privateKey, fee: feeAmount.toString(), recipient: recipient}, {});\r\n            \r\n            // response = await axios.post(ETHMainnetConfig.relayer + '/v1/getProofData', { amount: depositAmount.toString(), key: privateKey });\r\n            // res = response.data;\r\n            // const {args, extData} = res;\r\n\r\n            // console.log('args', args);\r\n            // console.log('extData', extData);\r\n\r\n            // txData = await generateTxData(ETHMainnetConfig.HorizonPool, ETHMainnetConfig.gnosisRpcUrl, ETHMainnetConfig.BridgeToken, args, extData, depositAmount);\r\n\r\n            // const feeAmount = withdrawAmount.div(1000); // 0.1 %\r\n            // const L1feeAmount = new BigNumber('1000000000');\r\n            // const totalAmount = withdrawAmount.plus(feeAmount).plus(L1feeAmount);\r\n            // console.log('sumBalance.toString()', sumBalance.toString());\r\n\r\n            // sumBalance = new BigNumber(0);\r\n            // let idx = 0;\r\n            // while(sumBalance.comparedTo(totalAmount) < 0) {\r\n            //   sumBalance = sumBalance.plus(myUtxoArr[idx].amount);\r\n            //   inputCommitments.push(myUtxoArr[idx].commitment);\r\n            //   idx ++;\r\n            // }\r\n            // const restAmount = sumBalance.minus(totalAmount);\r\n\r\n            // let outputData = [];\r\n\r\n            // outputData.push({amount: restAmount, pubKey: myPubkey});\r\n\r\n            // await axios.post(ETHMainnetConfig.relayer + '/v1/submitWithdrawTX', {input: inputCommitments, output: outputData, key: privateKey, fee: feeAmount.toString(), recipient: recipient, l1fee: L1feeAmount.toString()}, {});\r\n\r\n            // const encodedData = await getUserSignatureLog(ETHMainnetConfig.HomeAMB, ETHMainnetConfig.gnosisRpcUrl, 23713605);\r\n            // const signatures = await getSignatures(ETHMainnetConfig.AMBBridgeHelper, ETHMainnetConfig.gnosisRpcUrl, encodedData);\r\n            \r\n            // await axios.post(ETHMainnetConfig.relayer + '/v1/submitUnwrapperTx', {msg: encodedData, signatures: signatures}, {});\r\n\r\n            // console.log('signatures', signatures);\r\n        } catch (err) {\r\n          if(!god.currentNetwork.account) {\r\n            store.logout();\r\n          }\r\n          if(god.loginType == \"metamask\") {\r\n            if(!god.isRegistered) {\r\n              store.logout();\r\n            }\r\n            initializeAccount();\r\n            base.startRefetchForce();\r\n          }\r\n          god.connectingStatus = 'idle';\r\n          return;\r\n        }\r\n      }\r\n      \r\n      initializeAccount()\r\n    }\r\n    doNecessary();\r\n  }, [god, library, chainId, account, active]);\r\n\r\n  useEffect(() => {\r\n    if (god.currentNetwork.account) {\r\n      god.loadBalance();\r\n      god.loadPublichData();\r\n    }\r\n  }, [base.refetchTimer]);\r\n\r\n  useEffect(() => {\r\n    if (activate && god.eth.connector.latestProvider.value) {\r\n      if (god.eth.connector.latestProvider.value == 'inject') {\r\n        // activate(injectedConnector);\r\n      }\r\n      if (god.eth.connector.latestProvider.value == 'walletconnect') {\r\n        // activate(walletconnectConnector);\r\n      }\r\n    }\r\n  }, [activate, god.eth.connector.latestProvider.value]);\r\n\r\n  useEffect(() => {\r\n    const doNecessary = () => {\r\n      const chain = god.eth.chains[ETHMainnetConfig.chainId];\r\n      metamaskUtils.setupNetwork({\r\n        chainId: chain.chainId,\r\n        blockExplorerUrls: [chain.explorerURL],\r\n        chainName: chain.name,\r\n        nativeCurrency: {\r\n          decimals: chain.Coin.decimals || 18,\r\n          name: chain.Coin.symbol,\r\n          symbol: chain.Coin.symbol\r\n        },\r\n        rpcUrls: [chain.baseRpcUrl]\r\n      });\r\n      // console.log('mychain', chain);\r\n      eventBus.addListener('wallet.logout', store.logout);\r\n      return () => eventBus.removeListener('wallet.logout', store.logout);\r\n    };\r\n    doNecessary();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <EthConnectWallet />\r\n      <HomePage />\r\n    </div>\r\n  );\r\n});\r\n","import React, { useEffect } from 'react';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { HomePage } from '.';\r\nimport { Provider } from '@iotexproject/ethers-multicall';\r\nimport { useStore } from '../../store/index';\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { injectedConnector, walletconnectConnector } from '../../lib/web3-react-bsc';\r\nimport { EthConnectWallet } from '../../components/EthConnectWallet';\r\nimport { eventBus } from '../../lib/event';\r\nimport { metamaskUtils } from '../../utils/metamaskUtils';\r\nimport { Web3Provider } from '@ethersproject/providers';\r\nimport { BSCMainnetConfig } from '../../config/BSCMainnetConfig';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { ethers } from 'ethers';\r\nimport axios from 'axios';\r\nimport { getKeypairLog, getCommitmentAndNullifierLog, generateTxData, getUserSignatureLog, getSignatures } from '../../store/lib/GetLog';\r\nimport BigNumber from 'bignumber.js';\r\nimport ModalView from '../../components/ModalView';\r\nimport Loading from '../../components/Loading';\r\nimport { hooks } from '../../lib/hooks';\r\n\r\nexport const Bscnet = observer(() => {\r\n  const { god, base, lang } = useStore();\r\n  const { chainId, account, activate, active, library, deactivate } = useWeb3React<Web3Provider>();\r\n  const history = useHistory();\r\n\r\n  const store = useLocalStore(() => ({\r\n    logout() {\r\n      deactivate();\r\n      god.eth.connector.latestProvider.clear();\r\n      god.clearAccountInfo();\r\n\r\n      god.currentNetwork.account = null;\r\n    },\r\n    async generatePrivateKey(address) {\r\n      const msgParams = [\r\n        {\r\n          type: 'string',\r\n          name: 'Message',\r\n          value: 'Sign this message to generate your Messier Horizon Privacy Key. This key lets the application decrypt your balance in Messier Horizon.\\n\\nIMPORTANT: Signing this message doesn\\'t give Horizon access to your cryptocurrencies.',\r\n        }\r\n      ];\r\n      const from = address;\r\n      const sign = await window.ethereum.request({\r\n        method: 'eth_signTypedData',\r\n        params: [msgParams, from],\r\n      });\r\n      const hash = ethers.utils.keccak256(sign);\r\n      return hash;\r\n    }\r\n  }));\r\n  useEffect(() => {\r\n    const doNecessary = async () => {\r\n      god.currentNetworkName = 'eth';\r\n\r\n      god.currentNetwork.chainId = BSCMainnetConfig.chainId;\r\n      \r\n      if(god.currentChain.poolList.length > 0) {\r\n        god.currentPoolIndex = god.currentChain.poolList[0].id;\r\n      }\r\n\r\n      if (chainId) {\r\n        if (god.currentNetwork.allowChains.includes(chainId)) {\r\n          if(chainId != BSCMainnetConfig.chainId) {\r\n            god.currentPoolIndex = null;\r\n            deactivate();\r\n            god.eth.connector.latestProvider.clear();\r\n            god.clearAccountInfo();\r\n            if(god.currentNetwork.account) {\r\n              while(chainId) {\r\n                await new Promise(r => setTimeout(r, 500));\r\n              }\r\n            }\r\n            god.currentNetwork.account = null;\r\n            history.push(god.currentNetwork.chains[chainId].path);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n\r\n      let depositAmount = new BigNumber(10).pow(15);\r\n\r\n      let txData, myPubkey;\r\n\r\n      const initializeAccount = () => {\r\n        god.currentNetwork.account = account;\r\n        god.currentNetwork.web3 = library;\r\n        //@ts-ignore\r\n        god.eth.ethers = library ? library : god.eth.defaultEthers;\r\n        god.eth.signer = library ? library.getSigner() : null;\r\n\r\n        //@ts-ignore\r\n        god.eth.multiCall = new Provider(god.eth.ethers);\r\n        //@ts-ignore\r\n        if (!god.eth.multiCall._multicallAddress) {\r\n          //@ts-ignore\r\n          god.eth.multiCall._multicallAddress = god.Multicall.address;\r\n        }\r\n\r\n        if (account) {\r\n          god.setShowConnecter(false);\r\n          god.loadBalance();\r\n          god.loadPublichData();\r\n        }\r\n        if(account) {\r\n          // god.deposit({L1HelperContract: ETHMainnetConfig.L1Helper, HorizonPoolAddress: ETHMainnetConfig.HorizonPool.address, amount: depositAmount, data: txData});\r\n          // god.register({L1HelperContract: ETHMainnetConfig.L1Helper, address: account, publicKey: myPubkey});\r\n        }\r\n      }\r\n\r\n      if(account) {\r\n        if( god.currentNetwork.account && god.currentNetwork.account != account ) {\r\n          if(god.myAddress != account && god.loginType == \"metamask\") { // Metamask login\r\n            const isOkay = await hooks.waitModal({title: lang.t('notification'), msg: lang.t('request.switch')});\r\n            if(!isOkay) {\r\n              if(!god.isRegistered) {\r\n                store.logout();\r\n              }\r\n              else {\r\n                initializeAccount();\r\n                base.startRefetchForce();\r\n              }\r\n              return;\r\n            }\r\n          }\r\n          if(god.loginType == \"key\") {\r\n            initializeAccount();\r\n            base.startRefetchForce();\r\n            return;\r\n          }\r\n        }\r\n        try {\r\n            god.connectingStatus = 'signing';\r\n            if((!god.myAddress || god.loginType == \"metamask\") && god.myAddress != account ) {\r\n              let privateKey = await store.generatePrivateKey(account);\r\n              console.log('privateKey', privateKey);\r\n              god.clearAccountInfo();\r\n              god.loginType = \"metamask\";\r\n              god.myAddress = account;\r\n              god.myPrivteKey = privateKey;\r\n              god.setLoadingText(lang.t('horizon.connect'));\r\n              god.setLoadingView(true);\r\n              await god.checkRegistration(account);\r\n              god.currentNetwork.account = account;\r\n              if(!god.isRegistered) {\r\n                base.downloadShieldedKey(account, privateKey);\r\n              }\r\n              else {\r\n                god.setLoadingText(lang.t('Loading.text9'));\r\n\r\n                await Promise.all(god.currentChain.poolList.map( async (pool) => {\r\n                  await god.checkCommitmentAndNullifer(pool);\r\n                }));\r\n              }\r\n              god.setLoadingView(false);\r\n            }\r\n            god.connectingStatus = 'idle';\r\n\r\n            // let sumBalance = new BigNumber(0);\r\n            // const transferAmount = new BigNumber('150000000000000');\r\n            // const withdrawAmount = new BigNumber('1000000000000');\r\n            // const recipient = '0xe0D5af7FEd599707933380657a0F75B6aD47C2a5';\r\n            // myUtxoArr = myUtxoArr.sort((a, b) => new BigNumber(a.amount.hex).comparedTo(new BigNumber(b.amount.hex))).map((e) => {return {amount: new BigNumber(e.amount.hex), commitment: e._commitment.hex}});\r\n            // console.log(myUtxoArr);\r\n            // let inputCommitments = [];\r\n            // myUtxoArr.map((utxo) => {\r\n            //   sumBalance = sumBalance.plus(utxo.amount);\r\n            // });\r\n\r\n            // const feeAmount = transferAmount.div(1000); // 0.1 %\r\n            // const totalAmount = transferAmount.plus(feeAmount);\r\n            // console.log('sumBalance.toString()', sumBalance.toString());\r\n\r\n            // sumBalance = new BigNumber(0);\r\n            // let idx = 0;\r\n            // while(sumBalance.comparedTo(totalAmount) < 0) {\r\n            //   sumBalance = sumBalance.plus(myUtxoArr[idx].amount);\r\n            //   inputCommitments.push(myUtxoArr[idx].commitment);\r\n            //   idx ++;\r\n            // }\r\n            // response = await axios.post(ETHMainnetConfig.relayer + '/v1/getAccountStatus', {address: recipient}, {});\r\n            // res = response.data;\r\n            // const recipientPubKey = res.publicKey;\r\n\r\n            // const restAmount = sumBalance.minus(totalAmount);\r\n\r\n            // let outputData = [];\r\n\r\n            // outputData.push({amount: restAmount, pubKey: myPubkey});\r\n\r\n            // outputData.push({amount: transferAmount, pubKey: recipientPubKey});\r\n\r\n            // await axios.post(ETHMainnetConfig.relayer + '/v1/submitTransferTX', {input: inputCommitments, output: outputData, key: privateKey, fee: feeAmount.toString(), recipient: recipient}, {});\r\n            \r\n            // response = await axios.post(ETHMainnetConfig.relayer + '/v1/getProofData', { amount: depositAmount.toString(), key: privateKey });\r\n            // res = response.data;\r\n            // const {args, extData} = res;\r\n\r\n            // console.log('args', args);\r\n            // console.log('extData', extData);\r\n\r\n            // txData = await generateTxData(ETHMainnetConfig.HorizonPool, ETHMainnetConfig.gnosisRpcUrl, ETHMainnetConfig.BridgeToken, args, extData, depositAmount);\r\n\r\n            // const feeAmount = withdrawAmount.div(1000); // 0.1 %\r\n            // const L1feeAmount = new BigNumber('1000000000');\r\n            // const totalAmount = withdrawAmount.plus(feeAmount).plus(L1feeAmount);\r\n            // console.log('sumBalance.toString()', sumBalance.toString());\r\n\r\n            // sumBalance = new BigNumber(0);\r\n            // let idx = 0;\r\n            // while(sumBalance.comparedTo(totalAmount) < 0) {\r\n            //   sumBalance = sumBalance.plus(myUtxoArr[idx].amount);\r\n            //   inputCommitments.push(myUtxoArr[idx].commitment);\r\n            //   idx ++;\r\n            // }\r\n            // const restAmount = sumBalance.minus(totalAmount);\r\n\r\n            // let outputData = [];\r\n\r\n            // outputData.push({amount: restAmount, pubKey: myPubkey});\r\n\r\n            // await axios.post(ETHMainnetConfig.relayer + '/v1/submitWithdrawTX', {input: inputCommitments, output: outputData, key: privateKey, fee: feeAmount.toString(), recipient: recipient, l1fee: L1feeAmount.toString()}, {});\r\n\r\n            // const encodedData = await getUserSignatureLog(ETHMainnetConfig.HomeAMB, ETHMainnetConfig.gnosisRpcUrl, 23713605);\r\n            // const signatures = await getSignatures(ETHMainnetConfig.AMBBridgeHelper, ETHMainnetConfig.gnosisRpcUrl, encodedData);\r\n            \r\n            // await axios.post(ETHMainnetConfig.relayer + '/v1/submitUnwrapperTx', {msg: encodedData, signatures: signatures}, {});\r\n\r\n            // console.log('signatures', signatures);\r\n        } catch (err) {\r\n          if(!god.currentNetwork.account) {\r\n            store.logout();\r\n          }\r\n          if(god.loginType == \"metamask\") {\r\n            if(!god.isRegistered) {\r\n              store.logout();\r\n            }\r\n            initializeAccount();\r\n            base.startRefetchForce();\r\n          }\r\n          god.connectingStatus = 'idle';\r\n          return;\r\n        }\r\n      }\r\n      \r\n      initializeAccount()\r\n    }\r\n    doNecessary();\r\n  }, [god, library, chainId, account, active]);\r\n\r\n  useEffect(() => {\r\n    if (god.currentNetwork.account) {\r\n      god.loadBalance();\r\n      god.loadPublichData();\r\n    }\r\n  }, [base.refetchTimer]);\r\n\r\n  useEffect(() => {\r\n    if (activate && god.eth.connector.latestProvider.value) {\r\n      if (god.eth.connector.latestProvider.value == 'inject') {\r\n        // activate(injectedConnector);\r\n      }\r\n      if (god.eth.connector.latestProvider.value == 'walletconnect') {\r\n        // activate(walletconnectConnector);\r\n      }\r\n    }\r\n  }, [activate, god.eth.connector.latestProvider.value]);\r\n\r\n  useEffect(() => {\r\n    const doNecessary = () => {\r\n      const chain = god.eth.chains[BSCMainnetConfig.chainId];\r\n      metamaskUtils.setupNetwork({\r\n        chainId: chain.chainId,\r\n        blockExplorerUrls: [chain.explorerURL],\r\n        chainName: chain.name,\r\n        nativeCurrency: {\r\n          decimals: chain.Coin.decimals || 18,\r\n          name: chain.Coin.symbol,\r\n          symbol: chain.Coin.symbol\r\n        },\r\n        rpcUrls: [chain.baseRpcUrl]\r\n      });\r\n      // console.log('mychain', chain);\r\n      eventBus.addListener('wallet.logout', store.logout);\r\n      return () => eventBus.removeListener('wallet.logout', store.logout);\r\n    };\r\n    doNecessary();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <EthConnectWallet />\r\n      <HomePage />\r\n    </div>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { styled } from '../../modules/index';\r\nimport { Icon, Text, FlexBox, Button } from '../../modules/globalStyle';\r\nimport { DialogWrapper } from '../Dialog/index';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport { useStore } from '../../store/index';\r\nimport { eventBus } from '../../lib/event';\r\n\r\nconst WalletBox = styled('div', {\r\n  padding: '1.5rem 0 0.5rem 0',\r\n  borderTop: '1px solid $borderPrimary'\r\n});\r\n\r\nexport const Modal = observer(() => {\r\n  const { base, lang } = useStore();\r\n\r\n  const store = useLocalStore(() => ({\r\n    get visible() {\r\n      return base.modal.visible;\r\n    },\r\n    get title() {\r\n      return base.modal.title;\r\n    },\r\n    get content() {\r\n      return base.modal.msg;\r\n    },\r\n    close() {\r\n      base.closeModal();\r\n      eventBus.emit('modal.cancel');\r\n    },\r\n    ok() {\r\n      eventBus.emit('modal.confirm');\r\n    }\r\n  }));\r\n\r\n  const content = (\r\n    <WalletBox>\r\n      <Text size=\"md\" color=\"white\" css={{ mb: '1.5rem' }}>\r\n        {store.content}\r\n      </Text>\r\n      <FlexBox justify=\"center\">\r\n        <Button size=\"small\" color=\"primary\" onClick={store.ok} responsive=\"lg\">\r\n          {lang.t('Okay')}\r\n        </Button>\r\n      </FlexBox>\r\n    </WalletBox>\r\n  );\r\n  return <DialogWrapper title={store.title} size=\"base\" content={content} visible={store.visible} close={store.close} />;\r\n});\r\n","import { observer } from 'mobx-react-lite';\r\nimport React from 'react';\r\n\r\nexport const ModalView = observer((props) => {\r\n  return <div className=\"modalView\">{props.children}</div>;\r\n});\r\nexport default ModalView;\r\n","import { observer, useLocalStore } from 'mobx-react-lite';\r\nimport React, { useEffect } from 'react';\r\nimport { useStore } from '../store';\r\nimport Button from './Button';\r\n\r\ninterface ILoadingProps {\r\n  text: string;\r\n} \r\n\r\nexport const Loading = observer((props: ILoadingProps) => {\r\n  const { lang } = useStore();\r\n\r\n  const store = useLocalStore(\r\n    (props) => ({\r\n      allowToCancel: false,\r\n      nextable: true,\r\n    }),\r\n    props\r\n  );\r\n  \r\n  return (\r\n    <div className=\"loadingBar\">\r\n      <svg style={{ margin: 'auto', background: 'rgb(255, 255, 255, 0)', display: 'block', shapeRendering: 'auto', width: 200, height: 200 }} viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\">\r\n      <circle cx=\"50\" cy=\"50\" r=\"0\" fill=\"none\" stroke=\"#FF7518\" stroke-width=\"2\">\r\n        <animate attributeName=\"r\" repeatCount=\"indefinite\" dur=\"1s\" values=\"0;39\" keyTimes=\"0;1\" keySplines=\"0 0.2 0.8 1\" calcMode=\"spline\" begin=\"0s\"></animate>\r\n        <animate attributeName=\"opacity\" repeatCount=\"indefinite\" dur=\"1s\" values=\"1;0\" keyTimes=\"0;1\" keySplines=\"0.2 0 0.8 1\" calcMode=\"spline\" begin=\"0s\"></animate>\r\n      </circle><circle cx=\"50\" cy=\"50\" r=\"0\" fill=\"none\" stroke=\"#FF7518\" stroke-width=\"2\">\r\n        <animate attributeName=\"r\" repeatCount=\"indefinite\" dur=\"1s\" values=\"0;39\" keyTimes=\"0;1\" keySplines=\"0 0.2 0.8 1\" calcMode=\"spline\" begin=\"-0.5s\"></animate>\r\n        <animate attributeName=\"opacity\" repeatCount=\"indefinite\" dur=\"1s\" values=\"1;0\" keyTimes=\"0;1\" keySplines=\"0.2 0 0.8 1\" calcMode=\"spline\" begin=\"-0.5s\"></animate>\r\n      </circle>\r\n      </svg>\r\n\r\n      <div className=\"loadingLabel\"><p>{props.text.split('#')[0]}</p><p>{props.text.split('#')[1]}</p></div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Loading;\r\n","import 'globalthis/auto';\r\nimport 'react-app-polyfill/stable';\r\nimport React, { useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { observer, useLocalStore } from 'mobx-react-lite';\r\nimport './App.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\r\nimport { useStore } from './store';\r\nimport { getLibrary } from './lib/web3-react-bsc';\r\n\r\nimport * as Sentry from '@sentry/react';\r\nimport { Integrations } from '@sentry/tracing';\r\nimport { Web3ReactProvider } from '@web3-react/core';\r\n\r\nimport { Leva, useControls } from 'leva';\r\nimport { Mainnet } from './pages/Home/Mainnet';\r\nimport { Bscnet } from './pages/Home/Bscnet';\r\nimport { Polygon } from './pages/Home/Polygon';\r\nimport { Modal } from './components/Modal';\r\nimport ModalView from './components/ModalView';\r\nimport Loading from './components/Loading';\r\n\r\nif (process.env.NODE_ENV == 'production') {\r\n  Sentry.init({\r\n    dsn: 'https://3731f73d7eaf4e008d0409f867665f99@o563381.ingest.sentry.io/5703305',\r\n    integrations: [new Integrations.BrowserTracing()],\r\n    tracesSampleRate: 1.0\r\n  });\r\n}\r\nconst App = observer(() => {\r\n  const { lang, base, dev, god } = useStore();\r\n  const setting = useControls({ devUI: dev.devUI, devPool: dev.devPool });\r\n\r\n  const store = useLocalStore(() => ({\r\n    showLoadingView: false,\r\n    loadingText: ''\r\n  }));\r\n  useEffect(() => {\r\n    lang.init();\r\n    base.init();\r\n  }, []);\r\n  useEffect(() => {\r\n    Object.assign(dev, setting);\r\n  }, [setting]);\r\n\r\n  useEffect(() => {\r\n    store.showLoadingView = god.showLoadingView;\r\n  }, [god.showLoadingView]);\r\n\r\n  useEffect(() => {\r\n    store.loadingText = god.loadingText;\r\n  }, [god.loadingText]);\r\n\r\n  return (\r\n    <React.StrictMode>\r\n      <Leva hidden={!dev.dev} />\r\n      <Modal />\r\n      {\r\n        store.showLoadingView &&\r\n        <ModalView>\r\n          { window.scrollTo(0, 0) }\r\n          <Loading text={store.loadingText} />\r\n        </ModalView>\r\n      }\r\n      <Router>\r\n        <Switch>\r\n          {/* <Route exact path=\"/eth\">\r\n            <Web3ReactProvider getLibrary={getLibrary}>\r\n              <Mainnet />\r\n            </Web3ReactProvider>\r\n          </Route> */}\r\n          <Route exact path=\"/eth\">\r\n            <Web3ReactProvider getLibrary={getLibrary}>\r\n              <Mainnet />\r\n            </Web3ReactProvider>\r\n          </Route>\r\n          <Route exact path=\"/bsc\">\r\n            <Web3ReactProvider getLibrary={getLibrary}>\r\n              <Bscnet />\r\n            </Web3ReactProvider>\r\n          </Route>\r\n          {/* <Route exact path=\"/polygon\">\r\n            <Web3ReactProvider getLibrary={getLibrary}>\r\n              <Polygon />\r\n            </Web3ReactProvider>\r\n          </Route> */}\r\n          \r\n          <Redirect to='/eth' /> \r\n        </Switch>\r\n      </Router>\r\n    </React.StrictMode>\r\n  );\r\n});\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import { BscConnector } from '@binance-chain/bsc-connector';\r\nimport { Web3Provider } from '@ethersproject/providers';\r\nimport { InjectedConnector } from '@web3-react/injected-connector';\r\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector';\r\nimport { providers as EthersProviders, ethers } from 'ethers';\r\nimport { EthereumConfigV2 } from '../config/NetowkConfig';\r\n\r\nexport function getLibrary(provider: any): Web3Provider {\r\n  const library = new EthersProviders.Web3Provider(provider);\r\n  library.pollingInterval = 12000;\r\n  return library;\r\n}\r\n\r\nexport const bscConnector = new BscConnector({\r\n  supportedChainIds: [56, 97] // later on 1 ethereum mainnet and 3 ethereum ropsten will be supported\r\n});\r\n\r\nexport const injectedConnector = new InjectedConnector({ supportedChainIds: EthereumConfigV2.allowChains });\r\n\r\nexport const walletconnectConnector = new WalletConnectConnector({\r\n  rpc: {\r\n    1: EthereumConfigV2.chains[1].rpcUrl,\r\n    // 56: EthereumConfigV2.chains[56].rpcUrl,\r\n    // 137: EthereumConfigV2.chains[137].rpcUrl,\r\n    // 56: 'https://bsc-dataseed1.ninicoin.io'\r\n    // 97: \"https://data-seed-prebsc-1-s1.binance.org:8545/\"\r\n  },\r\n  bridge: 'https://bridge.walletconnect.org',\r\n  qrcode: true,\r\n  pollingInterval: 12000\r\n});\r\n","import { makeObservable, observable } from 'mobx';\r\nimport { NetworkState } from './NetworkState';\r\nimport BigNumber from 'bignumber.js';\r\nimport { BigNumberState, MulticallParams } from '../type';\r\n\r\nexport class TokenState {\r\n  address: string;\r\n  abi: any;\r\n  decimals: number;\r\n  symbol: string;\r\n  allownaceForRouter = new BigNumberState({ loading: true });\r\n  network: NetworkState;\r\n  balance: BigNumberState;\r\n  metas: {\r\n    isApprovingAllowance?: boolean;\r\n    [key: string]: any;\r\n  } = {};\r\n  constructor(args: Partial<TokenState>) {\r\n    Object.assign(this, args);\r\n    this.balance = new BigNumberState({ decimals: this.decimals, loading: true });\r\n    makeObservable(this, {\r\n      metas: observable\r\n    });\r\n  }\r\n\r\n  parseValue({ value, fixed = 6 }: { value: any; fixed?: number }) {\r\n    return new BigNumber(value).dividedBy(10 ** this.decimals).toFixed(fixed, 1);\r\n  }\r\n\r\n  preMulticall(args: Partial<MulticallParams>) {\r\n    return Object.assign({ address: this.address, abi: this.abi }, args);\r\n  }\r\n}\r\n\r\nexport class LPTokenState extends TokenState {\r\n  allowanceForAeolus = new BigNumberState({ loading: true });\r\n  constructor(args: Partial<LPTokenState>) {\r\n    super(args);\r\n  }\r\n}\r\n","import numeral from 'numeral';\r\nimport BN from 'bignumber.js';\r\n\r\nexport const helper = {\r\n  json: {\r\n    safeParse(val: any) {\r\n      try {\r\n        return JSON.parse(val);\r\n      } catch (error) {\r\n        return val;\r\n      }\r\n    }\r\n  },\r\n  string: {\r\n    parseTemplate(string, data) {\r\n      Object.keys(data).forEach((key) => {\r\n        string = string.replace(`\\${${key}}`, data[key]);\r\n      });\r\n      return string;\r\n    },\r\n    toFixString(str, length) {\r\n      if (str && str.length > length) {\r\n        return str.substr(0, length) + '...';\r\n      } else {\r\n        return str;\r\n      }\r\n    },\r\n    truncate(fullStr, strLen, separator) {\r\n      if (fullStr.length <= strLen) return fullStr;\r\n\r\n      separator = separator || '...';\r\n\r\n      var sepLen = separator.length,\r\n        charsToShow = strLen - sepLen,\r\n        frontChars = Math.ceil(charsToShow / 2),\r\n        backChars = Math.floor(charsToShow / 2);\r\n\r\n      return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\r\n    }\r\n  },\r\n  number: {\r\n    countNonZeroNumbers: (str: string) => {\r\n      let index = 0;\r\n      const length = str.length;\r\n      for (; index < length && (str[index] === '0' || str[index] === '.'); index += 1);\r\n      return length - index - Number(str.includes('.'));\r\n    },\r\n    toPrecisionFloor: (str: number | string, options?: { decimals?: number; format?: string }) => {\r\n      const { decimals = 6, format = '' } = options || {};\r\n      if (!str || isNaN(Number(str))) return '';\r\n\r\n      if (helper.number.countNonZeroNumbers(String(str)) <= decimals) return String(str);\r\n      const numStr = new BN(str).toFixed();\r\n      let result = '';\r\n      let index = 0;\r\n      const numLength = numStr.length;\r\n\r\n      for (; numStr[index] === '0' && index < numLength; index += 1);\r\n\r\n      if (index === numLength) return '0';\r\n\r\n      if (numStr[index] === '.') {\r\n        // number < 0\r\n        result = '0';\r\n        for (; (numStr[index] === '0' || numStr[index] === '.') && index < numLength; index += 1) {\r\n          result = result + numStr[index];\r\n        }\r\n      }\r\n      let resultNumLength = 0;\r\n      for (; index < numLength && (resultNumLength < decimals || !result.includes('.')); index += 1) {\r\n        result = result + numStr[index];\r\n\r\n        if (numStr[index] !== '.') resultNumLength += 1;\r\n      }\r\n      if (format) {\r\n        return numeral(Number(result)).format(format);\r\n      }\r\n\r\n      return new BN(result).toFixed();\r\n    },\r\n    getBN: (value: number | string | BN) => {\r\n      return value instanceof BN ? value : typeof value === 'string' ? new BN(Number(value)) : new BN(value);\r\n    }\r\n  }\r\n};\r\n","import { JsonRpcProvider } from '@ethersproject/providers';\r\nimport axios from 'axios';\r\nimport { ethers } from 'ethers';\r\n\r\nconst abi = new ethers.utils.AbiCoder()\r\n\r\nfunction encodeDataForBridge({ proof, extData }) {\r\n  return abi.encode(\r\n    [\r\n      'tuple(bytes proof,bytes32 root,bytes32[] inputNullifiers,bytes32[2] outputCommitments,uint256 publicAmount,bytes32 extDataHash)',\r\n      'tuple(address recipient,int256 extAmount,address relayer,uint256 fee,bytes encryptedOutput1,bytes encryptedOutput2,bool isL1Withdrawal,uint256 l1Fee)',\r\n    ],\r\n    [proof, extData],\r\n  )\r\n}\r\n\r\nexport async function getKeypairLog (from, L1HelperContract, rpcUrl, relayerURL, pubKey) {\r\n    let stBlock, endBlock;\r\n    stBlock = (from == 0 ? L1HelperContract.deployedBlock : from);\r\n    let provider = new JsonRpcProvider(rpcUrl);\r\n\r\n    let tornadoPool = new ethers.Contract(L1HelperContract.address, L1HelperContract.abi, provider);\r\n\r\n    console.log('tornadoPool', tornadoPool);\r\n\r\n    const filter = tornadoPool.filters.PublicKey()\r\n\r\n    console.log('stBlock', stBlock);\r\n    endBlock = (await provider.getBlock()).number\r\n    console.log('endBlock', endBlock);\r\n    \r\n    \r\n    let fromBlock = stBlock\r\n    let toBlock = fromBlock + 999\r\n\r\n    let totEvents = [];\r\n    \r\n    while(toBlock < endBlock) {\r\n\r\n        console.log('fromBlock', fromBlock)\r\n        console.log('toBlock', toBlock)\r\n        \r\n        const subEvents = await getSafeLog(tornadoPool, filter, fromBlock, toBlock);\r\n        let tempEvents = [];\r\n        for (const event of subEvents) {\r\n            tempEvents.push({blockNumber: event.blockNumber, address: event.args.owner, publicKey: event.args.key});\r\n        }\r\n        \r\n        totEvents = totEvents.concat(tempEvents);\r\n\r\n        await axios.post(relayerURL + '/v1/updateKeypair', {\r\n            fromBlockNumber: fromBlock,\r\n            toBlockNumber: toBlock,\r\n            keypairArr: tempEvents\r\n        }, {});\r\n\r\n        fromBlock = toBlock + 1;\r\n        toBlock = fromBlock + 999\r\n    }\r\n\r\n    toBlock = endBlock;\r\n\r\n    console.log('fromBlock', fromBlock)\r\n    console.log('toBlock', toBlock)\r\n    \r\n    const subEvents = await getSafeLog(tornadoPool, filter, fromBlock, toBlock);\r\n    let tempEvents = [];\r\n    for (const event of subEvents) {\r\n        tempEvents.push({blockNumber: event.blockNumber, address: event.args.owner, publicKey: event.args.key});\r\n    }\r\n    totEvents = totEvents.concat(tempEvents);\r\n    await axios.post(relayerURL + '/v1/updateKeypair', {\r\n        fromBlockNumber: fromBlock,\r\n        toBlockNumber: toBlock,\r\n        keypairArr: tempEvents\r\n    }, {});\r\n    \r\n    let idx = -1;\r\n    console.log(totEvents, pubKey);\r\n    totEvents.map((event, index) => {\r\n        if( event.publicKey == pubKey ) {\r\n            idx = index;\r\n        }\r\n    });\r\n    if(idx < 0) {\r\n        return undefined;\r\n    }\r\n    else {\r\n        return totEvents[idx];\r\n    }\r\n}\r\nexport async function getCommitmentAndNullifierLog (from_commitment, from_nullifier, HorizonPoolContract, rpcUrl, relayerURL) {\r\n    if(from_commitment != from_nullifier)\r\n        return;\r\n    let stBlock, endBlock;\r\n    stBlock = (from_commitment == 0 ? HorizonPoolContract.deployedBlock : from_commitment);\r\n    let provider = new JsonRpcProvider(rpcUrl);\r\n\r\n    let tornadoPool = new ethers.Contract(HorizonPoolContract.address, HorizonPoolContract.abi, provider);\r\n    const filter_commitment = tornadoPool.filters.NewCommitment()\r\n    const filter_nullifier = tornadoPool.filters.NewNullifier()\r\n\r\n    console.log('stBlock', stBlock);\r\n    endBlock = (await provider.getBlock()).number\r\n    \r\n    let fromBlock = stBlock\r\n    let toBlock = fromBlock + 500\r\n    \r\n    while(toBlock < endBlock) {\r\n            \r\n        console.log('finding log started...', fromBlock, toBlock);\r\n        const subEvents_commitment = await getSafeLog(tornadoPool, filter_commitment, fromBlock, toBlock);\r\n        const subEvents_nullifier = await getSafeLog(tornadoPool, filter_nullifier, fromBlock, toBlock);\r\n        console.log('subEvents_commitment', subEvents_commitment);\r\n        console.log('subEvents_nullifier', subEvents_nullifier);\r\n        console.log('finding log finished...');\r\n        let tempEvents_commitment = [], tempEvents_nullifier = [];\r\n        for (const event of subEvents_commitment) {\r\n            tempEvents_commitment.push({blockNumber: event.blockNumber, encryptedOutput: event.args.encryptedOutput, commitment: event.args.commitment, index: event.args.index.toNumber()});\r\n        }\r\n        for (const event of subEvents_nullifier) {\r\n            tempEvents_nullifier.push({blockNumber: event.blockNumber, nullifier: event.args.nullifier});\r\n        }\r\n\r\n        await axios.post(relayerURL + '/v1/updateCommitmentAndNullifier', {\r\n            fromBlockNumber: fromBlock,\r\n            toBlockNumber: toBlock,\r\n            commitmentArr: tempEvents_commitment,\r\n            nullifierArr: tempEvents_nullifier\r\n        }, {});\r\n\r\n        fromBlock = toBlock + 1;\r\n        toBlock = fromBlock + 500\r\n\r\n        console.log('fromBlock', fromBlock)\r\n        console.log('toBlock', toBlock)\r\n    }\r\n\r\n    toBlock = endBlock;\r\n    \r\n    console.log('finding log started...', fromBlock, toBlock);\r\n    const subEvents_commitment = await getSafeLog(tornadoPool, filter_commitment, fromBlock, toBlock);\r\n    const subEvents_nullifier = await getSafeLog(tornadoPool, filter_nullifier, fromBlock, toBlock);\r\n    console.log('subEvents_commitment', subEvents_commitment);\r\n    console.log('subEvents_nullifier', subEvents_nullifier);\r\n    console.log('finding log finished...');\r\n    let tempEvents_commitment = [], tempEvents_nullifier = [];\r\n    for (const event of subEvents_commitment) {\r\n        tempEvents_commitment.push({blockNumber: event.blockNumber, encryptedOutput: event.args.encryptedOutput, commitment: event.args.commitment, index: event.args.index.toNumber()});\r\n    }\r\n    for (const event of subEvents_nullifier) {\r\n        tempEvents_nullifier.push({blockNumber: event.blockNumber, nullifier: event.args.nullifier});\r\n    }\r\n\r\n    await axios.post(relayerURL + '/v1/updateCommitmentAndNullifier', {\r\n        fromBlockNumber: fromBlock,\r\n        toBlockNumber: toBlock,\r\n        commitmentArr: tempEvents_commitment,\r\n        nullifierArr: tempEvents_nullifier\r\n    }, {});\r\n}\r\n\r\nexport function generateTxData(args, extData) {\r\n    const onTokenBridgedData = encodeDataForBridge({\r\n        proof: args,\r\n        extData,\r\n    })\r\n    return onTokenBridgedData;\r\n}\r\n\r\nexport async function getUserSignatureLog(HomeAMB, rpcUrl, blockNumber) {\r\n    let provider = new JsonRpcProvider(rpcUrl);\r\n    let HomeAMBContract = new ethers.Contract(HomeAMB.address, HomeAMB.abi, provider);\r\n    const filter = HomeAMBContract.filters.UserRequestForSignature();\r\n    const sigData = await getSafeLog(HomeAMBContract, filter, blockNumber);\r\n    const { encodedData } = sigData[0].args;\r\n    return encodedData;\r\n}\r\n\r\nexport async function getSignatures(bridgeHelper, rpcUrl, message) {\r\n    let provider = new JsonRpcProvider(rpcUrl);\r\n    let HomeAMBContract = new ethers.Contract(bridgeHelper.address, bridgeHelper.abi, provider);\r\n    console.log('HomeAMBContract', HomeAMBContract);\r\n    console.log('message', message);\r\n    let signatures = null;\r\n    \r\n    const getSign = async () => {\r\n        try {\r\n            signatures = await HomeAMBContract.getSignatures(message);\r\n            console.log('signatures', signatures);\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    while(!signatures) {\r\n        console.log('try');\r\n        await getSign();\r\n        if(!signatures) {\r\n            console.log('retry');\r\n            await new Promise(r => setTimeout(r, 6000));\r\n        }\r\n    }\r\n\r\n    return signatures;\r\n}\r\n\r\nexport async function getSafeLog(contract, query, fromBlock, toBlock) {\r\n    let isSafe = false;\r\n    let res;\r\n\r\n    const getLogFunc = async () => {\r\n        try {\r\n            if(toBlock) {\r\n                res = await contract.queryFilter(query, fromBlock, toBlock);\r\n            }\r\n            else {\r\n                res = await contract.queryFilter(query, fromBlock);\r\n            }\r\n            isSafe = true;\r\n        } catch(e) {\r\n            console.log('getting log error', e);\r\n        }\r\n    };\r\n\r\n    while(!isSafe) {\r\n        console.log('try getting log');\r\n        await getLogFunc();\r\n        if(!isSafe) {\r\n            console.log('retry getting log');\r\n            await new Promise(r => setTimeout(r, 300));\r\n        }\r\n    }\r\n\r\n    return res;\r\n}\r\n\r\nexport async function getPoolBalance(token, rpcUrl, poolAddress) {\r\n    let provider = new JsonRpcProvider(rpcUrl);\r\n    let tokenContract = new ethers.Contract(token.address, token.abi, provider);\r\n    let res = await tokenContract.balanceOf(poolAddress);\r\n    return res;\r\n}","import { createCss } from '@stitches/react';\r\nimport { CSSProperties } from 'react';\r\n\r\nexport const { styled, css, global, keyframes } = createCss({\r\n  prefix: '',\r\n  insertionMethod: 'append',\r\n  theme: {\r\n    colors: {\r\n      primary: '#FF7518',\r\n      primary200: '#60E3DD',\r\n      primaryOpacity: 'rgba(56, 220, 213, 0.2)',\r\n      primary600: 'rgba(56, 220, 213, 0.6)',\r\n      info: '#ffffff24',\r\n      info200: '#414458',\r\n      info400: '#505360',\r\n      bg: '#191B29',\r\n      bg1: '#1C1F2E',\r\n      bg2: '#fafafa1a',\r\n      bg3: 'rgba(0, 0, 0, 0.2)',\r\n      bg4: '#ffffff4a',\r\n      bg5: '#ffffff1a',\r\n      bg6: 'rgba(0, 0, 0, 0.8)',\r\n      bg7: '#262A3B',\r\n      bg8: '#242838',\r\n      bg9: 'rgba(255, 255, 255, 0.1)',\r\n      textPrimary: '#fff',\r\n      textLight: 'rgba(250, 252, 255, 0.5)',\r\n      textInfo: '#E6BF93',\r\n      textGray: '#ccc',\r\n      textGray200: '#E0E0E0',\r\n      textGray900: '#999',\r\n      borderPrimary: 'rgba(255, 255, 255, 0.2)',\r\n      textWarn: '#E84D4D'\r\n    },\r\n    space: {\r\n      $0: '0',\r\n      $1: '0.25rem',\r\n      $2: '0.5rem',\r\n      $3: '0.75rem',\r\n      $4: '1rem',\r\n      $5: '1.25rem',\r\n      $6: '1.5rem',\r\n      $7: '1.75rem',\r\n      $8: '2rem',\r\n      autoX: '0 auto'\r\n    },\r\n    fontSizes: {\r\n      $xs: '0.75rem',\r\n      $sm: '0.875rem',\r\n      $base: '1rem',\r\n      $lg: '1.125rem',\r\n      $xl: '1.25rem',\r\n      $2xl: '1.5rem',\r\n      $3xl: '1.875rem',\r\n      $4xl: '2.25rem',\r\n      $5xl: '3rem',\r\n      $6xl: '4rem'\r\n    }\r\n  },\r\n  media: {\r\n    xss: `(min-width: 468px)`,\r\n    xs: `(min-width: 640px)`,\r\n    sm: `(min-width: 768px)`,\r\n    md: '(min-width: 992px)',\r\n    lg: `(min-width: 1024px)`,\r\n    xl: `(min-width: 1280px)`,\r\n    xxl: `(min-width: 1440px)`\r\n  },\r\n  utils: {\r\n    m: (config) => (value) => ({\r\n      marginTop: value,\r\n      marginBottom: value,\r\n      marginLeft: value,\r\n      marginRight: value\r\n    }),\r\n    mt: (config) => (value) => ({\r\n      marginTop: value\r\n    }),\r\n    mr: (config) => (value) => ({\r\n      marginRight: value\r\n    }),\r\n    mb: (config) => (value) => ({\r\n      marginBottom: value\r\n    }),\r\n    ml: (config) => (value) => ({\r\n      marginLeft: value\r\n    }),\r\n    mx: (config) => (value) => ({\r\n      marginLeft: value,\r\n      marginRight: value\r\n    }),\r\n    my: (config) => (value) => ({\r\n      marginTop: value,\r\n      marginBottom: value\r\n    }),\r\n    p: (config) => (value) => ({\r\n      paddingTop: value,\r\n      paddingBottom: value,\r\n      paddingLeft: value,\r\n      paddingRight: value\r\n    }),\r\n    pt: (config) => (value) => ({\r\n      paddingTop: value\r\n    }),\r\n    pr: (config) => (value) => ({\r\n      paddingRight: value\r\n    }),\r\n    pb: (config) => (value) => ({\r\n      paddingBottom: value\r\n    }),\r\n    pl: (config) => (value) => ({\r\n      paddingLeft: value\r\n    }),\r\n    px: (config) => (value) => ({\r\n      paddingLeft: value,\r\n      paddingRight: value\r\n    }),\r\n    py: (config) => (value) => ({\r\n      paddingTop: value,\r\n      paddingBottom: value\r\n    }),\r\n    size: (config) => (value) => ({\r\n      width: value,\r\n      height: value\r\n    }),\r\n    linearGradient: (config) => (value) => ({\r\n      backgroundImage: `linear-gradient(${value})`\r\n    }),\r\n    br: (config) => (value) => ({\r\n      borderRadius: value\r\n    }),\r\n    flexBetweenCenter: (config) => (value: CSSProperties['flexDirection'] = 'row') => ({\r\n      flexDirection: value,\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center'\r\n    }),\r\n    flexCenterCenter: (config) => (value: CSSProperties['flexDirection'] = 'row') => ({\r\n      flexDirection: value,\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center'\r\n    })\r\n  }\r\n});\r\n","import get from 'lodash/get';\r\nimport keyBy from 'lodash/keyBy';\r\nimport debounce from 'lodash/debounce';\r\nimport each from 'lodash/each';\r\nimport flattenDeep from 'lodash/flattenDeep';\r\n\r\nexport const _ = {\r\n  get,\r\n  keyBy,\r\n  debounce,\r\n  each,\r\n  flattenDeep\r\n};\r\n","import { TokenState, LPTokenState } from '../store/lib/TokenState';\r\nimport { ContractState, AeolusContractState } from '../store/lib/ContractState';\r\nimport L1HelperABI from '../../public/contracts/L1Helper.json';\r\nimport XRC20ABI from '../../public/contracts/XRC20.json';\r\nimport HorizonABI from '../../public/contracts/HorizonPool.json';\r\nimport AMBABI from '../../public/contracts/AMBABI.json';\r\nimport BridgeHelperABI from '../../public/contracts/BridgeHelperABI.json';\r\nimport UniswapV2CycloneRouterABI from '../../public/contracts/UniswapV2CycloneRouter.json';\r\nimport { PoolState } from '../store/lib/PoolState';\r\nimport { ChainState } from '../store/lib/ChainState';\r\nimport BigNumber from 'bignumber.js';\r\n\r\nexport const ETHMainnetConfig = new ChainState({\r\n  name: 'ETH Mainnet',\r\n  path: '/eth',\r\n  chainId: 1,\r\n  baseRpcUrl: 'https://mainnet.infura.io/v3/',\r\n  rpcUrl: 'https://nameless-spring-field.quiknode.pro/3313199c6778abecbc80fc7f7066931bbb743113/',\r\n  gnosisRpcUrl: 'https://purple-patient-grass.xdai.quiknode.pro/89a3d5052dcc953504bbc2ffdd4c830166513e9d/',\r\n  explorerURL: 'https://etherscan.io',\r\n  explorerName: 'EtherScan',\r\n  swapName: 'UniSwap',\r\n  swapURL: 'https://app.uniswap.org/#/swap/?inputCurrency=ETH&outputCurrency=0x8AF5FedC0f263841C18F31D9DbCC97A47e1aB462',\r\n  APIURL: 'https://analytics-eth.cyclone.xyz/query',\r\n  relayer: 'https://h-relayer.messier.app',\r\n  userRequestTopic: '0x482515ce3d9494a37ce83f18b72b363449458435fafdd7a53ddea7460fe01b58',\r\n  AffirmationCompletedTopic: '0xe194ef610f9150a2db4110b3db5116fd623175dca3528d7ae7046a1042f84fe7',\r\n  L2UserRequestTopic: '0x520d2afde79cbd5db58755ac9480f81bc658e5c517fcae7365a3d832590b0183',\r\n  L1FinalizationRate: 20,\r\n  L2FinalizationRate: 20,\r\n\r\n  Coin: new TokenState({\r\n    symbol: 'ETH',\r\n    decimals: 18\r\n  }),\r\n  MultiCall: new ContractState({\r\n    address: '0xeefba1e63905ef1d7acba5a8513c70307c1ce441'\r\n  }),\r\n  CYCToken: new TokenState({\r\n    address: '0x8AF5FedC0f263841C18F31D9DbCC97A47e1aB462',\r\n    abi: XRC20ABI,\r\n    decimals: 18,\r\n    symbol: 'M87'\r\n  }),\r\n  L1Helper: new ContractState({\r\n    address: '0x52a78ec1c4e961e121F9b4c22C69a4fE71F1783C',\r\n    abi: L1HelperABI,\r\n    deployedBlock: 15406213\r\n  }),\r\n  HomeAMB: new ContractState({\r\n    address: '0x75Df5AF045d91108662D8080fD1FEFAd6aA0bb59',\r\n    abi: AMBABI,\r\n  }),\r\n  AMBBridgeHelper: new ContractState({\r\n    address: '0x7d94ece17e81355326e3359115D4B02411825EdD',\r\n    abi: BridgeHelperABI,\r\n  }),\r\n  pools: {\r\n    'ETH': new PoolState({\r\n      id: 'ETH',\r\n      set: 'Horizon (0.05 ETH - 10 ETH)',\r\n      maxDepositAmount: new BigNumber('10e+18'),\r\n      minDepositAmount: new BigNumber('0.05e+18'),\r\n      HorizonPool: new ContractState({\r\n        address: '0x64C507b80d2CcEd591a7708021d92E438015B1D5',\r\n        abi: HorizonABI,\r\n        deployedBlock: 23885729\r\n      }),\r\n      BridgeToken: new TokenState({\r\n        address: '0x6A023CCd1ff6F2045C3309768eAd9E68F978f6e1',\r\n        abi: XRC20ABI,\r\n        decimals: 18,\r\n        symbol: 'WETH'\r\n      }),\r\n      symbol: 'ETH',\r\n      relayer: 'https://h-relayer.messier.app',\r\n      order: 0,\r\n    }),\r\n    'DAI': new PoolState({\r\n      id: 'DAI',\r\n      set: 'Horizon (100 DAI - 20,000 DAI)',\r\n      maxDepositAmount: new BigNumber('20000e+18'),\r\n      minDepositAmount: new BigNumber('100e+18'),\r\n      HorizonPool: new ContractState({\r\n        address: '0x218dE7E4A7F9a3B63177c2a9641b07ffE0982c46',\r\n        abi: HorizonABI,\r\n        deployedBlock: 23933498\r\n      }),\r\n      XRCToken: new TokenState({\r\n        address: '0x6B175474E89094C44Da98b954EedeAC495271d0F',\r\n        abi: XRC20ABI,\r\n        decimals: 18,\r\n        symbol: 'DAI'\r\n      }),\r\n      BridgeToken: new TokenState({\r\n        address: '0x44fA8E6f47987339850636F88629646662444217',\r\n        abi: XRC20ABI,\r\n        decimals: 18,\r\n        symbol: 'DAI'\r\n      }),\r\n      symbol: 'DAI',\r\n      relayer: 'https://h-relayer-dai.messier.app',\r\n      order: 1,\r\n    }),\r\n  }\r\n}); \r\n","import { TokenState, LPTokenState } from '../store/lib/TokenState';\r\nimport { ContractState, AeolusContractState } from '../store/lib/ContractState';\r\nimport L1HelperABI from '../../public/contracts/L1Helper.json';\r\nimport XRC20ABI from '../../public/contracts/XRC20.json';\r\nimport HorizonABI from '../../public/contracts/HorizonPool.json';\r\nimport AMBABI from '../../public/contracts/AMBABI.json';\r\nimport BridgeHelperABI from '../../public/contracts/BridgeHelperABI.json';\r\nimport UniswapV2CycloneRouterABI from '../../public/contracts/UniswapV2CycloneRouter.json';\r\nimport { PoolState } from '../store/lib/PoolState';\r\nimport { ChainState } from '../store/lib/ChainState';\r\nimport BigNumber from 'bignumber.js';\r\n\r\nexport const BSCMainnetConfig = new ChainState({\r\n  name: 'Binance Smart chain Mainnet',\r\n  path: '/bsc',\r\n  chainId: 56,\r\n  baseRpcUrl: 'https://bsc-dataseed.binance.org/',\r\n  rpcUrl: 'https://long-holy-paper.bsc.quiknode.pro/33be2cf79c78479f0340c0aadcd289a91a11122f/',\r\n  gnosisRpcUrl: 'https://purple-patient-grass.xdai.quiknode.pro/89a3d5052dcc953504bbc2ffdd4c830166513e9d/',\r\n  explorerURL: 'https://bscscan.com',\r\n  explorerName: 'BscScan',\r\n  swapName: 'PancakeSwap',\r\n  swapURL: 'https://exchange.pancakeswap.finance/#/swap?outputCurrency=0x810ee35443639348adbbc467b33310d2ab43c168',\r\n  APIURL: 'https://analytics-bsc.cyclone.xyz/query',\r\n  relayer: 'https://h-relayer-bnb.messier.app',\r\n  userRequestTopic: '0x482515ce3d9494a37ce83f18b72b363449458435fafdd7a53ddea7460fe01b58',\r\n  AffirmationCompletedTopic: '0xe194ef610f9150a2db4110b3db5116fd623175dca3528d7ae7046a1042f84fe7',\r\n  L2UserRequestTopic: '0x520d2afde79cbd5db58755ac9480f81bc658e5c517fcae7365a3d832590b0183',\r\n  L1FinalizationRate: 12,\r\n  L2FinalizationRate: 20,\r\n\r\n  Coin: new TokenState({\r\n    symbol: 'BNB',\r\n    decimals: 18\r\n  }),\r\n  MultiCall: new ContractState({\r\n    address: '0x1Ee38d535d541c55C9dae27B12edf090C608E6Fb'\r\n  }),\r\n  CYCToken: new TokenState({\r\n    address: '0x8AF5FedC0f263841C18F31D9DbCC97A47e1aB462',\r\n    abi: XRC20ABI,\r\n    decimals: 18,\r\n    symbol: 'M87'\r\n  }),\r\n  L1Helper: new ContractState({\r\n    address: '0xDFE8FB8faA4b4bb9F8d0A8135A1706104b3681c6',\r\n    abi: L1HelperABI,\r\n    deployedBlock: 20788442\r\n  }),\r\n  HomeAMB: new ContractState({\r\n    address: '0x162E898bD0aacB578C8D5F8d6ca588c13d2A383F',\r\n    abi: AMBABI,\r\n  }),\r\n  AMBBridgeHelper: new ContractState({\r\n    address: '0x68C69307a0975D2636fA9772c7633204648788A8',\r\n    abi: BridgeHelperABI,\r\n  }),\r\n  pools: {\r\n    'BNB': new PoolState({\r\n      id: 'BNB',\r\n      set: 'Horizon (0.05 BNB - 10 BNB)',\r\n      maxDepositAmount: new BigNumber('10e+18'),\r\n      minDepositAmount: new BigNumber('0.05e+18'),\r\n      HorizonPool: new ContractState({\r\n        address: '0xF3866a844B6d948187000B14c6866a9E5c6Bcbc6',\r\n        abi: HorizonABI,\r\n        deployedBlock: 23933903\r\n      }),\r\n      BridgeToken: new TokenState({\r\n        address: '0xCa8d20f3e0144a72C6B5d576e9Bd3Fd8557E2B04',\r\n        abi: XRC20ABI,\r\n        decimals: 18,\r\n        symbol: 'WBNB'\r\n      }),\r\n      symbol: 'BNB',\r\n      relayer: 'https://h-relayer-bnb.messier.app',\r\n      order: 0,\r\n    }),\r\n    'BUSD': new PoolState({\r\n      id: 'BUSD',\r\n      set: 'Horizon (100 BUSD - 20,000 BUSD)',\r\n      maxDepositAmount: new BigNumber('20000e+18'),\r\n      minDepositAmount: new BigNumber('100e+18'),\r\n      HorizonPool: new ContractState({\r\n        address: '0x4039fc2A4Ce7BfD84861C74A09062647D9dA803e',\r\n        abi: HorizonABI,\r\n        deployedBlock: 23934238\r\n      }),\r\n      XRCToken: new TokenState({\r\n        address: '0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56',\r\n        abi: XRC20ABI,\r\n        decimals: 18,\r\n        symbol: 'BUSD'\r\n      }),\r\n      BridgeToken: new TokenState({\r\n        address: '0xdd96B45877d0E8361a4DDb732da741e97f3191Ff',\r\n        abi: XRC20ABI,\r\n        decimals: 18,\r\n        symbol: 'BUSD'\r\n      }),\r\n      symbol: 'BUSD',\r\n      relayer: 'https://h-relayer-busd.messier.app',\r\n      order: 1,\r\n    }),\r\n  }\r\n}); \r\n","import { makeAutoObservable } from 'mobx';\r\nimport en from '../../public/translations/en.json';\r\nimport axios from 'axios';\r\n\r\ntype Translation = typeof en;\r\n\r\nconst fileNameMapping = {\r\n  'en-US': 'en',\r\n  'zh-CN': 'zh_CN'\r\n};\r\n\r\nexport class LangStore {\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n  langPath = '/translations';\r\n  lang: string = 'en';\r\n  translations: { [key: string]: Translation } = {\r\n    en\r\n  };\r\n  get translation() {\r\n    return this.translations[this.lang];\r\n  }\r\n\r\n  async init() {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const langFromQuery = urlParams.get('lang');\r\n    const broswerLang = navigator.languages ? navigator.languages[0] : navigator.language;\r\n    let lang = langFromQuery || localStorage.getItem('lang') || broswerLang;\r\n    if (fileNameMapping[lang]) {\r\n      lang = fileNameMapping[lang];\r\n    }\r\n    await this.loadTranslation(lang);\r\n    this.lang = lang;\r\n  }\r\n\r\n  async setLang(lang: string) {\r\n    await this.loadTranslation(lang);\r\n    localStorage.setItem('lang', lang);\r\n    this.lang = lang;\r\n  }\r\n\r\n  async loadTranslation(lang) {\r\n    if (this.translations[lang]) {\r\n      return;\r\n    }\r\n    const res = await axios.get(`${this.langPath}/${lang}.json`);\r\n    if (res.data) {\r\n      this.translations[lang] = res.data;\r\n    }\r\n  }\r\n\r\n  t(str: keyof Translation, data?: any) {\r\n    let processed = this.translation[str] || this.translations.en[str];\r\n    if (!processed) {\r\n      return str;\r\n    }\r\n    if (data) {\r\n      Object.keys(data).forEach((key) => {\r\n        processed = processed.replace(`\\${${key}}`, data[key]);\r\n      });\r\n    }\r\n\r\n    return processed;\r\n  }\r\n}\r\n","import BN from 'bignumber.js';\r\nexport const publicConfig = {\r\n  isProd: process.env.NODE_ENV == 'production',\r\n  maxApprove: new BN(1.157920892373162e59).toFixed(0),\r\n  iotexTVL: 10000000\r\n};\r\n","import { makeAutoObservable } from 'mobx';\r\nimport { NetworkState, ETHNetworkState } from './lib/NetworkState';\r\nimport { EthereumConfigV2 } from '../config/NetowkConfig';\r\nimport BigNumber from 'bignumber.js';\r\nimport { ChainState } from './lib/ChainState';\r\nimport { PoolState, PoolStateStatus } from './lib/PoolState';\r\nimport { rootStore } from '.';\r\nimport { TokenState } from './lib/TokenState';\r\nimport { metamaskUtils } from '../utils/metamaskUtils';\r\nimport Config from '../Config';\r\nimport axios from 'axios';\r\nimport { publicConfig } from '../config/public';\r\nimport { _ } from '../lib/lodash';\r\nimport { AeolusContractState } from './lib/ContractState';\r\nimport { Int } from '../../generated/gql/schema';\r\nimport { hooks } from '../lib/hooks';\r\nimport Web3 from 'web3';\r\nimport { toBN } from 'web3-utils';\r\nimport merkleTree from 'fixed-merkle-tree';\r\nimport { getKeypairLog, getCommitmentAndNullifierLog, getPoolBalance } from './lib/GetLog';\r\nimport { TransactionState } from './lib/TransactionState';\r\nimport { BigNumberState } from '../store/type';\r\n\r\nexport type Network = 'eth';\r\n\r\nexport class GodStore {\r\n  isPublicInfoLoaded: boolean = false;\r\n  isPrivateInfoLoaded: boolean = false;\r\n  isRegistered: boolean = false;\r\n  myPublicKey: any = null;\r\n  myPrivteKey: any = null;\r\n  myAddress: any = null;\r\n  loginType: any = null;\r\n  connectingStatus: any = 'idle';\r\n  showLoadingView: boolean = false;\r\n  loadingText: any;\r\n  isOnProgress: boolean = false;\r\n  currentNetworkName: Network = 'eth';\r\n  currentPoolIndex: any = null;\r\n  currentNote: any;\r\n  eth: ETHNetworkState = EthereumConfigV2;\r\n  ABIs = new Map();\r\n  withdrawAnnoucement: any =  \"\";\r\n  isLockStatus: boolean = false;\r\n  currentPrivateKey: string = null;\r\n  constructor() {\r\n    this.eth.god = this;\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  get chains() {\r\n    return [this.eth];\r\n  }\r\n\r\n  get isConnect() {\r\n    return !!this.currentNetwork.account;\r\n  }\r\n\r\n  get isETH() {\r\n    return this.currentNetworkName == 'eth';\r\n  }\r\n  get currentNetwork(): NetworkState {\r\n    return this.getNetwork(this.currentNetworkName);\r\n  }\r\n\r\n  get currentChain(): ChainState {\r\n    return this.currentNetwork.currentChain;\r\n  }\r\n\r\n  get Coin() {\r\n    return this.currentChain.Coin;\r\n  }\r\n\r\n  get CYCToken() {\r\n      return this.currentChain.CYCToken;\r\n  }\r\n\r\n  get Aeolus() {\r\n    return this.currentChain.Aeolus;\r\n  }\r\n  get AeolusV2() {\r\n    return this.currentChain.AeolusV2;\r\n  }\r\n\r\n  get LPToken() {\r\n    return this.currentChain.LPToken;\r\n  }\r\n\r\n  get Multicall() {\r\n    return this.currentChain.MultiCall;\r\n  }\r\n  \r\n  get latestEthProvider() {\r\n    return this.eth.connector.latestProvider;\r\n  }\r\n\r\n  get CurrentSet() {\r\n    return this.currentChain.pools[this.currentPoolIndex];\r\n  }\r\n\r\n  get account() {\r\n    return this.eth.account;\r\n  }\r\n\r\n  get web3() {\r\n    return this.eth.web3;\r\n  }\r\n\r\n  get balanceOfXRC() {\r\n    if(this.CurrentSet.XRCToken)\r\n      return this.CurrentSet.XRCToken.balance;\r\n  }\r\n\r\n  get balanceOfCoin() {\r\n    return this.currentChain.Coin.balance;\r\n  }\r\n\r\n  setLoadingView(isShown) {\r\n    this.showLoadingView = isShown;\r\n  }\r\n\r\n  setLoadingText(text) {\r\n    this.loadingText = text;\r\n  }\r\n\r\n  getNetwork(network: string) {\r\n      return this.eth;\r\n  }\r\n\r\n  findPool({ poolId }: { poolId: string }) {\r\n    let pool: PoolState;\r\n    this.chains.forEach((network) => {\r\n      Object.values(network.chains).forEach((chain) => {\r\n        if (chain.pools[poolId]) {\r\n          pool = chain.pools[poolId];\r\n        }\r\n      });\r\n    });\r\n    return pool;\r\n  }\r\n\r\n  getPool({\r\n    network = this.currentNetworkName,\r\n    chainId = this.currentChain.chainId,\r\n    poolId\r\n  }: {\r\n    network?: string;\r\n    chainId?: number | string;\r\n    poolId: number | string;\r\n  }) {\r\n    return this.getNetwork(network).chains[chainId].pools[poolId];\r\n  }\r\n\r\n  getChain({ network = this.currentNetworkName, chainId = this.currentChain.chainId }: { network?: string; chainId?: number | string }) {\r\n    return this.getNetwork(network).chains[chainId];\r\n  }\r\n\r\n  async getM87PriceETH() {\r\n    let price;\r\n    // console.log('getAmountsIn');\r\n    try { \r\n      await this.currentNetwork.mainnetMulticallV2([\r\n        await this.currentNetwork.uniswapMulticall({\r\n          method: 'getAmountsIn',\r\n          params: ['1000000000000000000', ['0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2', '0x8AF5FedC0f263841C18F31D9DbCC97A47e1aB462']],\r\n          handler: (v: any) => {\r\n            price = new BigNumber(v[0].toString());\r\n            // console.log('price', price.toString(), v.toString());\r\n          }\r\n        }),\r\n      ]);\r\n    } catch (error) {\r\n      price = new BigNumber(0);\r\n    }\r\n    // console.log('price', price.toString());\r\n    return price;\r\n  }\r\n\r\n  async getTotalTVL() {\r\n    let sumOfTvl = new BigNumber(0);\r\n    const tvlState = new BigNumberState({ value: new BigNumber(0), viewerFixed: 3});\r\n    await Promise.all(this.currentNetwork.allowChains.map(async (indexOfChainID) => {\r\n      const chain = this.currentNetwork.chains[indexOfChainID];\r\n      const { poolList } = chain;\r\n      \r\n      for(var i = 0; i < poolList.length; i ++) {\r\n        let res = await getPoolBalance(poolList[i].BridgeToken, this.currentChain.gnosisRpcUrl, poolList[i].HorizonPool.address);\r\n        poolList[i].poolTVL = new BigNumber(res.toString());\r\n        sumOfTvl = sumOfTvl.plus(poolList[i].tvl);     \r\n      }\r\n\r\n      tvlState.setValue(sumOfTvl);\r\n      rootStore.base.tvl = tvlState.format;\r\n    }));\r\n  }\r\n\r\n  async loadPublichData() {\r\n    const xrcList = this.currentChain.poolList.filter((i) => i.XRCToken);\r\n\r\n    await this.currentNetwork.multicallV2([\r\n      ..._.flattenDeep(\r\n        xrcList.map((pool) => [\r\n          pool.XRCToken.preMulticall({\r\n            method: 'balanceOf',\r\n            params: [this.currentNetwork.account],\r\n            handler: (v: any) => {\r\n              const balance = new BigNumber(v.toString());\r\n              pool.balance.setValue(balance);\r\n              pool.XRCToken.balance.setValue(balance);\r\n            }\r\n          }),\r\n          pool.XRCToken.preMulticall({\r\n            method: 'allowance',\r\n            params: [this.currentNetwork.account, this.currentChain.L1Helper.address],\r\n            handler: (v: any) => {\r\n              const allowance = new BigNumber(v.toString());\r\n              pool.XRCToken.allownaceForRouter.setValue(allowance);\r\n            }\r\n          })\r\n        ])\r\n      ),\r\n    ]);\r\n  }\r\n\r\n  async loadBalance() {\r\n    const { poolList } = this.currentChain;\r\n    poolList.map((pool) => {\r\n      if(!pool.XRCToken) {\r\n        this.currentNetwork.loadBalance(pool.balance);\r\n      }\r\n    });\r\n  }\r\n\r\n  async approve({ token, spender, value }: { token: TokenState; spender: string; value: string }) {\r\n    // console.log('token', token);\r\n    // console.log('spender', spender);\r\n    // console.log('value', value);\r\n    token.metas.isApprovingAllowance = true;\r\n    const { approveMax } = rootStore.setting;\r\n    const approveValue = approveMax.value ? publicConfig.maxApprove : value;\r\n    // const approveValue = true ? publicConfig.maxApprove : value;\r\n    try {\r\n      const res = await this.currentNetwork.execContract({\r\n        address: token.address,\r\n        abi: token.abi,\r\n        method: 'approve',\r\n        params: [spender, approveValue]\r\n      });\r\n      const receipt = await res.wait();\r\n      if (receipt.status) {\r\n        token.metas.isApprovingAllowance = false;\r\n        token.allownaceForRouter.setValue(new BigNumber(approveValue).plus(token.allownaceForRouter.value));\r\n      }\r\n    } catch (error) {\r\n      token.metas.isApprovingAllowance = false;\r\n      throw new Error(\"Error while approving\");\r\n    }\r\n  }\r\n\r\n  async CliamToken({ aeolus }: { aeolus: AeolusContractState }) {\r\n    // console.log('aeolus', aeolus);\r\n    await this.currentNetwork.execContract({\r\n      address: aeolus.address,\r\n      abi: aeolus.abi,\r\n      method: 'deposit',\r\n      params: [0]\r\n    });\r\n  }\r\n\r\n  async deposit({ amount, data }: { amount: any, data: any }) {\r\n    // console.log('this.CurrentSet.address', this.CurrentSet.address);\r\n    // console.log('commitment', commitment);\r\n    // console.log('this.CurrentSet.allowBuyCYC', this.CurrentSet.allowBuyCYC);\r\n    const config = this.currentChain;\r\n    const tokenAddress = this.CurrentSet.XRCToken ? this.CurrentSet.XRCToken.address : '0x0000000000000000000000000000000000000000';\r\n    console.log('data', data);\r\n    try {\r\n      let res;\r\n      if(this.isRegistered) {\r\n        res = await this.currentNetwork.execContract({\r\n          address: config.L1Helper.address,\r\n          abi: config.L1Helper.abi,\r\n          method: 'wrapAndRelayTokens(address,address,uint256,bytes)',\r\n          params: [this.CurrentSet.HorizonPool.address, tokenAddress, amount.toString(), data],\r\n          options: {\r\n            value: this.CurrentSet.XRCToken ? 0 : amount.toString()\r\n          }\r\n        });\r\n      }\r\n      else {\r\n        res = await this.currentNetwork.execContract({\r\n          address: config.L1Helper.address,\r\n          abi: config.L1Helper.abi,\r\n          method: 'wrapAndRelayTokens(address,address,uint256,bytes,(address,bytes))',\r\n          params: [this.CurrentSet.HorizonPool.address, tokenAddress, amount.toString(), data, { owner: this.myAddress, publicKey: this.myPublicKey }],\r\n          options: {\r\n            value: this.CurrentSet.XRCToken ? 0 : amount.toString()\r\n          }\r\n        });\r\n      }\r\n      // const curTx = new TransactionState({\r\n      //   createTime: new Date().getTime(),\r\n      //   amountToken: this.CurrentSet.XRCToken ? this.CurrentSet.tokenDenomination.format : '0',\r\n      //   amountCYC: '0',\r\n      //   amountCoin: this.CurrentSet.id,\r\n      //   txHash: res.hash,\r\n      //   note: this.currentNote,\r\n      //   commitment: commitment,\r\n      //   status: 2,\r\n      //   chainId: this.currentChain.chainId,\r\n      //   poolId: this.currentPoolIndex,\r\n      //   tokenSymbol: this.CurrentSet.XRCToken ? this.CurrentSet.XRCToken.symbol : null\r\n      // })\r\n      // const txStore = rootStore.transaction;\r\n      // txStore.addTransaction(curTx);\r\n      return res;\r\n      // const receipt = await res.wait();\r\n      // if (receipt.status) {\r\n      //   txStore.transactions[txStore.transactions.length - 1].status = 1;\r\n      //   txStore.save();\r\n      // };\r\n    } catch (error) {\r\n        console.log(error);\r\n        throw new Error(\"Error while depositing\");\r\n    }\r\n  }\r\n  \r\n  async register() {\r\n    const L1HelperContract = this.currentChain.L1Helper;\r\n    const address = this.currentNetwork.account;\r\n    const publicKey = this.myPublicKey;\r\n    console.log('L1HelperContract', L1HelperContract);\r\n    console.log('address', address);\r\n    console.log('publicKey', publicKey);\r\n    try {\r\n      const res = await this.currentNetwork.execContract({\r\n        address: L1HelperContract.address,\r\n        abi: L1HelperContract.abi,\r\n        method: 'register',\r\n        params: [{owner: address, publicKey: publicKey}],\r\n      });\r\n      // const curTx = new TransactionState({\r\n      //   createTime: new Date().getTime(),\r\n      //   amountToken: this.CurrentSet.XRCToken ? this.CurrentSet.tokenDenomination.format : '0',\r\n      //   amountCYC: '0',\r\n      //   amountCoin: this.CurrentSet.id,\r\n      //   txHash: res.hash,\r\n      //   note: this.currentNote,\r\n      //   commitment: commitment,\r\n      //   status: 2,\r\n      //   chainId: this.currentChain.chainId,\r\n      //   poolId: this.currentPoolIndex,\r\n      //   tokenSymbol: this.CurrentSet.XRCToken ? this.CurrentSet.XRCToken.symbol : null\r\n      // })\r\n      // const txStore = rootStore.transaction;\r\n      // txStore.addTransaction(curTx);\r\n      this.setLoadingText(rootStore.lang.t('registering'));\r\n      this.setLoadingView(true);\r\n      const receipt = await res.wait();\r\n      await this.checkRegistration(this.currentNetwork.account);\r\n      this.setLoadingView(false);\r\n      // if (receipt.status) {\r\n      //   txStore.transactions[txStore.transactions.length - 1].status = 1;\r\n      //   txStore.save();\r\n      // };\r\n      hooks.waitLoading({ msg: rootStore.lang.t('notification'), confirmText: rootStore.lang.t('signup.success') });\r\n    } catch (error) {\r\n        // console.log('error', error);\r\n        // throw new Error(\"Error while depositing\");\r\n    }\r\n  }\r\n\r\n  async checkRegistration(address) {\r\n    const config = this.currentChain;\r\n    let response = await axios.post(config.relayer + '/v1/getAccountStatus', {address: address}, {});\r\n    let res = response.data;\r\n    const { blockNumber, isExist, publicKey } = res;\r\n    if(isExist) {\r\n      this.isRegistered = true;\r\n      this.myPublicKey = publicKey;\r\n    }\r\n    else {\r\n      response = await axios.post(config.relayer + '/v1/getPubkey', {key: this.myPrivteKey}, {});\r\n      res = response.data;\r\n      this.myPublicKey = res.publicKey;\r\n    }\r\n    const event = await getKeypairLog(blockNumber, config.L1Helper, config.rpcUrl, config.relayer, this.myPublicKey);\r\n    console.log(event);\r\n    if(event) {\r\n      this.isRegistered = true;\r\n      this.myPublicKey = event.publicKey;\r\n    }\r\n  }\r\n\r\n  async checkPrivateKey(privateKey) {\r\n    const config = this.currentChain;\r\n\r\n    let response = await axios.post(config.relayer + '/v1/getPrivateKeyStatus', {key: privateKey}, {});\r\n    let res = response.data;\r\n    const { address, blockNumber, publicKey, isExist, invalid } = res;\r\n\r\n    if(invalid) {\r\n      return { invalid: true };\r\n    }\r\n    else {\r\n      this.myPublicKey = publicKey;\r\n      if(isExist) {\r\n        this.isRegistered = true;\r\n        this.myAddress = address;\r\n        this.myPrivteKey = privateKey; \r\n      }\r\n      const event = await getKeypairLog(blockNumber, config.L1Helper, config.rpcUrl, config.relayer, publicKey);\r\n      if(event) {\r\n        this.isRegistered = true;\r\n        this.myAddress = event.address;\r\n        this.myPrivteKey = privateKey; \r\n      }\r\n      return { invalid: false }\r\n    }\r\n  }\r\n\r\n  async checkCommitmentAndNullifer(pool) {\r\n    const config = this.currentChain;\r\n    let response = await axios.post(pool.relayer + '/v1/getCommitmentAndNullifierStatus');\r\n    let res = response.data;\r\n    const {commitmentblockNumber, nullifierBlockNumber} = res;\r\n    console.log(pool.id, 'commentlog started...');\r\n    await getCommitmentAndNullifierLog(commitmentblockNumber, nullifierBlockNumber, pool.HorizonPool, config.gnosisRpcUrl, pool.relayer);\r\n    console.log('commentlog finished...');\r\n    response = await axios.post(pool.relayer + '/v1/getUTXOFromKey', {key: this.myPrivteKey}, {});\r\n    res = response.data;\r\n\r\n    const myUtxoArr = res.UTXOArr.sort((a, b) => new BigNumber(a.amount.hex).comparedTo(new BigNumber(b.amount.hex))).map((e) => {return {amount: new BigNumber(e.amount.hex), commitment: e._commitment.hex}});\r\n    let sumBalance = new BigNumber(0);\r\n    myUtxoArr.map((utxo) => {\r\n      sumBalance = sumBalance.plus(utxo.amount);\r\n    });\r\n    pool.shieldedBalance.setValue(sumBalance);\r\n    pool.utxoList = myUtxoArr;\r\n    console.log('monitor');\r\n    console.log(pool.id, 'myUtxoArr', myUtxoArr);\r\n    rootStore.base.startRefetchForce();\r\n  }\r\n\r\n  clearAccountInfo() {\r\n    this.myAddress = this.myPrivteKey = this.myPublicKey = null;\r\n    this.isRegistered = false;\r\n    this.loginType = null;\r\n  }\r\n\r\n  async ApproveLP({ amount, aeolus }: { amount: string; aeolus: AeolusContractState }) {\r\n    const { LpToken } = aeolus;\r\n    LpToken.metas.isApprovingAllowance = true;\r\n    try {\r\n      const res = await this.currentNetwork.execContract({\r\n        address: LpToken.address,\r\n        abi: LpToken.abi,\r\n        method: 'approve',\r\n        params: [aeolus.address, amount]\r\n      });\r\n      const receipt = await res.wait();\r\n      if (receipt.status) {\r\n        LpToken.metas.isApprovingAllowance = false;\r\n        LpToken.allowanceForAeolus.setValue(new BigNumber(amount));\r\n      }\r\n    } catch (error) {\r\n      LpToken.metas.isApprovingAllowance = false;\r\n    }\r\n  }\r\n  async StakeLP({ amount, aeolus }: { amount: string; aeolus: AeolusContractState }) {\r\n    // console.log(aeolus);\r\n    const res = await this.currentNetwork.execContract({\r\n      address: aeolus.address,\r\n      abi: aeolus.abi,\r\n      method: 'deposit',\r\n      params: [amount]\r\n    });\r\n    const receipt = await res.wait();\r\n    if (receipt.status) {\r\n      rootStore.base.startRefetchForce();\r\n    }\r\n  }\r\n  async UnStakeLP({ amount, aeolus }: { amount: string; aeolus: AeolusContractState }) {\r\n    const res = await this.currentNetwork.execContract({\r\n      address: aeolus.address,\r\n      abi: aeolus.abi,\r\n      method: 'withdraw',\r\n      params: [amount]\r\n    });\r\n    const receipt = await res.wait();\r\n    if (receipt.status) {\r\n      rootStore.base.startRefetchForce();\r\n    }\r\n  }\r\n\r\n  setShowConnecter(value) {\r\n    this.currentNetwork.connector.showConnector = value;\r\n  }\r\n\r\n  setCurrentSelectedAmount(index) {\r\n    if (!this.isOnProgress) {\r\n      if(this.currentPoolIndex == index) {\r\n        this.isLockStatus = !this.isLockStatus;\r\n      }\r\n      else {\r\n        if( this.isLockStatus )\r\n          this.isLockStatus = false;\r\n        this.currentPoolIndex = index;\r\n      }\r\n    }\r\n  }\r\n\r\n  async addCYCToMetamask() {\r\n    if(this.currentChain.chainId == 1)\r\n      metamaskUtils.registerToken(this.CYCToken.address, this.CYCToken.symbol, this.CYCToken.decimals, Config.baseURL + '/images/M87Token.svg');\r\n  }\r\n}\r\n","import { makeAutoObservable } from 'mobx';\r\n\r\nexport class DevStore {\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n    const params = new URLSearchParams(window.location.search);\r\n    this.dev = !!params.get('dev');\r\n    this.devUI = !!params.get('devui');\r\n    this.devPool = !!params.get('devpool');\r\n  }\r\n  dev = false;\r\n  devUI = false;\r\n  devPool = false;\r\n}\r\n","import { makeAutoObservable } from 'mobx';\r\nimport { rootStore } from '../index';\r\nimport { Network } from '../god';\r\n\r\nexport class TransactionState {\r\n  createTime: number;\r\n  amountToken: string;\r\n  amountCYC: string;\r\n  amountCoin: string;\r\n  txHash: string;\r\n  note: string;\r\n  commitment: string;\r\n  // 0: waiting for receipt\r\n  // 1: deposited\r\n  // 2: sending\r\n  // 3: spent\r\n  status = 1;\r\n  network: Network;\r\n  chainId: number;\r\n  poolId: any;\r\n  subsequent: 0;\r\n  tokenSymbol?: string | null;\r\n  constructor(args: Partial<TransactionState>) {\r\n    Object.assign(this, args);\r\n    makeAutoObservable(this);\r\n\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      createTime: this.createTime,\r\n      amountToken: this.amountToken,\r\n      amountCYC: this.amountCYC,\r\n      amountCoin: this.amountCoin,\r\n      txHash: this.txHash,\r\n      note: this.note,\r\n      commitment: this.commitment,\r\n      status: this.status,\r\n      chainId: this.chainId,\r\n      poolId: this.poolId,\r\n      tokenSymbol: this.tokenSymbol\r\n    };\r\n  }\r\n\r\n  get txUrl() {\r\n      return this.chain.explorerURL + '/tx/' + this.txHash;\r\n  }\r\n\r\n  get chain() {\r\n    const { network, chainId, poolId } = this;\r\n    return rootStore.god.getChain({ network, chainId });\r\n  }\r\n\r\n  get pool() {\r\n    const { network, chainId, poolId } = this;\r\n    return rootStore.god.getPool({ network, chainId, poolId });\r\n  }\r\n\r\n  get statusLabel() {\r\n    switch (this.status) {\r\n      case 0:\r\n        return rootStore.lang.t('waiting.for.receipt');\r\n\r\n      case 1:\r\n        return rootStore.lang.t('Deposited');\r\n\r\n      case 2:\r\n        return rootStore.lang.t('Sending');\r\n\r\n      case 3:\r\n        return rootStore.lang.t('Spent');\r\n    }\r\n  }\r\n}\r\n","import { makeAutoObservable } from 'mobx';\r\nimport { TransactionState } from './lib/TransactionState';\r\nimport { rootStore } from './index';\r\n\r\nconst transactionsKey = 'transactions';\r\n\r\nexport class TransactionStore {\r\n  transactions: TransactionState[] = [];\r\n  constructor() {\r\n    // localStorage.setItem(transactionsKey, \"\");\r\n    makeAutoObservable(this);\r\n    const transaction = localStorage.getItem(transactionsKey);\r\n    if (transaction) {\r\n      this.transactions = JSON.parse(transaction).map((i) => new TransactionState(i));\r\n    }\r\n  }\r\n\r\n  get currentTransactions() {\r\n    // console.log('transactions', this.transactions.length);\r\n    return this.transactions.filter((i) => i.chainId == rootStore.god.currentChain.chainId);\r\n  }\r\n\r\n  fetchTxbyNote(note) {\r\n    // console.log('fetchTxbyNote', this.transactions.length);\r\n    return this.transactions.filter((i) => i.note == note);\r\n  }\r\n\r\n  addTransaction(transaciton: TransactionState) {\r\n    this.transactions.push(transaciton);\r\n    // console.log(this.transactions);\r\n    // console.log(JSON.stringify(this.transactions));\r\n    localStorage.setItem(transactionsKey, JSON.stringify(this.transactions));\r\n    // console.log('addTransaction', transaciton);\r\n  }\r\n\r\n  removeTransaction(transaciton: TransactionState) {\r\n    // console.log('transaciton.txHash', transaciton.txHash);\r\n    this.transactions = this.transactions.filter((i) => i.txHash !== transaciton.txHash);\r\n    localStorage.setItem(transactionsKey, JSON.stringify(this.transactions));\r\n  }\r\n\r\n  save() {\r\n    localStorage.setItem(transactionsKey, JSON.stringify(this.transactions));\r\n  }\r\n}\r\n","import { makeAutoObservable } from 'mobx';\r\nimport { StorageState } from './type';\r\n\r\nexport class SettingStore {\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n  approveMax = new StorageState({ key: 'approveMax', default: true });\r\n}\r\n","import { makeAutoObservable } from 'mobx';\r\nimport TimeAgo from 'javascript-time-ago';\r\nimport en from 'javascript-time-ago/locale/en';\r\nimport zh from 'javascript-time-ago/locale/zh';\r\nimport ru from 'javascript-time-ago/locale/ru';\r\nimport { rootStore } from './index';\r\nimport { analyticsETHClient } from '../lib/analytics-bsc-gql';\r\nimport { eventBus } from '../lib/event';\r\nimport { marketUtils } from '../utils/market';\r\nimport { isMobile } from \"react-device-detect\";\r\nimport BigNumber from 'bignumber.js';\r\nimport { BigNumberState } from '../store/type';\r\nimport axios from 'axios';\r\n\r\nTimeAgo.addDefaultLocale(en);\r\nTimeAgo.addLocale(ru);\r\nTimeAgo.addLocale(zh);\r\n\r\nexport class BaseStore {\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n    // console.log('BaseStore');\r\n    this.startRefetch();\r\n  }\r\n\r\n  timer: any;\r\n\r\n  downloadShieldedKey = (address, priavetKey) => {\r\n    if( isMobile )\r\n      return;\r\n      \r\n    const element = document.createElement(\"a\");\r\n    const file = new Blob([priavetKey], {\r\n      type: \"text/plain\"\r\n    });\r\n    element.href = URL.createObjectURL(file);\r\n    element.download = 'Horizon Shielded Key - ' + address.substring(0, 5) + '.txt';\r\n    document.body.appendChild(element);\r\n    element.click();\r\n  };\r\n\r\n  startRefetch() {\r\n    if (this.timer) clearInterval(this.timer);\r\n    this.timer = setInterval(() => {\r\n      eventBus.emit('amount.refetch');\r\n      this.refetchTimer += 1;\r\n    }, 15000);\r\n  }\r\n\r\n  startRefetchForce() {\r\n    eventBus.emit('amount.refetch');\r\n    this.refetchTimer += 1;\r\n    this.startRefetch();\r\n  }\r\n\r\n  tempIndex = Number(window.localStorage.getItem('tempIndex'));\r\n  timeAgos = {\r\n    en: new TimeAgo('en-US'),\r\n    ru: new TimeAgo('ru-RU'),\r\n    zh_CN: new TimeAgo('zh-CN')\r\n  };\r\n  get timeAgo() {\r\n    const timeAgo = this.timeAgos[rootStore.lang.lang];\r\n    return timeAgo || this.timeAgos.en;\r\n  }\r\n  ip = '';\r\n  geo = '';\r\n  apy = 0;\r\n  refetchTimer = 0;\r\n  cycPrice = 0;\r\n  ethPrice = 0;\r\n  coinPrice = [];\r\n  m87PriceETH = new BigNumber('0');\r\n  m87PriceUSD = new BigNumberState({ value: new BigNumber(0), viewerFixed: 9 });\r\n  tvl = 0;\r\n\r\n  loading = {\r\n    visible: false,\r\n    msg: '',\r\n    showConfirm: true,\r\n    showCancel: false,\r\n    showLoading: false,\r\n    confirmText: ''\r\n  };\r\n\r\n  pendingPool = {\r\n    visible: false,\r\n  };\r\n\r\n  modal = {\r\n    visible: false,\r\n    title: '',\r\n    msg: ''\r\n  };\r\n  setModal(args: Partial<BaseStore['modal']>) {\r\n    Object.assign(this.modal, { visible: true }, args);\r\n  }\r\n  closeModal() {\r\n    this.modal = {\r\n      visible: false,\r\n      title: '',\r\n      msg: ''\r\n    };\r\n  }\r\n\r\n  setPendingPool() {\r\n    Object.assign(this.pendingPool, { visible: true });\r\n  }\r\n  closePendingPool() {\r\n    this.pendingPool = {\r\n      visible: false,\r\n    };\r\n  }\r\n\r\n  closeLoading() {\r\n    this.loading = {\r\n      visible: false,\r\n      msg: '',\r\n      showConfirm: true,\r\n      showCancel: false,\r\n      showLoading: false,\r\n      confirmText: ''\r\n    };\r\n  }\r\n\r\n  setLoading(args: Partial<BaseStore['loading']>) {\r\n    Object.assign(this.loading, { visible: true, showLoading: false, showConfirm: true }, args);\r\n  }\r\n\r\n  async getCycPrice() {\r\n    let response = await axios.get('https://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=BTC,USD,EUR');\r\n    const price = response.data.USD;\r\n    response = await axios.get('https://min-api.cryptocompare.com/data/price?fsym=BNB&tsyms=BTC,USD,EUR');\r\n    const priceBNB = response.data.USD;\r\n    response = await axios.get('https://min-api.cryptocompare.com/data/price?fsym=MATIC&tsyms=BTC,USD,EUR');\r\n    const priceMatic = response.data.USD;\r\n    this.coinPrice['ETH'] = price;\r\n    this.coinPrice['BNB'] = priceBNB;\r\n    this.coinPrice['MATIC'] = priceMatic;\r\n    // this.coinPrice['ETH'] = '1445'\r\n    // this.coinPrice['BNB'] = '280';\r\n    // this.coinPrice['MATIC'] = '0.9';\r\n    this.ethPrice = this.coinPrice['ETH'];\r\n    this.m87PriceETH = await rootStore.god.getM87PriceETH();\r\n\r\n    this.m87PriceUSD.setValue(this.m87PriceETH.multipliedBy(this.ethPrice));\r\n\r\n    await rootStore.god.getTotalTVL();\r\n  }\r\n  init() {\r\n    this.getCycPrice();\r\n  }\r\n}","import React from 'react';\r\nimport { LangStore } from './lang';\r\nimport { GodStore } from './god';\r\nimport { DevStore } from './dev';\r\nimport { TransactionStore } from './transaction';\r\nimport { SettingStore } from './setting';\r\nimport { BaseStore } from './base';\r\n\r\nexport const rootStore = {\r\n  base: new BaseStore(),\r\n  lang: new LangStore(),\r\n  god: new GodStore(),\r\n  dev: new DevStore(),\r\n  transaction: new TransactionStore(),\r\n  setting: new SettingStore(),\r\n};\r\n\r\nconst StoresContext = React.createContext(rootStore);\r\n\r\nexport const useStore = () => React.useContext(StoresContext);\r\n\r\n//@ts-ignore\r\nwindow._store = rootStore;\r\n","import web3 from 'web3'\r\n\r\nexport const metamaskUtils = {\r\n  registerToken: async (tokenAddress: string, tokenSymbol: string, tokenDecimals: number, tokenImage: string) => {\r\n    const tokenAdded = await window.ethereum.request({\r\n      method: 'wallet_watchAsset',\r\n      params: {\r\n        type: 'ERC20',\r\n        options: {\r\n          address: tokenAddress,\r\n          symbol: tokenSymbol,\r\n          decimals: tokenDecimals,\r\n          image: tokenImage\r\n        }\r\n      }\r\n    });\r\n\r\n    return tokenAdded;\r\n  },\r\n  setupNetwork: async ({\r\n    chainId,\r\n    chainName,\r\n    rpcUrls,\r\n    blockExplorerUrls,\r\n    nativeCurrency\r\n  }: {\r\n    chainId: number;\r\n    chainName: string;\r\n    rpcUrls: string[];\r\n    blockExplorerUrls: string[];\r\n    nativeCurrency: {\r\n      name: string;\r\n      symbol: string;\r\n      decimals: number;\r\n    };\r\n  }) => {\r\n    const provider = window.ethereum;\r\n    if (provider) {\r\n      try {\r\n        await provider.request({\r\n          method: 'wallet_switchEthereumChain',\r\n          params: [{ chainId: web3.utils.toHex(chainId) }]\r\n        });\r\n      } catch (err) {\r\n          // This error code indicates that the chain has not been added to MetaMask\r\n        if (err.code != 4001) {\r\n          await provider.request({\r\n            method: 'wallet_addEthereumChain',\r\n            params: [\r\n              {\r\n                chainId: `0x${chainId.toString(16)}`,\r\n                chainName,\r\n                nativeCurrency,\r\n                rpcUrls,\r\n                blockExplorerUrls\r\n              }\r\n            ]\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { styled } from '../../modules/index';\r\nimport { Icon } from '../../modules/globalStyle';\r\n\r\ninterface IComponentProps {\r\n  imgs?: any;\r\n}\r\n\r\nconst StackBox = styled('div', {\r\n  position: 'relative',\r\n  width: '1.25rem',\r\n  height: '1.25rem',\r\n  '@md': {\r\n    width: '2.5rem',\r\n    height: '2.5rem',\r\n  },\r\n  img: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    top: 0,\r\n    width: '1.25rem',\r\n    height: '1.25rem',\r\n    '@md': {\r\n      width: '2.5rem',\r\n      height: '2.5rem',\r\n    },\r\n    '&:nth-child(1)': {\r\n      zIndex: 2\r\n    },\r\n    '&:nth-child(2)': {\r\n      left: '0.9rem',\r\n      '@md': {\r\n        left: '1.875rem',\r\n      }\r\n    },\r\n\r\n  }\r\n})\r\n\r\nexport const SingleSymbol = (props: IComponentProps) => {\r\n  const { imgs } = props\r\n  return (\r\n    <StackBox>\r\n      <Icon src={imgs[0]} alt=\"\" />\r\n    </StackBox>\r\n  );\r\n}","import BigNumber from 'bignumber.js';\r\nimport { makeAutoObservable } from 'mobx';\r\nimport { helper } from '../../utils/helper';\r\nexport class BigNumberInputState {\r\n  value = new BigNumber(0);\r\n  format = '0';\r\n  loading: boolean;\r\n  decimals = 18;\r\n  formatter?: Function;\r\n  constructor(args: Partial<BigNumberInputState>) {\r\n    Object.assign(this, args);\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  setValue(value: BigNumber) {\r\n    this.value = value;\r\n    this.format = helper.number.toPrecisionFloor(new BigNumber(this.value).dividedBy(10 ** this.decimals).toFixed());\r\n    this.setLoading(false);\r\n  }\r\n  setFormat(val) {\r\n    this.format = val;\r\n    this.value = new BigNumber(val).multipliedBy(10 ** this.decimals);\r\n  }\r\n  setLoading(val) {\r\n    this.loading = val;\r\n  }\r\n}\r\n","import { makeAutoObservable, toJS } from 'mobx';\r\nimport { TokenState } from './TokenState';\r\nimport { NetworkState } from './NetworkState';\r\nimport { LoadingState } from './LoadingState';\r\nimport { _ } from '../../lib/lodash';\r\nimport { BigNumberState, MulticallParams } from '../type';\r\nimport { ChainState } from './ChainState';\r\nimport { rootStore } from '../index';\r\nimport BigNumber from 'bignumber.js';\r\nimport { DepositCYCAmountState } from './DepositCYCAmountState';\r\nimport VerifierABI from '../../../public/contracts/Verifier.json';\r\nimport { ContractState } from './ContractState';\r\n\r\nexport enum PoolStateStatus {\r\n  init = 'init',\r\n  onDeposit = 'onDeposit'\r\n}\r\n\r\nexport class PoolState {\r\n  constructor(args: Partial<PoolState>) {\r\n    Object.assign(this, args);\r\n    makeAutoObservable(this, { network: false, chain: false });\r\n  }\r\n  // data\r\n  network: NetworkState;\r\n  chain: ChainState;\r\n  id: any;\r\n  set: string;\r\n  XRCToken?: TokenState;\r\n  relayer: string;\r\n  HorizonPool: ContractState;\r\n  BridgeToken: TokenState;\r\n  symbol: string;\r\n  balance = new BigNumberState({ loading: true });\r\n  poolTVL: BigNumber;\r\n  shieldedBalance = new BigNumberState({ value: new BigNumber(0) });\r\n  utxoList: any = [];\r\n  maxDepositAmount: BigNumber;\r\n  minDepositAmount: BigNumber;\r\n\r\n  status: PoolStateStatus = PoolStateStatus.init;\r\n  isShow = false;\r\n\r\n  order: Number;\r\n\r\n  get icon() {\r\n    return this.symbol.toLowerCase();\r\n  }\r\n  \r\n  get tvl() {\r\n    let res;\r\n    if(!this.XRCToken) {\r\n      res = this.poolTVL.multipliedBy(rootStore.base.coinPrice[this.symbol]);\r\n    }\r\n    else {\r\n      res = this.poolTVL;\r\n    }\r\n    return res;\r\n  }\r\n\r\n}\r\n","const Config = {\r\n  rpcURL: 'https://node.cyclone.xyz:443',\r\n  infuraId: 'b92caba4c2f34967814d82d6b0f8a5ee',\r\n  backendServiceURL: 'https://cyclone-backend-server.herokuapp.com/',\r\n  // backendServiceURL: 'http://localhost:3001/',\r\n  iotexRpcURL: 'https://api.iotex.one:443',\r\n  analyticsURL: 'https://analytics.cyclone.xyz/query',\r\n  analyticsBscURL: 'https://analytics-bsc.cyclone.xyz/query',\r\n  analyticsETHURL: 'https://analytics-eth.cyclone.xyz/query',\r\n\r\n  merkleTreeHeight: 20,\r\n  version: 'v1.0',\r\n  donations: {\r\n    address: 'io1sakkyd90hujz8qdtn9g5s33rh5u78ca5hvwrnl'\r\n  },\r\n  baseURL: 'https://horizon.messier.app',\r\n  // ipAPI: \"http://api.ipstack.com/check?access_key=c3e6ba7f3caf08fb34d8fc5c05bc58f7&fields=ip\",\r\n  defaultAccount: 'io18klsywn05cncek6892uuuq0hhyacqrsh0ep575',\r\n  ipAPI: 'https://freegeoip.app/json/',\r\n  GeoAPI: 'http://api.ipstack.com/{ip}?access_key=c3e6ba7f3caf08fb34d8fc5c05bc58f7',\r\n  intervalForContract: 180000,\r\n  relayer: 'https://relayer.cyclone.xyz',\r\n  assetURL: '',\r\n  retry: 10,\r\n  mimoExchange: {\r\n    address: 'io1z2wmt6y74ctc9l4y4ly73gkynp0p4haj2d326m',\r\n    abi: 'contracts/MimoExchange.json'\r\n  },\r\n  Aeolus: {\r\n    address: 'io1j2rwjfcm7jt7cwdnlkh0203chlrtfnc59424xc',\r\n    abi: 'contracts/Aeolus.json'\r\n  },\r\n  LPToken: {\r\n    address: 'io1z2wmt6y74ctc9l4y4ly73gkynp0p4haj2d326m',\r\n    abi: 'contracts/XRC20.json',\r\n    decimals: 18\r\n  },\r\n  CYCToken: {\r\n    address: 'io1f4acssp65t6s90egjkzpvrdsrjjyysnvxgqjrh',\r\n    tokenName: 'CYC',\r\n    abi: 'contracts/XRC20.json',\r\n    decimals: 18,\r\n    bsc_address: '0x810ee35443639348adbbc467b33310d2ab43c168'\r\n  },\r\n  tokens: [\r\n    {\r\n      name: 'IOTX',\r\n      decimals: 18,\r\n      networkID: 1,\r\n      address: '',\r\n      abi: 'contracts/XRC20.json',\r\n      amountSteps: [\r\n        {\r\n          set: 'Pool 1- Squid',\r\n          poolId: 3,\r\n          address: 'io15w9kwskwl9tn7luhcwrj0rarzjp988pafg07uf',\r\n          abi: 'contracts/IOTXCyclone.json'\r\n        },\r\n        {\r\n          set: 'Pool 2- Dolphin',\r\n          poolId: 4,\r\n          address: 'io1wcd67wk36e3r8eku8scv7g7azsfnqs7z3e38xg',\r\n          abi: 'contracts/IOTXCyclone.json'\r\n        },\r\n        {\r\n          set: 'Pool 3- Shark',\r\n          poolId: 5,\r\n          address: 'io1v667xgkux8uv0gell53ew5tr090c69k85deezn',\r\n          abi: 'contracts/IOTXCyclone.json'\r\n        },\r\n        {\r\n          set: 'Pool 4- Whale',\r\n          poolId: 6,\r\n          address: 'io1wnaks7kectrkxk5v4d7mh97jkqjl4p0690jxfx',\r\n          abi: 'contracts/IOTXCyclone.json'\r\n        },\r\n        {\r\n          set: 'Early Sparrow',\r\n          poolId: 0,\r\n          deprecated: true,\r\n          address: 'io1rqm2keejw4jypgl0w6hr96r054ns63u0hqrfuy',\r\n          abi: 'contracts/IOTXCyclone.json'\r\n        },\r\n        {\r\n          set: 'Early Raven',\r\n          poolId: 1,\r\n          deprecated: true,\r\n          address: 'io1gkeeljp4grwskgq3tl2xqglqy546nhhmytnqqp',\r\n          abi: 'contracts/IOTXCyclone.json'\r\n        },\r\n        {\r\n          set: 'Early Eagle',\r\n          poolId: 2,\r\n          deprecated: true,\r\n          address: 'io1mlcgsv4ma0t6gffpxg2gva3lwqnlj5msradxk6',\r\n          abi: 'contracts/IOTXCyclone.json'\r\n        }\r\n      ]\r\n    }\r\n    // {\r\n    //   name: 'VITA',\r\n    //   decimals: 18,\r\n    //   networkID: 1,\r\n    //   address: 'io1hp6y4eqr90j7tmul4w2wa8pm7wx462hq0mg4tw',\r\n    //   abi: 'contracts/XRC20.json',\r\n    //   amountSteps: [\r\n    //     {\r\n    //       amount: 1,\r\n    //       amoutnValue: '1000000000000000000',\r\n    //       set: 'Pool 1 - 1 VITA',\r\n    //       address: 'io1r73g576mz9l8fruytar07dack8mqe93zafnl9e',\r\n    //       abi: require('./contracts/IOTXCyclone.json'),\r\n    //     },\r\n    //     {\r\n    //       amount: 2,\r\n    //       amoutnValue: '200000000000000000000',\r\n    //       set: 'Pool 2 - 2 VITA',\r\n    //       address: '',\r\n    //       abi: '',\r\n    //     },\r\n    //     {\r\n    //       amount: 3,\r\n    //       amoutnValue: '300000000000000000000',\r\n    //       set: 'Pool 3 - 3 VITA',\r\n    //       address: '',\r\n    //       abi: '',\r\n    //     },\r\n    //   ],\r\n    // },\r\n  ]\r\n};\r\n\r\nexport default Config;\r\n","import { createClient } from '../../generated/bsc/gql/createClient';\r\nimport { request } from 'graphql-request';\r\nimport Config from '../Config';\r\n\r\nexport const analyticsBscClient = createClient({\r\n  fetcher: ({ query, variables }) => request(Config.analyticsBscURL, query, variables).then((data) => ({ data }))\r\n});\r\n\r\nexport const analyticsETHClient = createClient({\r\n  fetcher: ({ query, variables }) => request(Config.analyticsETHURL, query, variables).then((data) => ({ data }))\r\n});\r\n\r\nexport const createAnalyticsEthCilent = ({ APIURL }) =>\r\n  createClient({\r\n    fetcher: ({ query, variables }) => request(APIURL, query, variables).then((data) => ({ data }))\r\n  });\r\n","import { makeAutoObservable, toJS } from 'mobx';\r\nimport { ChainState } from './ChainState';\r\nimport { GodStore } from '../god';\r\nimport { providers as EthersProviders, ethers, Contract, Signer } from 'ethers';\r\nimport { JsonRpcProvider, TransactionResponse, Web3Provider } from '@ethersproject/providers';\r\nimport BigNumber from 'bignumber.js';\r\nimport { analyticsBscClient, createAnalyticsEthCilent } from '../../lib/analytics-bsc-gql';\r\nimport { _ } from '../../lib/lodash';\r\nimport { Contract as MuticallContract, Provider } from '@iotexproject/ethers-multicall';\r\nimport { PoolState } from './PoolState';\r\nimport { StorageState, MulticallParams } from '../type';\r\nimport UniswapABI from '../../../public/contracts/pancakeswap.json';\r\n\r\nexport interface NetworkState {\r\n  god: GodStore;\r\n  chainId: number;\r\n  defaultChainId: number;\r\n  allowChains: number[];\r\n  chains: {\r\n    [key: string]: ChainState;\r\n  };\r\n  currentChain: ChainState;\r\n  metas: {\r\n    [key: string]: any;\r\n  };\r\n  account: string;\r\n  web3: any;\r\n  apyMap: Record<string, { apy: string; adderss: string }>;\r\n  poolTvl: Record<string, { apy: string; adderss: string }>;\r\n\r\n  connector: { latestProvider: StorageState<string>; showConnector: boolean };\r\n  walletInfo: { visible: boolean };\r\n\r\n  findLogs: (args: {\r\n    contractAddress: string;\r\n    first?: number;\r\n  }) => Promise<{\r\n    totalCount: number;\r\n    deposits: Partial<{\r\n      commitment: any;\r\n      leafIndex: any;\r\n      timestamp: any;\r\n      tokenDenomination: any;\r\n      coinDenomination: any;\r\n      cycDenomination: any;\r\n    }>[];\r\n  }>;\r\n  loadBalance: Function;\r\n  loadAnalyticsData: Function;\r\n  multicall(calls: Partial<MulticallParams>[]): Promise<any[]>;\r\n  multicallV2?(calls: Partial<MulticallParams>[]): Promise<any[]>;\r\n  mainnetMulticallV2?(calls: Partial<MulticallParams>[]): Promise<any[]>;\r\n  useMulticallV2(calls: Partial<MulticallParams>[], chainID: number): Promise<any[]>;\r\n  execContract(call: MulticallParams): Promise<Partial<TransactionResponse>>;\r\n  isAddressaVailable(address: string): boolean;\r\n  uniswapMulticall(args: Partial<MulticallParams>);\r\n  test: Function;\r\n}\r\n\r\nexport class ETHNetworkState implements NetworkState {\r\n  constructor(args: Partial<ETHNetworkState>) {\r\n    Object.assign(this, args);\r\n    this.chainId = args.defaultChainId;\r\n    Object.values(this.chains).forEach((chain) => {\r\n      // setup network\r\n      chain.network = this;\r\n      chain.Coin.network = this;\r\n      // chain.LPToken.network = this;\r\n      // chain.CYCToken.network = this;\r\n      // if (chain.LPTokenV2) {\r\n        // chain.LPTokenV2.network = this;\r\n      // }\r\n\r\n      //setup aeolus\r\n      // chain.Aeolus.network = this;\r\n      // chain.Aeolus.LpToken = chain.LPToken;\r\n      // if (chain.AeolusV2) {\r\n        // chain.AeolusV2.network = this;\r\n        // chain.AeolusV2.LpToken = chain.LPTokenV2;\r\n      // }\r\n\r\n      // Object.values(chain.pools).forEach((pool) => {\r\n        // pool.network = this;\r\n        // pool.chain = chain;\r\n      // });\r\n    });\r\n    makeAutoObservable(this, {\r\n      god: false\r\n    });\r\n  }\r\n  ethers: Web3Provider;\r\n  multiCall: Provider;\r\n  signer: Signer;\r\n  god: GodStore;\r\n  chainId: number;\r\n  defaultChainId: number;\r\n  chianId: number;\r\n  allowChains: number[];\r\n  chains: {\r\n    [key: string]: ChainState;\r\n  };\r\n  metas: {\r\n    [key: string]: any;\r\n  } = {};\r\n  account: string;\r\n  web3: any;\r\n  // ui\r\n  connector = {\r\n    latestProvider: new StorageState({ key: 'latestEthProvider' }),\r\n    showConnector: false\r\n  };\r\n  walletInfo = {\r\n    visible: false\r\n  };\r\n  apyMap = {};\r\n  poolTvl = {};\r\n  \r\n  get defaultEthers() {\r\n    const provider = new JsonRpcProvider(this.currentChain.rpcUrl);\r\n    // console.log('this.currentChain.rpcUrl', this.currentChain.rpcUrl);\r\n    return provider;\r\n  }\r\n\r\n  get MainEthers() {\r\n    const provider = new JsonRpcProvider(this.chains[1].rpcUrl);\r\n    // console.log('this.currentChain.rpcUrl', this.currentChain.rpcUrl);\r\n    return provider;\r\n  }\r\n\r\n  get currentChain() {\r\n    return this.chains[this.chainId];\r\n  }\r\n\r\n  get analyticsClient(): ReturnType<typeof createAnalyticsEthCilent> {\r\n    if (!this.currentChain.analyicsClient) {\r\n      this.currentChain.analyicsClient = createAnalyticsEthCilent({ APIURL: this.currentChain.APIURL });\r\n    }\r\n    return this.currentChain.analyicsClient;\r\n  }\r\n\r\n  async findLogs({ contractAddress, first = 0 }: { contractAddress: string; first: number }) {\r\n    const res = await this.analyticsClient.query({\r\n      deposits: [\r\n        {\r\n          //@ts-ignore\r\n          sort: 'timestamp',\r\n          //@ts-ignore\r\n          orderDirection: 'desc',\r\n          first,\r\n          where: { contract: contractAddress }\r\n        },\r\n        {\r\n          totalCount: 1,\r\n          deposits: {\r\n            commitment: 1,\r\n            leafIndex: 1,\r\n            timestamp: 1,\r\n            tokenDenomination: 1,\r\n            coinDenomination: 1,\r\n            cycDenomination: 1\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    res.data.deposits.deposits.sort((a, b) => a.leafIndex - b.leafIndex);\r\n    res.data.deposits.deposits.forEach((i) => {\r\n      i.commitment = `0x${i.commitment}`;\r\n    });\r\n    return res.data.deposits;\r\n  }\r\n\r\n  uniswapMulticall(args: Partial<MulticallParams>) {\r\n    return Object.assign({ address: '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D', abi: UniswapABI }, args);\r\n  }\r\n\r\n  async loadBalance(coinBalance) {\r\n    if (!this.ethers || !this.account) return;\r\n    const balance = await this.ethers.getBalance(this.account);\r\n    coinBalance.setValue(new BigNumber(balance.toString()));\r\n  }\r\n  async loadAnalyticsData() {\r\n    const res = await this.analyticsClient.query({\r\n      apy: {\r\n        address: 1,\r\n        apy: 1\r\n      },\r\n      total: {\r\n        lpLocked: 1,\r\n        lpOldLocked: 1\r\n      },\r\n      tokensInPoolPerDay: [\r\n        { count: 1 },\r\n        {\r\n          address: 1,\r\n          values: {\r\n            value: 1\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    if (res.data) {\r\n      this.apyMap = _.keyBy(\r\n        res.data.apy.map((i) => {\r\n          //@ts-ignore\r\n          i.apy = new BigNumber(i.apy).multipliedBy(100 * 365).toFixed(2);\r\n          i.address = i.address.toLowerCase();\r\n          return i;\r\n        }),\r\n        'address'\r\n      );\r\n      this.poolTvl = _.keyBy(\r\n        res.data.tokensInPoolPerDay.map((i) => ({ address: i.address.toLowerCase(), value: i.values[0].value })),\r\n        'address'\r\n      );\r\n\r\n      if (res.data.total.lpOldLocked) {\r\n        this.currentChain.AeolusV2.lpLocked = res.data.total.lpLocked;\r\n        this.currentChain.Aeolus.lpLocked = res.data.total.lpOldLocked;\r\n      } else {\r\n        this.currentChain.Aeolus.lpLocked = res.data.total.lpLocked;\r\n      }\r\n    }\r\n    return;\r\n  }\r\n\r\n  readMultiContract({ address, abi, method, params = [] }: MulticallParams) {\r\n    const contract = new MuticallContract(address, abi);\r\n    return contract[method](...params);\r\n  }\r\n  async execContract({ address, abi, method, params = [], options = {} }: MulticallParams): Promise<Partial<TransactionResponse>> {\r\n    const contract = new Contract(address, abi, this.signer || this.ethers);\r\n    return contract[method](...params, options);\r\n  }\r\n  async multicall(calls: MulticallParams[]): Promise<any[]> {\r\n    //@ts-ignore\r\n    return this.multiCall.all(calls.map((i) => this.readMultiContract(i)));\r\n  }\r\n\r\n  async multicallV2(calls: MulticallParams[]): Promise<any[]> {\r\n    // console.log('this.multiCall', this.multiCall);\r\n    // console.log(calls);\r\n    //@ts-ignore\r\n    const res = await this.multiCall.all(calls.map((i) => this.readMultiContract(i)));\r\n    res.forEach((v, i) => {\r\n      const callback = calls[i].handler;\r\n      if (typeof callback == 'function') {\r\n        //@ts-ignore\r\n        callback(v);\r\n      } else {\r\n        if (callback.setValue) {\r\n          callback.setValue(new BigNumber(v.toString()));\r\n        }\r\n      }\r\n    });\r\n    return res;\r\n  }\r\n\r\n  async mainnetMulticallV2(calls: MulticallParams[]): Promise<any[]> {\r\n    // console.log('this.multiCall', this.multiCall);\r\n    // console.log(calls);\r\n    //@ts-ignore\r\n    let mainnetMulticall = new Provider(this.MainEthers);\r\n    //@ts-ignore\r\n    mainnetMulticall._multicallAddress = this.chains[1].MultiCall.address;\r\n    const res = await mainnetMulticall.all(calls.map((i) => this.readMultiContract(i)));\r\n    res.forEach((v, i) => {\r\n      const callback = calls[i].handler;\r\n      if (typeof callback == 'function') {\r\n        //@ts-ignore\r\n        callback(v);\r\n      } else {\r\n        if (callback.setValue) {\r\n          callback.setValue(new BigNumber(v.toString()));\r\n        }\r\n      }\r\n    });\r\n    return res;\r\n  }\r\n\r\n  async useMulticallV2(calls: MulticallParams[], chainID: number): Promise<any[]> {\r\n    // console.log('this.multiCall', this.multiCall);\r\n    // console.log(calls);\r\n    //@ts-ignore\r\n    let mainnetMulticall = new Provider(new JsonRpcProvider(this.chains[chainID].rpcUrl));\r\n    //@ts-ignore\r\n    mainnetMulticall._multicallAddress = this.chains[chainID].MultiCall.address;\r\n    const res = await mainnetMulticall.all(calls.map((i) => this.readMultiContract(i)));\r\n    res.forEach((v, i) => {\r\n      const callback = calls[i].handler;\r\n      if (typeof callback == 'function') {\r\n        //@ts-ignore\r\n        callback(v);\r\n      } else {\r\n        if (callback.setValue) {\r\n          callback.setValue(new BigNumber(v.toString()));\r\n        }\r\n      }\r\n    });\r\n    return res;\r\n  }\r\n\r\n  isAddressaVailable(address: string): boolean {\r\n    return ethers.utils.isAddress(address);\r\n  }\r\n\r\n  async test() {}\r\n}\r\n","import { ETHNetworkState } from '../store/lib/NetworkState';\r\nimport { BSCMainnetConfig } from './BSCMainnetConfig';\r\n// import { BSCTestnetConfig } from './BSCTestnetConfig';\r\n// import { ETHRopstenConfig } from './ETHRopstenConfig';\r\nimport { ETHMainnetConfig } from './ETHMainConfig';\r\n// import { ETHRinkebyConfig } from './ETHRinkebyConfig';\r\n// import { PolygonMainnetConfig } from './PolygonMainnetConfig';\r\n\r\n// latest poolId: 15\r\n\r\nexport const EthereumConfigV2 = new ETHNetworkState({\r\n  defaultChainId: ETHMainnetConfig.chainId,\r\n  allowChains: [ETHMainnetConfig.chainId, BSCMainnetConfig.chainId/*, PolygonMainnetConfig.chainId*/],\r\n  chains: {\r\n    [BSCMainnetConfig.chainId]: BSCMainnetConfig,\r\n    // [PolygonMainnetConfig.chainId]: PolygonMainnetConfig,\r\n    [ETHMainnetConfig.chainId]: ETHMainnetConfig,\r\n  }\r\n});","import BigNumber from 'bignumber.js';\r\nimport { makeAutoObservable } from 'mobx';\r\nimport { helper } from '../utils/helper';\r\n\r\nBigNumber.config({ EXPONENTIAL_AT: 30 })\r\n\r\nexport class BigNumberState {\r\n  value = new BigNumber(0);\r\n  loading: boolean;\r\n  decimals = 18;\r\n  fixed = this.decimals;\r\n  viewerFixed = null;\r\n  \r\n  formatter?: Function = () => {\r\n    let fixednum;\r\n    if(this.viewerFixed) {\r\n      fixednum = this.viewerFixed;\r\n    }\r\n    else {\r\n      fixednum = this.speFixed > 5 ? 5 : this.speFixed;\r\n    }\r\n    return this.getRawFormat({fixed: fixednum});\r\n  }\r\n  constructor(args: Partial<BigNumberState>) {\r\n    Object.assign(this, args);\r\n    makeAutoObservable(this);\r\n  }\r\n  get format() {\r\n    if (this.loading) return '...';\r\n    return this.getFormat();\r\n  }\r\n\r\n  get speFixed() {\r\n    const str = this.value.toString();\r\n    let idx = str.length - 1;\r\n    while(str[idx] == '0') {\r\n      idx --;\r\n    }\r\n    const num = this.decimals - (str.length - idx - 1);\r\n    return str == '0' || num < 0 ? 0 : num \r\n  }\r\n\r\n  getFormat({ decimals = this.decimals, fixed = this.fixed }: { decimals?: number; fixed?: number } = {}) {\r\n    if (this.loading) return '...';\r\n    if (this.formatter) return this.formatter(this);\r\n    return helper.number.toPrecisionFloor(new BigNumber(this.value).dividedBy(10 ** decimals).toFixed(fixed), {\r\n      decimals: this.fixed\r\n    });\r\n  }\r\n  getRawFormat({ decimals = this.decimals, fixed = this.fixed }: { decimals?: number; fixed?: number } = {}) {\r\n    return helper.number.toPrecisionFloor(new BigNumber(this.value).dividedBy(10 ** decimals).toFixed(fixed), {\r\n      decimals: this.fixed\r\n    });\r\n  }\r\n  setDecimals(decimals: number) {\r\n    this.decimals = decimals;\r\n  }\r\n  setValue(value: BigNumber) {\r\n    this.value = value;\r\n    this.setLoading(false);\r\n  }\r\n  setLoading(val) {\r\n    this.loading = val;\r\n  }\r\n}\r\n\r\nexport class StorageState<T> {\r\n  key: string;\r\n  value: T | any;\r\n  default: T | any;\r\n  constructor(args: Partial<StorageState<T>>) {\r\n    Object.assign(this, args);\r\n    makeAutoObservable(this);\r\n    this.load();\r\n  }\r\n\r\n  load() {\r\n    const value = localStorage.getItem(this.key);\r\n    this.value = helper.json.safeParse(value);\r\n    if (this.value == null) {\r\n      this.value = this.default;\r\n    }\r\n  }\r\n\r\n  save(value: any) {\r\n    this.value = value;\r\n    localStorage.setItem(this.key, JSON.stringify(value));\r\n  }\r\n\r\n  clear() {\r\n    localStorage.removeItem(this.key);\r\n  }\r\n}\r\n\r\nexport class LazyState<T> {\r\n  _value: T;\r\n  defaultValue: T;\r\n  loading = false;\r\n  loader: Function;\r\n  constructor(args: Partial<LazyState<T>>) {\r\n    Object.assign(this, args);\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  get value() {\r\n    if (!this._value) {\r\n      this.update();\r\n      return this.defaultValue;\r\n    }\r\n    return this._value;\r\n  }\r\n  async update() {\r\n    if (this.loading) return;\r\n    this.loading = true;\r\n    const data = await this.loader();\r\n    this.setValue(data);\r\n    this.loading = false;\r\n  }\r\n  setValue(val: any) {\r\n    this._value = val;\r\n  }\r\n}\r\n\r\nexport interface MulticallParams {\r\n  address: string;\r\n  abi: any;\r\n  method: string;\r\n  params?: any[];\r\n  options?: any;\r\n  handler?: any;\r\n}\r\n","import { makeAutoObservable } from 'mobx';\r\nimport { TokenState, LPTokenState } from './TokenState';\r\nimport { PoolState } from './PoolState';\r\nimport { ContractState, AeolusContractState } from './ContractState';\r\nimport { NetworkState } from './NetworkState';\r\nimport { BigNumberState } from '../type';\r\nimport { rootStore } from '../index';\r\nimport { _ } from '../../lib/lodash';\r\n\r\nexport class ChainState {\r\n  name: string;\r\n  path: string;\r\n  network: NetworkState;\r\n  chainId: number;\r\n  rpcUrl: string;\r\n  gnosisRpcUrl: string;\r\n  baseRpcUrl: string;\r\n  explorerURL: string;\r\n  explorerName: string;\r\n  swapName: string;\r\n  swapURL: string;\r\n  APIURL: string;\r\n  relayer: string;\r\n  L1FinalizationRate: number;\r\n  L2FinalizationRate: number;\r\n  userRequestTopic: string;\r\n  AffirmationCompletedTopic: string;\r\n  L2UserRequestTopic: string;\r\n  pools: {\r\n    [key: string]: PoolState;\r\n  };\r\n  metas: {\r\n    rewardPerBlock?: number;\r\n    [key: string]: any;\r\n  } = {};\r\n  Aeolus: AeolusContractState;\r\n  AeolusV2: AeolusContractState;\r\n  UniswapV2CycloneRouter: ContractState;\r\n  MultiCall: ContractState;\r\n  LPToken: LPTokenState;\r\n  LPTokenV2: LPTokenState;\r\n  CYCToken: TokenState;\r\n  XRCToken: TokenState;\r\n  L1Helper: ContractState;\r\n  HorizonPool: ContractState;\r\n  HomeAMB: ContractState;\r\n  AMBBridgeHelper: ContractState;\r\n  Coin: TokenState;\r\n  analyicsClient: any;\r\n  sort = {\r\n    apy: 'desc',\r\n    tvl: null\r\n  };\r\n\r\n  constructor(args: Partial<ChainState>) {\r\n    Object.assign(this, args);\r\n    makeAutoObservable(this, { network: false });\r\n  }\r\n\r\n  getPool(key: string): PoolState {\r\n    return this.pools[key];\r\n  }\r\n\r\n  get poolList() {\r\n    let pools = Object.values(this.pools)\r\n\r\n    _.each(this.sort, (v, k) => {\r\n      if (!v) return;\r\n      pools = pools.sort((a, b) => (v == 'desc' ? Number(a.order) - Number(b.order) : Number(b.order) - Number(a.order)));\r\n    });\r\n\r\n    return pools;\r\n  }\r\n\r\n  setSort(key: string) {\r\n    const _val = this.sort[key];\r\n    //@ts-ignore\r\n    this.sort = {};\r\n    this.sort[key] = _val == 'desc' ? 'asc' : 'desc';\r\n  }\r\n}\r\n","'use strict'\r\nvar __assign =\r\n  (this && this.__assign) ||\r\n  function() {\r\n    __assign =\r\n      Object.assign ||\r\n      function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n          s = arguments[i]\r\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p]\r\n        }\r\n        return t\r\n      }\r\n    return __assign.apply(this, arguments)\r\n  }\r\nObject.defineProperty(exports, '__esModule', { value: true })\r\nvar __1 = require('graphql-typed-client-hotfix')\r\n\r\nexports.createClient = function(options) {\r\n  var typeMap = __1.linkTypeMap(require('./typeMap.json'))\r\n  return __1.createClient(\r\n    __assign({}, options, {\r\n      queryRoot: typeMap.Query,\r\n    }),\r\n  )\r\n}\r\n","import { observer } from 'mobx-react-lite';\r\nimport React from 'react';\r\n\r\nexport const Button = observer(props => {\r\n  return (\r\n    <div\r\n      className={props.avaliable ? 'button' : 'buttonDisable'}\r\n      style={{\r\n        pointerEvents: props.avaliable ? 'initial' : 'none',\r\n        width: props.fullWidth ? '100%' : props.width ? props.width : 'none',\r\n        fontSize: props.fontSize ? props.fontSize : 'none',\r\n        height: props.height ? props.height : 'none',\r\n        padding: '0 10px'\r\n      }}\r\n      onClick={props.onClick}\r\n    >\r\n      {props.href ? (\r\n        <a\r\n          href={props.href}\r\n          rel=\"noopener noreferrer\"\r\n          style={{\r\n            textOverflow: 'ellipsis',\r\n            overflow: 'hidden',\r\n            whiteSpace: 'nowrap',\r\n            padding: '0, 10px',\r\n            boxSizing: 'border-box',\r\n            color: '#fff',\r\n            '&:hover': {\r\n              color: '$primary'\r\n            }\r\n          }}\r\n        >\r\n          {props.disable && props.disabledLabel ? props.disabledLabel : props.label}\r\n        </a>\r\n      ) : (\r\n        <>{props.disable && props.disabledLabel ? props.disabledLabel : props.label}</>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Button;\r\n","import { styled, keyframes, global } from './index';\r\n\r\nexport const antdPopoverStyle = global({\r\n  '.ant-popover-placement-top>.ant-popover-content>.ant-popover-arrow': {\r\n    borderColor: '#00ff99cf !important'\r\n  },\r\n  '.ant-popover-placement-right>.ant-popover-content>.ant-popover-arrow': {\r\n    borderColor: '#00ff99cf !important'\r\n  },\r\n  '.ant-popover-placement-bottom>.ant-popover-content>.ant-popover-arrow': {\r\n    borderColor: '#00ff99cf !important'\r\n  },\r\n  '.ant-popover-inner': {\r\n    backgroundColor: '#00ff99cf !important'\r\n  },\r\n  '.ant-popover-inner-content': {\r\n    fontSize: '13px !important',\r\n    color: '#fff !important'\r\n  }\r\n});\r\n\r\nexport const Wrapper = styled('div', {\r\n  height: '100%',\r\n  margin: 'auto',\r\n  maxWidth: '90%',\r\n  '@md': {\r\n    maxWidth: '942px'\r\n  },\r\n  a: {\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      color: '$primary'\r\n    }\r\n  }\r\n});\r\n\r\nconst rotate = keyframes({\r\n  from: { transform: 'rotatez(0deg)' },\r\n  to: { transform: 'rotatez(360deg)' }\r\n});\r\n\r\nexport const Button = styled('button', {\r\n  outline: 'none',\r\n  height: '40px',\r\n  fontSize: '1rem',\r\n  cursor: 'pointer',\r\n  border: 'none',\r\n  fontFamily: 'Montserrat',\r\n  variants: {\r\n    size: {\r\n      mini: {\r\n        width: '94px'\r\n      },\r\n      small: {\r\n        width: '125px'\r\n      },\r\n      medium: {\r\n        width: '180px'\r\n      },\r\n      large: {\r\n        width: '390px'\r\n      }\r\n    },\r\n    color: {\r\n      primary: {\r\n        backgroundColor: '$primary',\r\n        color: '$dark1',\r\n        fontWeight: 600,\r\n        '&:hover': {\r\n          backgroundColor: '$primary600'\r\n        },\r\n        '&:disabled': {\r\n          backgroundColor: '$info400',\r\n          color: '$textGray900',\r\n          cursor: 'not-allowed'\r\n        },\r\n        '&:focus': {\r\n          backgroundColor: '$primary200'\r\n        }\r\n      },\r\n      info: {\r\n        backgroundColor: '$info',\r\n        color: '$primary',\r\n        '&:hover': {\r\n          backgroundColor: '$info'\r\n        },\r\n        '&:disabled': {\r\n          backgroundColor: '$info400',\r\n          color: '$textGray900',\r\n          cursor: 'not-allowed'\r\n        }\r\n      },\r\n      normal: {\r\n        backgroundColor: '$info',\r\n        color: '$textLight',\r\n        borderLeft: '1px solid $borderPrimary',\r\n        fontWeight: 600,\r\n        '&:hover': {\r\n          background: '$bg4',\r\n          color: '$primary',\r\n          borderLeft: '1px solid $primary'\r\n        }\r\n      },\r\n      active: {\r\n        background: '$bg4',\r\n        color: '$primary',\r\n        borderLeft: '1px solid $primary',\r\n        fontWeight: 600\r\n      },\r\n      approve: {\r\n        background: '$bg4',\r\n        color: '$primary',\r\n        border: '1px solid $primary',\r\n        fontWeight: 600,\r\n        '&:hover': {\r\n          background: '$bg4',\r\n          color: '$primary',\r\n          border: '1px solid $primary'\r\n        },\r\n        '&:disabled': {\r\n          backgroundColor: '$info',\r\n          color: '$textLight',\r\n          border: '1px solid $borderPrimary',\r\n          cursor: 'not-allowed'\r\n        }\r\n      }\r\n    },\r\n    responsive: {\r\n      mini: {\r\n        width: '56px',\r\n        height: '24px',\r\n        '@md': {\r\n          width: '94px',\r\n          height: 40\r\n        }\r\n      },\r\n      medium: {\r\n        width: 106,\r\n        height: 33,\r\n        fontSize: '0.875rem',\r\n        '@md': {\r\n          width: 180,\r\n          height: 40,\r\n          fontSize: '1rem'\r\n        }\r\n      },\r\n      lg: {\r\n        width: 138,\r\n        height: 30,\r\n        fontSize: '0.75rem',\r\n        '@md': {\r\n          width: 180,\r\n          height: 40,\r\n          fontSize: '1rem'\r\n        }\r\n      },\r\n      large: {\r\n        width: '100%',\r\n        height: 30,\r\n        '@md': {\r\n          width: 390,\r\n          height: 40\r\n        }\r\n      }\r\n    },\r\n    status: {\r\n      normal: {\r\n        opacity: 1,\r\n        pointerEvents: 'auto',\r\n        cursor: 'pointer',\r\n        '&:before': {\r\n          width: 0\r\n        }\r\n      },\r\n      loading: {\r\n        opacity: 0.8,\r\n        cursor: 'default',\r\n        pointerEvents: 'none',\r\n        '&:before': {\r\n          display: 'inline-block',\r\n          content: '',\r\n          width: '1rem',\r\n          height: '1rem',\r\n          marginRight: '0.5rem',\r\n          borderRadius: '50%',\r\n          verticalAlign: '-10%',\r\n          clipPath: 'polygon(0% 0%, 100% 0%, 100% 50%, 0% 50%)',\r\n          border: '2px solid $textPrimary',\r\n          animation: `${rotate} 1s linear infinite`\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nexport const LoadingIcon = styled('div', {\r\n  opacity: 0.8,\r\n  cursor: 'default',\r\n  pointerEvents: 'none',\r\n  '&:before': {\r\n    display: 'inline-block',\r\n    content: '',\r\n    width: '1.5rem',\r\n    height: '1.5rem',\r\n    marginRight: '0.5rem',\r\n    borderRadius: '50%',\r\n    verticalAlign: '-10%',\r\n    clipPath: 'polygon(0% 0%, 100% 0%, 100% 70%, 0% 70%)',\r\n    border: '2px solid $primary',\r\n    animation: `${rotate} 1s linear infinite`\r\n  }\r\n})\r\n\r\nexport const Text = styled('div', {\r\n  fontFamily: 'IBM Plex Sans',\r\n  fontWeight: 'normal',\r\n  textAlign: 'left',\r\n  cursor: 'default',\r\n  variants: {\r\n    size: {\r\n      mini: {\r\n        fontSize: '0.75rem'\r\n      },\r\n      md: {\r\n        fontSize: '0.875rem'\r\n      },\r\n      small: {\r\n        fontSize: '1rem'\r\n      },\r\n      lg: {\r\n        fontSize: '1.125rem'\r\n      },\r\n      medium: {\r\n        fontSize: '1.5rem'\r\n      },\r\n      large: {\r\n        fontSize: '2.25rem'\r\n      }\r\n    },\r\n    color: {\r\n      primary: {\r\n        color: '$primary'\r\n      },\r\n      yellow: {\r\n        color: '$textInfo'\r\n      },\r\n      gray: {\r\n        color: '$textGray'\r\n      },\r\n      white: {\r\n        color: '$textPrimary'\r\n      },\r\n      light: {\r\n        color: '$textLight'\r\n      },\r\n      black: {\r\n        color: '$bg1'\r\n      },\r\n      warning: {\r\n        color: '$textWarn'\r\n      },\r\n      lightGray: {\r\n        color: '$textGray200'\r\n      }\r\n    },\r\n    weight: {\r\n      light: {\r\n        fontWeight: 300\r\n      },\r\n      normal: {\r\n        fontWeight: 400\r\n      },\r\n      medium: {\r\n        fontWeight: 500\r\n      },\r\n      semibold: {\r\n        fontWeight: 600\r\n      },\r\n      bold: {\r\n        fontWeight: 'bold'\r\n      }\r\n    },\r\n    family: {\r\n      ibm: {\r\n        fontFamily: 'IBM Plex Sans'\r\n      },\r\n      Montserrat: {\r\n        fontFamily: 'Montserrat'\r\n      }\r\n    },\r\n    cursor: {\r\n      pointer: {\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n          color: '$primary'\r\n        }\r\n      },\r\n      none: {\r\n        cursor: 'auto'\r\n      }\r\n    },\r\n    hover: {\r\n      light: {\r\n        '&:hover': {\r\n          color: '$primary'\r\n        }\r\n      },\r\n      white: {\r\n        '&:hover': {\r\n          color: '$textPrimary'\r\n        }\r\n      }\r\n    },\r\n    display: {\r\n      inline: {\r\n        display: 'inline-block'\r\n      }\r\n    },\r\n    loading: {\r\n      show: {\r\n        position: 'relative',\r\n        '&::before': {}\r\n      }\r\n    },\r\n    align: {\r\n      center: {\r\n        textAlign: 'center'\r\n      },\r\n      left: {\r\n        textAlign: 'left'\r\n      },\r\n      right: {\r\n        textAlign: 'right'\r\n      }\r\n    },\r\n    overflow: {\r\n      truncate: {\r\n        width: '100%',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        whitespace: 'nowrap'\r\n      }\r\n    },\r\n    responsive: {\r\n      base: {\r\n        display: 'none',\r\n        '@md': {\r\n          width: '20%',\r\n          display: 'block'\r\n        }\r\n      },\r\n      sm: {\r\n        fontSize: '0.75rem',\r\n        '@md': {\r\n          fontSize: '0.875rem'\r\n        }\r\n      },\r\n      md: {\r\n        fontSize: '0.75rem',\r\n        '@md': {\r\n          fontSize: '1rem'\r\n        }\r\n      },\r\n      lg: {\r\n        fontSize: '0.875rem',\r\n        '@md': {\r\n          fontSize: '1.125rem'\r\n        }\r\n      },\r\n      large: {\r\n        fontSize: '2rem',\r\n        '@md': {\r\n          fontSize: '2.25rem'\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nexport const FlexBox = styled('div', {\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  variants: {\r\n    direction: {\r\n      row: {\r\n        flexDirection: 'row'\r\n      },\r\n      column: {\r\n        flexDirection: 'column'\r\n      }\r\n    },\r\n    justify: {\r\n      between: {\r\n        justifyContent: 'space-between'\r\n      },\r\n      start: {\r\n        justifyContent: 'flex-start'\r\n      },\r\n      center: {\r\n        justifyContent: 'center'\r\n      },\r\n      end: {\r\n        justifyContent: 'flex-end'\r\n      }\r\n    },\r\n    items: {\r\n      start: {\r\n        alignItems: 'flex-start'\r\n      },\r\n      end: {\r\n        alignItems: 'flex-end'\r\n      },\r\n      center: {\r\n        alignItems: 'center'\r\n      }\r\n    },\r\n    responsive: {\r\n      rc: {\r\n        flexDirection: 'column',\r\n        alignItems: 'flex-start',\r\n        '@md': {\r\n          flexDirection: 'row',\r\n          alignItems: 'center'\r\n        }\r\n      },\r\n      cr: {\r\n        flexDirection: 'row',\r\n        '@md': {\r\n          flexDirection: 'column'\r\n        }\r\n      },\r\n      base: {\r\n        mb: '1rem',\r\n        '@md': {\r\n          mb: 0\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nexport const Icon = styled('img', {\r\n  width: '1.375rem',\r\n  cursor: 'pointer'\r\n});\r\n\r\nexport const BorderBox = styled('div', {\r\n  padding: '0.75rem 0',\r\n  borderBottom: '1px solid $borderPrimary',\r\n  '@md': {\r\n    padding: '1.25rem 0'\r\n  }\r\n});\r\n\r\nexport const Input = styled('input', {\r\n  width: '100%',\r\n  color: '$textPrimary',\r\n  border: '1px solid $textLight',\r\n  backgroundColor: '$bg3',\r\n  height: '40px',\r\n  padding: '0 1.25rem',\r\n  outline: 'none',\r\n  '&::placeholder': {\r\n    color: '$textLight'\r\n  },\r\n  '&:hover': {\r\n    borderColor: '$primary'\r\n  },\r\n  '&:focus': {\r\n    borderColor: '$primary'\r\n  }\r\n});\r\n\r\nexport const TextArea = styled('textarea', {\r\n  width: '100%',\r\n  border: '1px solid $textLight',\r\n  color: '$textPrimary',\r\n  backgroundColor: '$bg3',\r\n  height: '100px',\r\n  padding: '0 1.25rem',\r\n  '&::placeholder': {\r\n    color: '$textLight'\r\n  },\r\n  '&:hover': {\r\n    borderColor: '$primary'\r\n  },\r\n  '&:focus': {\r\n    borderColor: '$primary'\r\n  }\r\n});\r\n\r\nexport const Section = styled('div', {\r\n  variants: {\r\n    responsive: {\r\n      base: {\r\n        width: '100%',\r\n        '@md': {\r\n          width: '46%'\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nexport const DropBox = styled('div', {\r\n  height: 'auto',\r\n  willChange: 'max-height',\r\n  transition: 'height 0.3s ease',\r\n  padding: '0.75rem 0.75rem 1.25rem 0.75rem',\r\n  '@md': {\r\n    padding: '1.5rem 3.125rem'\r\n  },\r\n  variants: {\r\n    color: {\r\n      primary: {\r\n        backgroundColor: '$bg5'\r\n      }\r\n    }\r\n  }\r\n});\r\n","import { EventEmitter } from 'events';\r\nimport TypedEmitter from 'typed-emitter';\r\nimport Web3 from 'web3';\r\n\r\ninterface MessageEvents {\r\n  'web3.onConnect': (web3: Web3) => void;\r\n  'web3.onAccount': (web3: string) => void;\r\n  'amount.refetch': () => void;\r\n  'loading.confirm': () => void;\r\n  'loading.cancel': () => void;\r\n  'wallet.logout': () => void;\r\n  'pendingPool.confirm': () => void;\r\n  'pendingPool.cacel': () => void;\r\n  'modal.confirm': () => void;\r\n  'modal.cancel': () => void;\r\n}\r\n\r\nexport const eventBus = new EventEmitter() as TypedEmitter<MessageEvents>;\r\n","import React, { useEffect, useMemo } from 'react';\r\nimport Button from './Button';\r\nimport { Popover } from 'antd';\r\nimport { css } from '../modules/index';\r\nimport { useStore } from '../store';\r\nimport { observer, useLocalStore, useObserver } from 'mobx-react-lite';\r\nimport BigNumber from 'bignumber.js';\r\nimport { toast } from 'react-toastify';\r\nimport { debounce } from 'lodash';\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { BigNumberState } from '../store/type';\r\nimport { Icon, Text, FlexBox, Wrapper, BorderBox, DropBox, Section, Input } from '../modules/globalStyle';\r\nimport { SingleSymbol } from './SingleSymbol';\r\nimport LoadingButton from '@mui/lab/LoadingButton';\r\nimport { injectedConnector } from '../lib/web3-react-bsc';\r\nimport { GasPriceOracle } from 'gas-price-oracle';\r\nimport { toWei, toBN, BN } from 'web3-utils';\r\nimport { BigNumberInputState } from '../store/lib/BignumberInputState';\r\nimport bigInt from 'big-integer';\r\n\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nexport function toHex(number, length = 32) {\r\n  const str = number instanceof Buffer ? number.toString('hex') : bigInt(number).toString(16);\r\n  return '0x' + str.padStart(length * 2, '0');\r\n}\r\n\r\nfunction gasPricesETH(value = 80) {\r\n  const tenPercent = (Number(value) * 5) / 100;\r\n  const max = Math.max(tenPercent, 3);\r\n  const bumped = Math.floor(Number(value) + max);\r\n  return toHex(toWei(bumped.toString(), 'gwei'));\r\n}\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    MessierOrange: {\r\n      main: '#FF7518',\r\n      contrastText: '#fff',\r\n    },\r\n  },\r\n});\r\n\r\nlet clipboardy = null;\r\n\r\nexport const DepositViewForBSC = observer(props => {\r\n  const { lang, god: pageStore, base: baseStore } = useStore();\r\n  const { activate, error, deactivate } = useWeb3React();\r\n  \r\n  const store = useLocalStore(() => ({\r\n    tokens: null,\r\n    // indexOfToken: 0,\r\n    // indexOfAmountSet: 0,\r\n    isShowDetail: false,\r\n    indexOfPool: null,\r\n    currentAmount: new BigNumberState({ loading: true }),\r\n    currentShieldedAmount: new BigNumberState({ value: new BigNumber(0), fixed: 5 }),\r\n    currentCYCDenomination: new BigNumberState({ loading: true }),\r\n    currentCoinDenomination: new BigNumberState({ loading: true }),\r\n    poolSize: -1,\r\n    anonymityFee: new BigNumberState({ loading: true }),\r\n    ApproveStatus: \"disabled\",\r\n    TokenApproveStatus: \"disabled\",\r\n    DepositStatus: \"disabled\",\r\n    WithdrawStatus: \"disabled\",\r\n    isConnecting: false,\r\n    gasPrice: '0',\r\n    depositAmountInput: new BigNumberInputState({}),\r\n\r\n    setDepositAmount(val) {\r\n      if(store.currentAmount.loading || store.gasPrice == '0')\r\n        return;\r\n      const subArr = val.split(\".\");\r\n      if(subArr[1]) {\r\n        if(subArr[1].length > store.depositAmountInput.decimals)\r\n          return;\r\n      }\r\n      store.depositAmountInput.setFormat(val);\r\n    },\r\n\r\n    setMaxLimitAmount() {\r\n      if(store.currentAmount.loading || store.gasPrice == '0')\r\n        return;\r\n      const value = new BigNumber(this.maxLimitAmount.toString());\r\n      store.depositAmountInput.setValue(value);\r\n    },\r\n\r\n    getAnonymityFee() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n      this.anonymityFee.setValue(pageStore.CurrentSet.anonymityPoolFee.value);\r\n    },\r\n\r\n    // get currentCYCDenominationLabel() {\r\n    //   return '...';\r\n    // },\r\n\r\n    get xrcApproved() {\r\n      if( pageStore.CurrentSet.XRCToken ) {\r\n        return (\r\n          new BigNumber(pageStore.CurrentSet.XRCToken.allownaceForRouter.value).comparedTo(store.depositAmountInput.value) >= 0 &&\r\n          store.depositAmountInput.value.comparedTo('0') > 0\r\n        );\r\n      }\r\n      return false;\r\n    },\r\n\r\n    async fetchGasPrice(netId) {\r\n      try {\r\n        const options = {\r\n        chainId: netId,\r\n        defaultRpc: pageStore.currentChain.rpcUrl,\r\n        timeout: 10000,\r\n        defaultFallbackGasPrices: {\r\n          instant: 28,\r\n          fast: 22,\r\n          standard: 17,\r\n          low: 11,\r\n        },\r\n        };\r\n        // Bump fees for Ethereum network\r\n        if (netId == 1 || netId == 56 || netId == 137) {\r\n          const oracle = new GasPriceOracle(options);\r\n          const fallbackGasPrices = {\r\n            instant: 70,\r\n            fast: 31,\r\n            standard: 20,\r\n            low: 7,\r\n          };\r\n          const gas = await oracle.gasPrices(fallbackGasPrices);\r\n          return gasPricesETH(gas.instant);\r\n        }\r\n      } catch (err) {\r\n        return '0x0';\r\n      }\r\n    },\r\n    \r\n    init(chainID) {\r\n      // console.log('EthereumConfig.tokensOnEthereum[chainID] =', EthereumConfig.tokensOnEthereum[chainID]);\r\n\r\n      store.tokens = pageStore.currentChain.pools;\r\n      // console.log('store.tokens =', store.tokens);\r\n      // console.log('cyc denomination', store.currentCYCDenomination.format);\r\n      // console.log(store.tokens.length);\r\n      if( store.tokens ) {\r\n        // console.log('ininin');\r\n        this.indexOfPool = props.indexOfPool;\r\n      }\r\n      // console.log('this.indexOfPool =', this.indexOfPool);\r\n      this.loadAmount();\r\n    },\r\n\r\n    loadAmount() {\r\n      if (pageStore.web3) {\r\n        store.getCurrentAmount();\r\n        // store.getPoolSize();\r\n        // store.getAnonymityFee();\r\n        // store.getCurrentCYCDenomination();\r\n        // store.getCurrentCoinDenomination();\r\n      }\r\n      store.getCurrentShieldedAmount();\r\n      if (pageStore.account) {\r\n        // pageStore.getBalanceOfXRC();\r\n        // pageStore.getBNBtoBuyCYC();\r\n        // pageStore.getBalanceOfCoin();\r\n      }\r\n    },\r\n\r\n    // onSelectAmount(id) {\r\n    //   pageStore.setCurrentSelectedAmount(id);\r\n    // },\r\n\r\n    // onSelectToken(event) {\r\n    //   const idx = event.target.value;\r\n    //   store.indexOfToken = idx;\r\n    //   props.onSelectToken(idx);\r\n    // },\r\n\r\n    onSelectPool() {\r\n      pageStore.setCurrentSelectedAmount(store.indexOfPool);\r\n      if(pageStore.CurrentSet.XRCToken)\r\n        store.currentAmount.setDecimals(pageStore.CurrentSet.XRCToken.decimals);\r\n      this.loadAmount();\r\n    },\r\n\r\n    async onConnect() {\r\n      pageStore.connectingStatus = \"connecting\";\r\n      await activate(injectedConnector);\r\n      pageStore.eth.connector.latestProvider.save('inject');\r\n      if(!pageStore.isConnect && pageStore.connectingStatus == 'connecting') {\r\n        pageStore.connectingStatus = 'idle';\r\n      }\r\n      if(pageStore.isConnect) {\r\n        baseStore.startRefetchForce();\r\n      }\r\n      \r\n    },\r\n\r\n    logout() {\r\n      deactivate();\r\n      pageStore.latestEthProvider.clear();\r\n    },\r\n\r\n    // onSelectPool(event) {\r\n    //   const tempInt = event.target.value;\r\n    //   store.indexOfPool = tempInt;\r\n    //   props.onSelectAmount(tempInt);\r\n    // },\r\n\r\n    async onApproveXRC() {\r\n      store.TokenApproveStatus = \"loading\";\r\n      pageStore.isOnProgress = true;\r\n      try {\r\n        await props.onApproveXRC(pageStore.CurrentSet.XRCToken, store.depositAmountInput.value.toString());\r\n        store.TokenApproveStatus = \"disabled\";\r\n        pageStore.isOnProgress = false;\r\n      } catch (error) {\r\n        store.TokenApproveStatus = \"notApproved\";\r\n        pageStore.isOnProgress = false;\r\n      }\r\n    },\r\n\r\n    async deposit() {\r\n      store.DepositStatus = \"loading\";\r\n      pageStore.isOnProgress = true;\r\n      try {\r\n        await props.onDeposit(store.depositAmountInput.value);\r\n        store.DepositStatus = \"notActive\";\r\n        store.depositAmountInput.setValue(new BigNumber(0));\r\n        pageStore.isOnProgress = false;\r\n      } catch (error) {\r\n        store.DepositStatus = \"active\";\r\n        pageStore.isOnProgress = false;\r\n      }\r\n    },\r\n\r\n    async getCurrentAmount() {\r\n      if (!store.indexOfPool || pageStore.CurrentSet.balance.loading) {\r\n        return;\r\n      }\r\n      const value = pageStore.CurrentSet.balance.value;\r\n      store.currentAmount.setValue(value);\r\n      store.currentAmount.setLoading(false);\r\n    },\r\n\r\n    getCurrentShieldedAmount() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n      const value = pageStore.CurrentSet.shieldedBalance.value;\r\n      store.currentShieldedAmount.setValue(value);\r\n    },\r\n\r\n    getCurrentCoinDenomination() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n\r\n      const value = pageStore.CurrentSet.coinDenomination.value;\r\n      store.currentCoinDenomination.setValue(value);\r\n      store.currentCoinDenomination.setLoading(false);\r\n    },\r\n\r\n    async getCurrentCYCDenomination() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n\r\n      // const set = store.tokens[store.indexOfToken].amountSteps[store.indexOfPool];\r\n      const value = pageStore.CurrentSet.depositCYCAmount.value;\r\n      store.currentCYCDenomination.setValue(value);\r\n      store.currentCYCDenomination.setLoading(false);\r\n    },\r\n\r\n    async getPoolSize() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n\r\n      store.poolSize = -1;\r\n      if (store.tokens) {\r\n        store.poolSize = pageStore.CurrentSet.numOfShare;\r\n      }\r\n    },\r\n\r\n    onClickCopyButton(event) {\r\n      if (clipboardy) {\r\n        clipboardy.focus();\r\n        clipboardy.select();\r\n        const result = document.execCommand('copy');\r\n        if (result === 'unsuccessful') {\r\n          clipboardy.blur();\r\n        } else {\r\n          clipboardy.blur();\r\n          toast.dark(lang.t('address.copied'), {\r\n            position: 'bottom-center',\r\n            autoClose: 3000,\r\n            hideProgressBar: true,\r\n            closeOnClick: false,\r\n            pauseOnHover: false,\r\n            draggable: false,\r\n            progress: undefined\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    onChangeBuyCYCCheckBox(event) {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n      \r\n      pageStore.CurrentSet.allowBuyCYC = event.target.checked && !event.target.disabled;\r\n    },\r\n\r\n    get allowDeposit() {\r\n      if(pageStore.CurrentSet.XRCToken && !store.xrcApproved)\r\n        return false;\r\n      if (store.depositAmountInput.value.comparedTo(pageStore.CurrentSet.minDepositAmount) >= 0 && \r\n          store.depositAmountInput.value.comparedTo(store.maxLimitAmount) <= 0 && \r\n          store.depositAmountInput.value.comparedTo(pageStore.CurrentSet.maxDepositAmount) <= 0) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    \r\n    get maxLimitAmount() {\r\n      if(pageStore.CurrentSet.XRCToken) {\r\n        const totalBalance = toBN(this.currentAmount.value.toString());\r\n        let maxValue = totalBalance\r\n        return maxValue;\r\n      }\r\n      else {\r\n        const expense = toBN(this.gasPrice).mul(toBN(3e5));\r\n        const totalBalance = toBN(this.currentAmount.value.toString());\r\n        let maxValue = totalBalance.sub(expense);\r\n\r\n        if(maxValue.lt(toBN(0)))\r\n          maxValue = toBN(0);\r\n\r\n        return maxValue;\r\n      }\r\n    }\r\n  }));\r\n\r\n  const ActionButton = useObserver(() => {\r\n    return (\r\n      <div>\r\n        \r\n      </div>\r\n    );\r\n  });\r\n\r\n  const AnonymityPool = useObserver(() => {\r\n    if(store.isShowDetail)\r\n    {\r\n      if (!pageStore.isConnect) {\r\n        return (\r\n          <DropBox color=\"primary\">\r\n            <FlexBox justify=\"center\" items=\"center\">\r\n              <ThemeProvider theme={theme}>\r\n                <LoadingButton\r\n                  color=\"MessierOrange\"\r\n                  loadingPosition='start'\r\n                  loading={store.isConnecting}\r\n                  variant=\"outlined\"\r\n                  onClick={store.onConnect}\r\n                  sx={{\r\n                    height: '40px',\r\n                    fontWeight: 'bold',\r\n                    maxWidth: '200px'\r\n                  }}\r\n                  fullWidth\r\n                  >\r\n                  {lang.t('connect')}\r\n                </LoadingButton>\r\n              </ThemeProvider>\r\n            </FlexBox>\r\n          </DropBox>\r\n        );\r\n      }\r\n      return (\r\n        <div>\r\n        <DropBox color=\"primary\">\r\n          <FlexBox justify=\"between\" responsive=\"rc\">\r\n            <Section css={{ width: '100%', mb: '1.5rem', '@md': { width: '46%', mb: 0 } }}>\r\n              <div\r\n                style={{\r\n                  marginTop: '1rem'\r\n                }}\r\n              >\r\n                {/* {store.currentAmount.value.comparedTo(0) <= 0 && (\r\n                  <BorderBox css={{ padding: '0.6rem 0'}}>\r\n                    <div style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '15px',\r\n                          color: '#959191',\r\n                          paddingBottom: '12px'\r\n                    }}>\r\n                      {lang.t('balance')}:&nbsp;\r\n                      {pageStore.balanceOfCoin.getFormat({ decimals: pageStore.currentChain.Coin.decimals }) + ' ' + pageStore.currentChain.Coin.symbol}  &nbsp;\r\n                      {store.currentCoinDenomination.value.comparedTo(pageStore.balanceOfCoin.value) > 0 && (\r\n                        <>\r\n                          <Popover\r\n                            placement=\"top\"\r\n                            trigger=\"click\"\r\n                            content={\r\n                              <>\r\n                                <div style={{ textAlign: 'center', fontWeight: 'bold', maxWidth: '12rem' }}>\r\n                                  {lang.t('amount.invalid')}\r\n                                </div>\r\n                                <div\r\n                                  style={{\r\n                                    textAlign: 'center',\r\n                                    fontWeight: 'bold',\r\n                                    maxWidth: '12rem',\r\n                                    pointerEvents: 'auto'\r\n                                  }}\r\n                                ></div>\r\n                              </>\r\n                            }\r\n                            backgroundColor=\"#45bcb8\"\r\n                          >\r\n                            <img src=\"/images/alert.png\" style={{ cursor: 'pointer' }} alt=\"\" />\r\n                          </Popover>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div\r\n                      className={styles.denomenation.className}\r\n                      style={{\r\n                        marginBottom: '0.5rem'\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '18px',\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        {pageStore.currentChain.Coin.symbol} &nbsp;{lang.t('Denomination')}:&nbsp;\r\n                        {store.currentCoinDenomination.getFormat({\r\n                        decimals: pageStore.currentChain.Coin.decimals,\r\n                        fixed: 8\r\n                      })}\r\n                      </div>\r\n                    </div>\r\n                  </BorderBox>\r\n                )} */}\r\n\r\n                  <BorderBox css={{ padding: '0.6rem 0'}}>\r\n                    <div style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '15px',\r\n                          color: '#959191',\r\n                          paddingBottom: '12px'\r\n                    }}>\r\n                      {lang.t('balance')}:&nbsp;{store.currentAmount.format}&nbsp;{store.indexOfPool}&nbsp;&nbsp;\r\n                        {/* <>\r\n                          <Popover\r\n                            placement=\"top\"\r\n                            trigger=\"click\"\r\n                            content={\r\n                              <>\r\n                                <div style={{ textAlign: 'center', fontWeight: 'bold', maxWidth: '12rem' }}>\r\n                                  {lang.t('amount.invalid')}\r\n                                </div>\r\n                                <div\r\n                                  style={{\r\n                                    textAlign: 'center',\r\n                                    fontWeight: 'bold',\r\n                                    maxWidth: '12rem',\r\n                                    pointerEvents: 'auto'\r\n                                  }}\r\n                                ></div>\r\n                              </>\r\n                            }\r\n                            backgroundColor=\"#45bcb8\"\r\n                          >\r\n                            <img src=\"/images/alert.png\" style={{ cursor: 'pointer' }} alt=\"\" />\r\n                          </Popover>\r\n                        </> */}\r\n                    </div>\r\n\r\n                    <div\r\n                      className={styles.denomenation.className}\r\n                      style={{\r\n                        marginBottom: '0.5rem'\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '18px',\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        {lang.t('shielded')}&nbsp;{lang.t('balance')}&nbsp;:&nbsp;{store.currentShieldedAmount.format}&nbsp;{store.indexOfPool}\r\n                      </div>\r\n                    </div>\r\n                  </BorderBox>\r\n\r\n                {/* {store.currentCYCDenomination.value.comparedTo(0) > 0 && pageStore.account && (\r\n                  <BorderBox css={{ padding: '0.6rem 0'}}>\r\n                    <div style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '15px',\r\n                          color: '#959191',\r\n                          paddingBottom: '12px'\r\n                    }}>\r\n                      {lang.t('balance')}:&nbsp;\r\n                      {pageStore.balanceOfCYC.format}\r\n                      &nbsp;M87&nbsp;\r\n                      {store.currentCYCDenomination.value.comparedTo(pageStore.balanceOfCYC.value) > 0 ? (\r\n                        <>\r\n                          <Popover\r\n                            placement=\"top\"\r\n                            trigger=\"click\"\r\n                            content={\r\n                              <>\r\n                                <div style={{ textAlign: 'center', fontWeight: 'bold', maxWidth: '12rem' }}>\r\n                                  {lang.t('cyc.tips')}\r\n                                </div>\r\n                                <div\r\n                                  style={{\r\n                                    textAlign: 'center',\r\n                                    fontWeight: 'bold',\r\n                                    maxWidth: '12rem',\r\n                                    pointerEvents: 'auto'\r\n                                  }}\r\n                                >\r\n                                  <a\r\n                                    style={{\r\n                                      color: 'black',\r\n                                      textDecoration: 'underline'\r\n                                    }}\r\n                                    href={pageStore.currentChain.swapURL}\r\n                                  >\r\n                                    {lang.t('click.buy')}\r\n                                  </a>\r\n                                </div>\r\n                              </>\r\n                            }\r\n                            backgroundColor=\"#45bcb8\"\r\n                          >\r\n                            <img src=\"/images/alert.png\" style={{ cursor: 'pointer' }} alt=\"\" />\r\n                          </Popover>\r\n                        </>\r\n                      ) : null}\r\n                    </div>\r\n\r\n                    <div className={styles.denomenation.className}>\r\n                      <div\r\n                        style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '18px',\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        {lang.t('cyc.denomenation')}:&nbsp;{store.currentCYCDenomination.format}\r\n                        <Popover\r\n                            placement=\"top\"\r\n                            trigger=\"click\"\r\n                            content={\r\n                              <>\r\n                                <div style={{ textAlign: 'center', fontWeight: 'bold', maxWidth: '12rem' }}>\r\n                                  {lang.t('cyc.reward')}\r\n                                </div>\r\n                              </>\r\n                            }\r\n                            backgroundColor=\"#45bcb8\"\r\n                          >\r\n                            <img src=\"/images/reward.png\" style={{ cursor: 'pointer', paddingLeft: 5, marginTop: -2 }} alt=\"\" />\r\n                        </Popover>\r\n                      </div>\r\n\r\n                      \r\n                    </div>\r\n\r\n                    {pageStore.balanceOfCYC.value.comparedTo(store.currentCYCDenomination.value) < 0 && pageStore.account && (\r\n                      <div\r\n                        className=\"flex item-center\"\r\n                        style={{\r\n                          marginTop: '0.5rem'\r\n                        }}\r\n                      >\r\n                        <input\r\n                          disabled={\r\n                            pageStore.balanceOfCoin.value.comparedTo(\r\n                              store.currentCoinDenomination.value.plus(pageStore.BNBtoBuyCYC.value)\r\n                            ) < 0\r\n                          }\r\n                          id=\"check\"\r\n                          type=\"checkbox\"\r\n                          style={{ verticalAlign: 'middle' }}\r\n                          onChange={store.onChangeBuyCYCCheckBox}\r\n                        />\r\n                        <label htmlFor=\"check\" style={{ marginLeft: 10, verticalAlign: 'middle', color: 'white' }}>\r\n                          {lang.t('use.coin.to.buy.cyc', {\r\n                            amount: pageStore.BNBtoBuyCYC.format,\r\n                            symbol: pageStore.currentChain.Coin.symbol\r\n                          })}\r\n                        </label>\r\n                      </div>\r\n                    )}\r\n                  </BorderBox>\r\n                )} */}\r\n\r\n                {/* {store.currentAmount.value.comparedTo(0) > 0 && (\r\n                  <BorderBox css={{ padding: '0.6rem 0'}}>\r\n                    <div style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '15px',\r\n                          color: '#959191',\r\n                          paddingBottom: '12px'\r\n                    }}>\r\n                      {lang.t('balance')}:&nbsp;\r\n                      {pageStore.balanceOfCoin.getFormat({ decimals: pageStore.currentChain.Coin.decimals })} ETH\r\n                      {store.currentCoinDenomination.value.comparedTo(pageStore.balanceOfCoin.value) > 0 ? (\r\n                        <>\r\n                          <Popover\r\n                            placement=\"top\"\r\n                            trigger=\"click\"\r\n                            content={\r\n                              <>\r\n                                <div style={{ textAlign: 'center', fontWeight: 'bold', maxWidth: '12rem' }}>\r\n                                  {lang.t('amount.invalid')}\r\n                                </div>\r\n                                <div\r\n                                  style={{\r\n                                    textAlign: 'center',\r\n                                    fontWeight: 'bold',\r\n                                    maxWidth: '12rem',\r\n                                    pointerEvents: 'auto'\r\n                                  }}\r\n                                ></div>\r\n                              </>\r\n                            }\r\n                            backgroundColor=\"#45bcb8\"\r\n                          >\r\n                            <img src=\"/images/alert.png\" style={{ cursor: 'pointer' }} alt=\"\" />\r\n                          </Popover>\r\n                        </>\r\n                      ) : null}\r\n                    </div>\r\n\r\n                    <div\r\n                      className={styles.denomenation.className}\r\n                      style={{\r\n                        marginBottom: '0.5rem'\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '18px',\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        ETH&nbsp;{lang.t('Denomination')}:&nbsp;\r\n                        {store.currentCoinDenomination.getFormat({ decimals: pageStore.currentChain.Coin.decimals })}\r\n                      </div>\r\n                    </div>\r\n                  </BorderBox>\r\n                )} */}\r\n              </div>\r\n            </Section>\r\n            \r\n            <Section css={{ width: '100%', '@md': { width: '46%' } }}>\r\n              {/* <Button\r\n                avaliable={\r\n                  pageStore.isConnect &&\r\n                  !store.cycApproved &&\r\n                  new BigNumber(pageStore.balanceOfCYC.value).comparedTo('0') &&\r\n                  store.currentCYCDenomination.value.comparedTo(0) > 0\r\n                }\r\n                label={lang.t('approve') + ' M87'}\r\n                disabledLabel={lang.t('approved')}\r\n                disable={store.cycApproved}\r\n                onClick={store.onApproveCYC}\r\n\r\n                LoadingButton\r\n              /> */}\r\n              <div style={{ flexDirection: 'column', justifyContent: 'space-between', height: '160px', display: 'flex' }}>\r\n                <Section css={{ position: 'relative', mb: '1.5rem' }}>\r\n                  <Input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    step={0.1}\r\n                    css={{ pr: '50px' }}\r\n                    value={store.depositAmountInput.format}\r\n                    onChange={(e) => store.setDepositAmount(e.target.value)}\r\n                  />\r\n                  <Text\r\n                    size=\"small\"\r\n                    color=\"primary\"\r\n                    cursor=\"pointer\"\r\n                    onClick={store.setMaxLimitAmount}\r\n                    css={{ position: 'absolute', lineHeight: '40px', top: 0, right: 11 }}\r\n                  >\r\n                    {lang.t('Max')}\r\n                  </Text>\r\n                </Section>\r\n                <Section css={{ position: 'relative', mb: '1.5rem' }}>\r\n                  <Input\r\n                    css={{ pr: '50px' }}\r\n                    disabled\r\n                    value={pageStore.myAddress}\r\n                    onChange={(e) => {console.log(\"changed\")}}\r\n                  />\r\n                </Section>\r\n                <ThemeProvider theme={theme}>\r\n                  {/* {\r\n                    pageStore.CurrentSet.XRCToken && store.currentAmount.value.comparedTo(0) > 0 ?\r\n                      <LoadingButton\r\n                      color=\"MessierOrange\"\r\n                      loadingPosition='start'\r\n                      loading={store.TokenApproveStatus == \"loading\"}\r\n                      disabled={store.TokenApproveStatus != \"notApproved\"}\r\n                      variant=\"outlined\"\r\n                      onClick={store.onApproveXRC}\r\n                      sx={{\r\n                        height: '40px',\r\n                        fontWeight: 'bold',\r\n                        color: store.TokenApproveStatus != \"notApproved\" ? '#acb3bb !important' : '',\r\n                        background: store.TokenApproveStatus != \"notApproved\" ? '#b9b9b952 !important' : ''\r\n                      }}\r\n                      fullWidth\r\n                      >\r\n                        { store.TokenApproveStatus == \"approved\" ? lang.t('approved') : lang.t('approve.token', { token: pageStore.CurrentSet.XRCToken.symbol })}\r\n                      </LoadingButton> : (\r\n                          <LoadingButton\r\n                          color=\"MessierOrange\"\r\n                          loadingPosition='start'\r\n                          loading={store.ApproveStatus == \"loading\"}\r\n                          disabled={store.ApproveStatus != \"notApproved\"}\r\n                          variant=\"outlined\"\r\n                          onClick={store.onApproveCYC}\r\n                          sx={{\r\n                            height: '40px',\r\n                            fontWeight: 'bold',\r\n                            color: store.ApproveStatus != \"notApproved\" ? '#acb3bb !important' : '',\r\n                            background: store.ApproveStatus != \"notApproved\" ? '#b9b9b952 !important' : ''\r\n                          }}\r\n                          fullWidth\r\n                          >\r\n                            { store.ApproveStatus == \"approved\" ? lang.t('approved') : lang.t('approve')}\r\n                          </LoadingButton>\r\n                      )\r\n                  } */}\r\n                  <div style={{display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>\r\n                  {\r\n                    pageStore.CurrentSet.XRCToken && store.TokenApproveStatus != \"approved\" &&\r\n                      <LoadingButton\r\n                        color=\"MessierOrange\"\r\n                        loadingPosition='start'\r\n                        loading={store.TokenApproveStatus == \"loading\"}\r\n                        disabled={store.TokenApproveStatus != \"notApproved\"}\r\n                        variant=\"outlined\"\r\n                        onClick={store.onApproveXRC}\r\n                        sx={{\r\n                          height: '40px',\r\n                          width: '48%',\r\n                          fontWeight: 'bold',\r\n                          color: store.TokenApproveStatus != \"notApproved\" ? '#acb3bb !important' : '',\r\n                          background: store.TokenApproveStatus != \"notApproved\" ? '#b9b9b952 !important' : ''\r\n                        }}\r\n                        fullWidth\r\n                      >\r\n                          { store.TokenApproveStatus == \"approved\" ? lang.t('approved') : lang.t('approve.token', { token: store.indexOfPool })}\r\n                      </LoadingButton>\r\n                  }\r\n                    <LoadingButton\r\n                      color=\"MessierOrange\"\r\n                      loadingPosition='start'\r\n                      loading={store.DepositStatus == \"loading\"}\r\n                      disabled={store.DepositStatus != \"active\"}\r\n                      variant=\"outlined\"\r\n                      sx={{\r\n                        height: '40px',\r\n                        width: store.TokenApproveStatus == \"approved\" || !pageStore.CurrentSet.XRCToken ? '100%' : '48%',\r\n                        fontWeight: 'bold',\r\n                        color: store.DepositStatus != \"active\" ? '#acb3bb !important' : '',\r\n                        background: store.DepositStatus != \"active\" ? '#b9b9b952 !important' : ''\r\n                      }}\r\n                      onClick={store.deposit}\r\n                      fullWidth\r\n                    >\r\n                      {lang.t('Deposit')}\r\n                    </LoadingButton>\r\n                  </div>\r\n                </ThemeProvider>\r\n              </div>\r\n             {/* <div className={styles.buttonPanel.className}>{ActionButton}</div> */}\r\n            </Section>\r\n          </FlexBox>\r\n        </DropBox>\r\n      </div>\r\n      );\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    // console.log('props.chainID', props.chainID);\r\n    store.init(props.chainID);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(pageStore.connectingStatus);\r\n    if(pageStore.connectingStatus == 'idle')\r\n      store.isConnecting = false;\r\n    else\r\n      store.isConnecting = true;\r\n  }, [pageStore.connectingStatus]);\r\n\r\n  useEffect(() => {\r\n    store.isShowDetail = (store.indexOfPool == pageStore.currentPoolIndex) && !pageStore.isLockStatus;\r\n  }, [pageStore.currentPoolIndex, pageStore.isLockStatus]);\r\n\r\n  useEffect(() => {\r\n    // console.log('DepositStatus', store.DepositStatus);\r\n    if(store.DepositStatus == \"loading\")\r\n      return;\r\n    if( store.allowDeposit )\r\n      store.DepositStatus = \"active\";\r\n    else\r\n      store.DepositStatus = 'notActive';\r\n  }, [ store.allowDeposit, baseStore.refetchTimer ]);\r\n\r\n  useEffect(() => {\r\n    if( !pageStore.CurrentSet.XRCToken )\r\n      return;\r\n    // console.log(\"Approve consider\");\r\n    if(store.TokenApproveStatus == \"loading\")\r\n      return;\r\n    // console.log(store.ApproveStatus);\r\n    if( store.xrcApproved ) {\r\n      store.TokenApproveStatus = \"approved\";\r\n      // console.log('1');\r\n    }\r\n    else {\r\n      // console.log('2'); \r\n      const isActive = pageStore.isConnect &&\r\n        new BigNumber(pageStore.balanceOfXRC.value).comparedTo('0') > 0 &&\r\n        store.depositAmountInput.value.comparedTo(0) > 0 &&\r\n        store.depositAmountInput.value.comparedTo(pageStore.CurrentSet.minDepositAmount) >= 0 && \r\n        store.depositAmountInput.value.comparedTo(store.maxLimitAmount) <= 0 && \r\n        store.depositAmountInput.value.comparedTo(pageStore.CurrentSet.maxDepositAmount) <= 0;\r\n        \r\n        console.log(new BigNumber(pageStore.balanceOfXRC.value).comparedTo('0') > 0);\r\n        console.log(store.depositAmountInput.value.comparedTo(0) > 0);\r\n        console.log(store.depositAmountInput.value.comparedTo(pageStore.CurrentSet.minDepositAmount) >= 0);\r\n        console.log(store.depositAmountInput.value.comparedTo(store.maxLimitAmount) <= 0);\r\n        console.log(store.depositAmountInput.value.comparedTo(pageStore.CurrentSet.maxDepositAmount) <= 0);\r\n\r\n      if( isActive )\r\n        store.TokenApproveStatus = \"notApproved\";\r\n      else\r\n        store.TokenApproveStatus = \"disabled\";\r\n    }\r\n  }, [pageStore.isConnect, store.xrcApproved, pageStore.balanceOfXRC, store.depositAmountInput.value ]);\r\n\r\n  useEffect(() => {\r\n    // console.log('props.chainID =', props.chainID);\r\n\r\n    store.init(props.chainID);\r\n  }, [props.chainID, pageStore.web3, pageStore.account]);\r\n\r\n  useEffect(() => {\r\n    store.loadAmount();\r\n    const doNecessary = async () => {\r\n      store.gasPrice = await store.fetchGasPrice(pageStore.currentChain.chainId);\r\n    }\r\n    doNecessary();\r\n  }, [baseStore.refetchTimer, pageStore.CurrentSet.balance.value]);\r\n\r\n  return (\r\n    <>\r\n    { \r\n      <Section>\r\n        <BorderBox css={{ padding: '0.6rem 0', cursor: 'pointer' }}\r\n        onClick={\r\n          () => {\r\n              store.onSelectPool(); \r\n          }\r\n        }>\r\n          <FlexBox justify=\"between\">\r\n            <FlexBox css={{ width: 'max-content', cursor: 'pointer', '@md': { width: '32%' } }}>\r\n              {\r\n                <SingleSymbol imgs={['/images/home/' + (store.indexOfPool ? store.indexOfPool.toLowerCase() : '') + '.png']} />\r\n              }\r\n              <Text size=\"small\" color=\"primary\" css={{ ml: '0.8rem' }}>\r\n                <span>\r\n                  {store.tokens &&\r\n                    store.tokens[store.indexOfPool].set\r\n                  }\r\n                </span>\r\n              </Text>\r\n            </FlexBox>\r\n            <Text size=\"small\" color=\"white\" css={{ flex: 1, textAlign: 'right', cursor: 'pointer' }}>\r\n              {/* { (pageStore.currentChain.chainId == 1) && (store.indexOfPool == 1 || store.indexOfPool == 10) && store.tokens[store.indexOfPool].Apy.format + ' % / ' + store.tokens[store.indexOfPool].dailyApy.getFormat({fixed: 3}) + ' %' } */}\r\n            </Text>\r\n            <FlexBox justify=\"end\" css={{ width: 'max-content', cursor: 'pointer', '@md': { width: '40%' } }}>\r\n              <Text size=\"small\" color=\"white\" css={{ display: 'none', '@md': { display: 'block' } }}>\r\n                {/* ${store.tokens[store.indexOfPool].tvl.format} */}\r\n              </Text>\r\n              <Icon\r\n                css={{ width: '1rem', ml: '1rem', '@md': { width: '1.375rem', ml: '1.5rem' } }}\r\n                src={`/images/home/${store.isShowDetail ? 'dropup' : 'dropdown'}.png`}\r\n              ></Icon>\r\n            </FlexBox>\r\n          </FlexBox>\r\n        </BorderBox>\r\n        {AnonymityPool}\r\n      </Section>\r\n    }\r\n    </>\r\n  );\r\n});\r\n\r\nconst styles = {\r\n  depositView: css({\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    flexDirection: 'column',\r\n    height: '530',\r\n    '@md': {\r\n      minHeight: '390px'\r\n    }\r\n  }),\r\n  token: css({\r\n    marginTop: '1.2rem',\r\n    marginLeft: '7vw',\r\n    '@xs': {\r\n      marginTop: '25px',\r\n      marginLeft: '40px'\r\n    },\r\n    '.select': {\r\n      border: '1px solid #45BCB8',\r\n      color: 'white',\r\n      background: 'transparent',\r\n      height: '40px',\r\n      width: '95%',\r\n      appearance: 'none',\r\n      fontSize: '18px',\r\n      fontFamily: \"'IBM Plex Mono', monospace\",\r\n      paddingLeft: '0.5rem'\r\n    }\r\n  }),\r\n  amount: css({\r\n    width: '95%',\r\n    overflow: 'hidden',\r\n    marginTop: '2rem',\r\n    marginLeft: '7vw',\r\n    marginBottom: '2rem',\r\n    '@xs': {\r\n      width: '94%',\r\n      overflow: 'auto',\r\n      marginLeft: '40px',\r\n      paddingRight: '40px'\r\n    },\r\n    '.stepperTrack': {\r\n      width: '100%',\r\n      borderWidth: '2px',\r\n      borderStyle: 'solid',\r\n      borderColor: '#45bcb8',\r\n      marginTop: '20px'\r\n    }\r\n  }),\r\n  buttonPanel: css({\r\n    height: '40px',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#ffffff12',\r\n    color: '#44ee95',\r\n    fontSize: '16px',\r\n    fontWeight: 'bold',\r\n    cursor: 'pointer',\r\n    textTransform: 'uppercase',\r\n    border: 'solid 1px',\r\n    borderColor: '#44ee95',\r\n    '&:hover': {\r\n      backgroundColor: '#00ff0312'\r\n    },\r\n    marginBottom: '1rem',\r\n    marginTop: '2.5rem',\r\n  }),\r\n  bottomTips: css({\r\n    marginLeft: '10%',\r\n    marginRight: '4vw',\r\n    fontSize: '12px',\r\n    padding: '0 0 0.3rem 3rem',\r\n    whiteSpace: 'nowrap',\r\n    textOverflow: 'ellipsis',\r\n    overflow: 'hidden',\r\n    '@md': {\r\n      marginLeft: '64px',\r\n      marginRight: '28px',\r\n      fontSize: '12px',\r\n      paddingLeft: '40px',\r\n      paddingBottom: '0.35rem',\r\n      whiteSpace: 'nowrap'\r\n    }\r\n  }),\r\n  poolInfos: css({\r\n      marginTop: '0.7rem'\r\n  }),\r\n  poolAudio: css({\r\n    paddingRight: '5%',\r\n    ul: {\r\n      listStyleType: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between',\r\n      flexWrap: 'wrap',\r\n      padding: 0,\r\n      margin: 0,\r\n      li: {\r\n        width: '100%',\r\n        padding: '4px 0',\r\n        border: '1px solid #45BCB8',\r\n        textAlign: 'left',\r\n        marginBottom: '8px',\r\n        paddingLeft: '4px',\r\n        fontSize: '0.875rem',\r\n        cursor: 'pointer',\r\n        '@md': {\r\n          width: '48%'\r\n        },\r\n        '&:hover': {\r\n          background: 'rgba(69, 188, 184, 0.35)'\r\n        }\r\n      },\r\n      '.active': {\r\n        fontWeight: 'bold',\r\n        color: '#38DCD5',\r\n        borderColor: '#45BCB8',\r\n        background: 'rgba(69, 188, 184, 0.35)'\r\n      }\r\n    }\r\n  }),\r\n  logo: css({\r\n    width: '24px',\r\n    height: '24px'\r\n  }),\r\n  denomenation: css({\r\n    width: '95%',\r\n    rowGap: '0.5rem',\r\n    flexBetweenCenter: 'column',\r\n    '.input': {\r\n      marginBottom: '8px'\r\n    },\r\n    '.button': {\r\n      width: '100%'\r\n    },\r\n    '.buttonDisable': {\r\n      width: '100%'\r\n    },\r\n    '@xs': {\r\n      columnGap: '1rem',\r\n      flexBetweenCenter: 'row',\r\n      '.input': {\r\n        marginBottom: 0\r\n      },\r\n      '.button': {\r\n        width: 'max-content'\r\n      },\r\n      '.buttonDisable': {\r\n        width: 'max-content'\r\n      }\r\n    },\r\n    '@md': {\r\n      '.input': {\r\n        marginBottom: 0\r\n      }\r\n    }\r\n  }),\r\n  approveBtn: css({\r\n    padding: '0 10px',\r\n    width: '100%',\r\n    height: '34px',\r\n    outline: 'none',\r\n    border: '1px solid #45BCB8',\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n    fontSize: '0.875rem',\r\n    backgroundColor: '#45BCB8',\r\n    '@xs': {\r\n      height: '40px',\r\n      maxWidth: '152px'\r\n    },\r\n    '@md': {\r\n      maxWidth: '90px',\r\n      fontSize: '12px'\r\n    },\r\n    xl: {\r\n      maxWidth: '152px',\r\n      fontSize: '1rem'\r\n    },\r\n    '&:disabled': {\r\n      backgroundColor: 'black'\r\n    }\r\n  }),\r\n  loginOut: css({\r\n    flexCenterCenter: 'row',\r\n    paddingLeft: '8%',\r\n    marginBottom: '2rem',\r\n    '@md': {\r\n      marginBottom: '3rem'\r\n    },\r\n    span: {\r\n      textDecoration: 'underline',\r\n      fontSize: '1',\r\n      cursor: 'pointer',\r\n      fontWeight: 'bold'\r\n    }\r\n  })\r\n};\r\n\r\nexport default DepositViewForBSC;\r\n","import React, { useEffect, useMemo } from 'react';\r\nimport Button from './Button';\r\nimport { Popover } from 'antd';\r\nimport { css } from '../modules/index';\r\nimport { useStore } from '../store';\r\nimport { observer, useLocalStore, useObserver } from 'mobx-react-lite';\r\nimport BigNumber from 'bignumber.js';\r\nimport { toast } from 'react-toastify';\r\nimport { debounce } from 'lodash';\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { BigNumberState } from '../store/type';\r\nimport { Icon, Text, FlexBox, Wrapper, BorderBox, DropBox, Section, Input } from '../modules/globalStyle';\r\nimport { SingleSymbol } from './SingleSymbol';\r\nimport LoadingButton from '@mui/lab/LoadingButton';\r\nimport { injectedConnector } from '../lib/web3-react-bsc';\r\nimport { GasPriceOracle } from 'gas-price-oracle';\r\nimport { toWei, toBN, BN } from 'web3-utils';\r\nimport { BigNumberInputState } from '../store/lib/BignumberInputState';\r\nimport bigInt from 'big-integer';\r\nimport axios from 'axios';\r\nimport { hooks } from '../lib/hooks';\r\nimport { isAddress } from 'web3-utils'\r\n\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport { display } from '@mui/system';\r\nimport { ethers } from 'ethers';\r\n\r\nexport function toHex(number, length = 32) {\r\n  const str = number instanceof Buffer ? number.toString('hex') : bigInt(number).toString(16);\r\n  return '0x' + str.padStart(length * 2, '0');\r\n}\r\n\r\nfunction gasPricesETH(value = 80) {\r\n  const tenPercent = (Number(value) * 5) / 100;\r\n  const max = Math.max(tenPercent, 3);\r\n  const bumped = Math.floor(Number(value) + max);\r\n  return toHex(toWei(bumped.toString(), 'gwei'));\r\n}\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    MessierOrange: {\r\n      main: '#FF7518',\r\n      contrastText: '#fff',\r\n    },\r\n  },\r\n});\r\n\r\nlet clipboardy = null;\r\n\r\nexport const WithdrawViewForETH = observer(props => {\r\n  const { lang, god: pageStore, base: baseStore } = useStore();\r\n  const { activate, error, deactivate } = useWeb3React();\r\n  \r\n  const store = useLocalStore(() => ({\r\n    tokens: null,\r\n    // indexOfToken: 0,\r\n    // indexOfAmountSet: 0,\r\n    isShowDetail: false,\r\n    indexOfPool: null,\r\n    currentAmount: new BigNumberState({ loading: true }),\r\n    currentShieldedAmount: new BigNumberState({ value: new BigNumber(0), fixed: 5 }),\r\n    currentCYCDenomination: new BigNumberState({ loading: true }),\r\n    currentCoinDenomination: new BigNumberState({ loading: true }),\r\n    poolSize: -1,\r\n    anonymityFee: new BigNumberState({ loading: true }),\r\n    ApproveStatus: \"disabled\",\r\n    TokenApproveStatus: \"disabled\",\r\n    DepositStatus: \"disabled\",\r\n    WithdrawStatus: \"disabled\",\r\n    isConnecting: false,\r\n    gasPrice: '0',\r\n    depositAmountInput: new BigNumberInputState({}),\r\n    recipientAddress: null,\r\n    isUsingMax: false,\r\n    \r\n    setDepositAmount(val) {\r\n      store.isUsingMax = false;\r\n      if(store.currentShieldedAmount.loading || store.gasPrice == '0')\r\n        return;\r\n      const subArr = val.split(\".\");\r\n      if(subArr[1]) {\r\n        if(subArr[1].length > store.depositAmountInput.decimals)\r\n          return;\r\n      }\r\n      store.depositAmountInput.setFormat(val);\r\n    },\r\n\r\n    setMaxLimitAmount() {\r\n      if(store.currentShieldedAmount.loading || store.gasPrice == '0')\r\n        return;\r\n      store.isUsingMax = true;\r\n      store.depositAmountInput.setValue(this.maxLimitAmount);\r\n    },\r\n\r\n    getAnonymityFee() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n      this.anonymityFee.setValue(pageStore.CurrentSet.anonymityPoolFee.value);\r\n    },\r\n    \r\n    async checkValidAccount(recipient) {\r\n      if(!isAddress(recipient)) {\r\n        store.recipientAddress = '';\r\n        return;\r\n      }\r\n      store.recipientAddress = recipient;\r\n    },\r\n\r\n    // get currentCYCDenominationLabel() {\r\n    //   return '...';\r\n    // },\r\n\r\n    get xrcApproved() {\r\n      if( pageStore.CurrentSet.XRCToken ) {\r\n        return (\r\n          new BigNumber(pageStore.CurrentSet.XRCToken.allownaceForRouter.value).comparedTo(store.currentAmount.value) >= 0 &&\r\n          store.currentAmount.value.comparedTo('0') > 0\r\n        );\r\n      }\r\n      return false;\r\n    },\r\n\r\n    async fetchGasPrice(netId) {\r\n      try {\r\n        const options = {\r\n        chainId: netId,\r\n        defaultRpc: pageStore.currentChain.rpcUrl,\r\n        timeout: 10000,\r\n        defaultFallbackGasPrices: {\r\n          instant: 28,\r\n          fast: 22,\r\n          standard: 17,\r\n          low: 11,\r\n        },\r\n        };\r\n        // Bump fees for Ethereum network\r\n        if (netId == 1 || netId == 56 || netId == 137) {\r\n          const oracle = new GasPriceOracle(options);\r\n          const fallbackGasPrices = {\r\n            instant: 70,\r\n            fast: 31,\r\n            standard: 20,\r\n            low: 7,\r\n          };\r\n          const gas = await oracle.gasPrices(fallbackGasPrices);\r\n          return gasPricesETH(gas.instant);\r\n        }\r\n      } catch (err) {\r\n        return '0x0';\r\n      }\r\n    },\r\n    \r\n    init(chainID) {\r\n      // console.log('EthereumConfig.tokensOnEthereum[chainID] =', EthereumConfig.tokensOnEthereum[chainID]);\r\n\r\n      store.tokens = pageStore.currentChain.pools;\r\n      // console.log('store.tokens =', store.tokens);\r\n      // console.log('cyc denomination', store.currentCYCDenomination.format);\r\n      // console.log(store.tokens.length);\r\n      if( store.tokens ) {\r\n        // console.log('ininin');\r\n        this.indexOfPool = props.indexOfPool;\r\n      }\r\n      // console.log('this.indexOfPool =', this.indexOfPool);\r\n      this.loadAmount();\r\n    },\r\n\r\n    loadAmount() {\r\n      if (pageStore.web3) {\r\n        store.getCurrentAmount();\r\n        // store.getPoolSize();\r\n        // store.getAnonymityFee();\r\n        // store.getCurrentCYCDenomination();\r\n        // store.getCurrentCoinDenomination();\r\n      }\r\n      store.getCurrentShieldedAmount();\r\n      if (pageStore.account) {\r\n        // pageStore.getBalanceOfXRC();\r\n        // pageStore.getBNBtoBuyCYC();\r\n        // pageStore.getBalanceOfCoin();\r\n      }\r\n    },\r\n\r\n    // onSelectAmount(id) {\r\n    //   pageStore.setCurrentSelectedAmount(id);\r\n    // },\r\n\r\n    // onSelectToken(event) {\r\n    //   const idx = event.target.value;\r\n    //   store.indexOfToken = idx;\r\n    //   props.onSelectToken(idx);\r\n    // },\r\n\r\n    onSelectPool() {\r\n      pageStore.setCurrentSelectedAmount(store.indexOfPool);\r\n      if(pageStore.CurrentSet.XRCToken)\r\n        store.currentAmount.setDecimals(pageStore.CurrentSet.XRCToken.decimals);\r\n      this.loadAmount();\r\n    },\r\n\r\n    async onConnect() {\r\n      pageStore.connectingStatus = \"connecting\";\r\n      await activate(injectedConnector);\r\n      pageStore.eth.connector.latestProvider.save('inject');\r\n      if(!pageStore.isConnect && pageStore.connectingStatus == 'connecting') {\r\n        pageStore.connectingStatus = 'idle';\r\n      }\r\n      if(pageStore.isConnect) {\r\n        baseStore.startRefetchForce();\r\n      }\r\n      \r\n    },\r\n\r\n    logout() {\r\n      deactivate();\r\n      pageStore.latestEthProvider.clear();\r\n    },\r\n\r\n    // onSelectPool(event) {\r\n    //   const tempInt = event.target.value;\r\n    //   store.indexOfPool = tempInt;\r\n    //   props.onSelectAmount(tempInt);\r\n    // },\r\n\r\n    async onApproveXRC() {\r\n      store.TokenApproveStatus = \"loading\";\r\n      pageStore.isOnProgress = true;\r\n      try {\r\n        await props.onApproveXRC(pageStore.CurrentSet.XRCToken, store.currentAmount.value.toString());\r\n        store.TokenApproveStatus = \"disabled\";\r\n        pageStore.isOnProgress = false;\r\n      } catch (error) {\r\n        store.TokenApproveStatus = \"notApproved\";\r\n        pageStore.isOnProgress = false;\r\n      }\r\n    },\r\n\r\n    async deposit() {\r\n      store.DepositStatus = \"loading\";\r\n      pageStore.isOnProgress = true;\r\n      try {\r\n        await props.onDeposit(store.totalReceiveAmount, store.relayerFeeAmount, store.recipientAddress, store.withdrawFeeAmount);\r\n        store.DepositStatus = \"notActive\";\r\n        store.depositAmountInput.setValue(new BigNumber(0));\r\n        pageStore.isOnProgress = false;\r\n      } catch (error) {\r\n        store.DepositStatus = \"active\";\r\n        pageStore.isOnProgress = false;\r\n      }\r\n    },\r\n\r\n    async getCurrentAmount() {\r\n      if (!store.indexOfPool || pageStore.CurrentSet.balance.loading) {\r\n        return;\r\n      }\r\n      const value = pageStore.CurrentSet.balance.value;\r\n      store.currentAmount.setValue(value);\r\n      store.currentAmount.setLoading(false);\r\n    },\r\n\r\n    getCurrentShieldedAmount() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n      const value = pageStore.CurrentSet.shieldedBalance.value;\r\n      store.currentShieldedAmount.setValue(value);\r\n    },\r\n\r\n    getCurrentCoinDenomination() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n\r\n      const value = pageStore.CurrentSet.coinDenomination.value;\r\n      store.currentCoinDenomination.setValue(value);\r\n      store.currentCoinDenomination.setLoading(false);\r\n    },\r\n\r\n    async getCurrentCYCDenomination() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n\r\n      // const set = store.tokens[store.indexOfToken].amountSteps[store.indexOfPool];\r\n      const value = pageStore.CurrentSet.depositCYCAmount.value;\r\n      store.currentCYCDenomination.setValue(value);\r\n      store.currentCYCDenomination.setLoading(false);\r\n    },\r\n\r\n    async getPoolSize() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n\r\n      store.poolSize = -1;\r\n      if (store.tokens) {\r\n        store.poolSize = pageStore.CurrentSet.numOfShare;\r\n      }\r\n    },\r\n\r\n    onClickCopyButton(event) {\r\n      if (clipboardy) {\r\n        clipboardy.focus();\r\n        clipboardy.select();\r\n        const result = document.execCommand('copy');\r\n        if (result === 'unsuccessful') {\r\n          clipboardy.blur();\r\n        } else {\r\n          clipboardy.blur();\r\n          toast.dark(lang.t('address.copied'), {\r\n            position: 'bottom-center',\r\n            autoClose: 3000,\r\n            hideProgressBar: true,\r\n            closeOnClick: false,\r\n            pauseOnHover: false,\r\n            draggable: false,\r\n            progress: undefined\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    onChangeBuyCYCCheckBox(event) {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n      \r\n      pageStore.CurrentSet.allowBuyCYC = event.target.checked && !event.target.disabled;\r\n    },\r\n\r\n    get allowDeposit() {\r\n      if (store.depositAmountInput.value.comparedTo(0) > 0 && store.depositAmountInput.value.comparedTo(store.maxLimitAmount) <= 0 && this.recipientAddress && this.recipientAddress.length >= 3) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    \r\n    get maxLimitAmount() {\r\n      if(pageStore.CurrentSet.XRCToken) {\r\n        const totalBalance = store.currentShieldedAmount.value;\r\n        const fee = totalBalance.dividedBy(1000);\r\n        let tempBalance = totalBalance.minus(fee);\r\n\r\n        tempBalance = tempBalance.dividedBy(1000).dp(0, BigNumber.ROUND_FLOOR).multipliedBy(999);\r\n\r\n        if(tempBalance.lte(store.rawWithdrawFee)) {\r\n          return new BigNumber(0);\r\n        }\r\n        else {\r\n          return tempBalance.minus(store.rawWithdrawFee);\r\n        }\r\n\r\n      }\r\n      else {\r\n        const totalBalance = store.currentShieldedAmount.value;\r\n        const realBalance = totalBalance.minus(store.withdrawFeeAmount).minus(this.bridgeFeeAmount);\r\n        const fee = realBalance.dividedBy(1000).dp(0, BigNumber.ROUND_FLOOR);\r\n\r\n        let maxValue = realBalance.minus(fee)\r\n\r\n        if(maxValue.lt(0))\r\n          return new BigNumber(0);\r\n\r\n        return maxValue;\r\n      }\r\n    },\r\n\r\n    get bridgeFeeAmount() {\r\n      if(pageStore.CurrentSet.XRCToken) {\r\n        if(store.depositAmountInput.value.eq(store.maxLimitAmount)) {\r\n          const totalBalance = store.currentShieldedAmount.value;\r\n          const fee = totalBalance.dividedBy(1000);\r\n          let tempBalance = totalBalance.minus(fee);\r\n\r\n          tempBalance = tempBalance.dividedBy(1000).dp(0, BigNumber.ROUND_FLOOR).multipliedBy(1000);\r\n\r\n          if(tempBalance.lte(store.rawWithdrawFee)) {\r\n            return new BigNumber(0);\r\n          }\r\n          else {\r\n            return tempBalance.dividedBy(1000);\r\n          }\r\n        }\r\n        else {\r\n          const realBalance = store.depositAmountInput.value.plus(store.rawWithdrawFee).dividedBy(999).dp(0, BigNumber.ROUND_FLOOR);\r\n          return realBalance;\r\n        }\r\n      }\r\n      else {\r\n        return new BigNumber(0);\r\n      }\r\n    },\r\n    \r\n    get bridgeFeeFormat() {\r\n      return new BigNumberState({value: this.bridgeFeeAmount}).format;\r\n    },\r\n\r\n    get withdrawFeeAmount() {\r\n      const expense = toBN(this.gasPrice).mul(toBN(3e5));\r\n      if(pageStore.CurrentSet.XRCToken) {\r\n        if(store.depositAmountInput.value.eq(store.maxLimitAmount)) {\r\n          const expenseUSD = new BigNumber(expense.toString()).multipliedBy(baseStore.coinPrice[pageStore.currentChain.Coin.symbol]).dp(0, BigNumber.ROUND_FLOOR);\r\n          return expenseUSD;\r\n        }\r\n        else {\r\n          const withdrawfee = store.depositAmountInput.value.plus(store.rawWithdrawFee).dividedBy(999).dp(0, BigNumber.ROUND_FLOOR).multipliedBy(999).minus(store.depositAmountInput.value);\r\n          return withdrawfee;\r\n        }\r\n      }\r\n      else {\r\n        return new BigNumber(expense.toString());\r\n      }\r\n    },\r\n\r\n    get rawWithdrawFee() {\r\n      const expense = toBN(this.gasPrice).mul(toBN(3e5));\r\n      if(pageStore.CurrentSet.XRCToken) {\r\n        const expenseUSD = new BigNumber(expense.toString()).multipliedBy(baseStore.coinPrice[pageStore.currentChain.Coin.symbol]).dp(0, BigNumber.ROUND_FLOOR);\r\n        return expenseUSD;\r\n      }\r\n    },\r\n    \r\n    get withdrawFeeFormat() {\r\n      return new BigNumberState({value: this.withdrawFeeAmount}).format;\r\n    },\r\n\r\n    get relayerFeeAmount() {\r\n      if(pageStore.CurrentSet.XRCToken) {\r\n        if(store.depositAmountInput.value.eq(store.maxLimitAmount)) {\r\n          const totalBalance = store.currentShieldedAmount.value;\r\n          const fee = totalBalance.dividedBy(1000);\r\n          let tempBalance = totalBalance.minus(fee);\r\n\r\n          tempBalance = tempBalance.dividedBy(1000).dp(0, BigNumber.ROUND_FLOOR).multipliedBy(1000);\r\n\r\n          if(tempBalance.lte(store.rawWithdrawFee)) {\r\n            return new BigNumber(0);\r\n          }\r\n          else {\r\n            return totalBalance.minus(tempBalance);\r\n          }\r\n        }\r\n        else {\r\n          const realBalance = store.depositAmountInput.value.plus(store.rawWithdrawFee).plus(store.bridgeFeeAmount);\r\n          return realBalance.dividedBy(1000).dp(0, BigNumber.ROUND_FLOOR);\r\n        }\r\n      }\r\n      else {\r\n        const totalBalance = store.currentShieldedAmount.value;\r\n        console.log('totalBalance', totalBalance.toString());\r\n        const realBalance = totalBalance.minus(store.withdrawFeeAmount).minus(this.bridgeFeeAmount);\r\n        const myRealBalance = store.depositAmountInput.value.minus(store.withdrawFeeAmount).minus(this.bridgeFeeAmount);\r\n        \r\n        console.log('realBalance.toString()', realBalance.toString());\r\n        console.log(realBalance.lt(0));\r\n        if(myRealBalance.lt(0)) {\r\n          return new BigNumber(0);\r\n        }\r\n        else if(store.depositAmountInput.value.eq(store.maxLimitAmount)) {\r\n          return realBalance.dividedBy(1000).dp(0, BigNumber.ROUND_FLOOR);\r\n        }\r\n        else {\r\n          return myRealBalance.dividedBy(1000).dp(0, BigNumber.ROUND_FLOOR);\r\n        }\r\n      }\r\n    },\r\n\r\n    get relayerFeeFormat() {\r\n      return new BigNumberState({value: this.relayerFeeAmount}).format;\r\n    },\r\n\r\n    get totalReceiveAmount() {\r\n      console.log('L1 Amount', store.depositAmountInput.value.plus(store.withdrawFeeAmount).toString());\r\n      console.log('Bridge Amount', store.bridgeFeeAmount.toString());\r\n      return store.depositAmountInput.value.plus(store.relayerFeeAmount).plus(store.bridgeFeeAmount).plus(store.withdrawFeeAmount);\r\n    },\r\n\r\n    get totalReceiveFormat() {\r\n      return new BigNumberState({value: this.totalReceiveAmount}).format;\r\n    },\r\n    \r\n  }));\r\n\r\n  const ActionButton = useObserver(() => {\r\n    return (\r\n      <div>\r\n        \r\n      </div>\r\n    );\r\n  });\r\n\r\n  const AnonymityPool = useObserver(() => {\r\n    if(store.isShowDetail)\r\n    {\r\n      if (!pageStore.isRegistered) {\r\n        return (\r\n          <DropBox color=\"primary\">\r\n            <FlexBox justify=\"center\" items=\"center\">\r\n              <ThemeProvider theme={theme}>\r\n                <LoadingButton\r\n                  color=\"MessierOrange\"\r\n                  loadingPosition='start'\r\n                  loading={store.isConnecting}\r\n                  variant=\"outlined\"\r\n                  onClick={store.onConnect}\r\n                  sx={{\r\n                    height: '40px',\r\n                    fontWeight: 'bold',\r\n                    maxWidth: '200px'\r\n                  }}\r\n                  fullWidth\r\n                  >\r\n                  {lang.t('connect')}\r\n                </LoadingButton>\r\n              </ThemeProvider>\r\n            </FlexBox>\r\n          </DropBox>\r\n        );\r\n      }\r\n      return (\r\n        <div>\r\n        <DropBox color=\"primary\">\r\n          <FlexBox justify=\"between\" responsive=\"rc\">\r\n            <Section css={{ width: '100%', mb: '1.5rem', '@md': { width: '46%', mb: 0 } }}>\r\n              <div\r\n                style={{\r\n                  marginTop: '0.5rem'\r\n                }}\r\n              >\r\n                {/* {store.currentAmount.value.comparedTo(0) <= 0 && (\r\n                  <BorderBox css={{ padding: '0.6rem 0'}}>\r\n                    <div style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '15px',\r\n                          color: '#959191',\r\n                          paddingBottom: '12px'\r\n                    }}>\r\n                      {lang.t('balance')}:&nbsp;\r\n                      {pageStore.balanceOfCoin.getFormat({ decimals: pageStore.currentChain.Coin.decimals }) + ' ' + pageStore.currentChain.Coin.symbol}  &nbsp;\r\n                      {store.currentCoinDenomination.value.comparedTo(pageStore.balanceOfCoin.value) > 0 && (\r\n                        <>\r\n                          <Popover\r\n                            placement=\"top\"\r\n                            trigger=\"click\"\r\n                            content={\r\n                              <>\r\n                                <div style={{ textAlign: 'center', fontWeight: 'bold', maxWidth: '12rem' }}>\r\n                                  {lang.t('amount.invalid')}\r\n                                </div>\r\n                                <div\r\n                                  style={{\r\n                                    textAlign: 'center',\r\n                                    fontWeight: 'bold',\r\n                                    maxWidth: '12rem',\r\n                                    pointerEvents: 'auto'\r\n                                  }}\r\n                                ></div>\r\n                              </>\r\n                            }\r\n                            backgroundColor=\"#45bcb8\"\r\n                          >\r\n                            <img src=\"/images/alert.png\" style={{ cursor: 'pointer' }} alt=\"\" />\r\n                          </Popover>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div\r\n                      className={styles.denomenation.className}\r\n                      style={{\r\n                        marginBottom: '0.5rem'\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '18px',\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        {pageStore.currentChain.Coin.symbol} &nbsp;{lang.t('Denomination')}:&nbsp;\r\n                        {store.currentCoinDenomination.getFormat({\r\n                        decimals: pageStore.currentChain.Coin.decimals,\r\n                        fixed: 8\r\n                      })}\r\n                      </div>\r\n                    </div>\r\n                  </BorderBox>\r\n                )} */}\r\n\r\n                  <BorderBox css={{ padding: '0.2rem 0'}}>\r\n                    <div\r\n                      className={styles.denomenation.className}\r\n                      style={{\r\n                        marginBottom: '0.5rem'\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '18px',\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        {lang.t('shielded')}&nbsp;{lang.t('balance')}&nbsp;:&nbsp;{store.currentShieldedAmount.format}&nbsp;{store.indexOfPool}\r\n                      </div>\r\n                    </div>\r\n                  </BorderBox>\r\n\r\n                  <div style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '15px',\r\n                          color: '#959191',\r\n                          paddingTop: '35px',\r\n                          display: 'flex',\r\n                          width: '100%',\r\n                          flexDirection: 'column'\r\n                    }}>\r\n                        <div style={{display: 'flex', justifyContent: \"space-between\", width: '100%'}}>\r\n                          <div>{lang.t('relayer.fee')}</div>\r\n                          <div>{store.relayerFeeFormat}&nbsp;{ store.indexOfPool }</div>\r\n                        </div>\r\n                        <div style={{display: 'flex', justifyContent: \"space-between\", width: '100%'}}>\r\n                          <div>{lang.t('bridge.fee')}</div>\r\n                          <div>{store.bridgeFeeFormat}&nbsp;{ store.indexOfPool }</div>\r\n                        </div>\r\n                        <div style={{display: 'flex', justifyContent: \"space-between\", width: '100%'}}>\r\n                          <div>{lang.t('l1.tx.fee')}</div>\r\n                          <div>{store.withdrawFeeFormat}&nbsp;{ store.indexOfPool }</div>\r\n                        </div>\r\n                        <div style={{display: 'flex', justifyContent: \"space-between\", width: '100%'}}>\r\n                          <div>{lang.t('total.received')}</div>\r\n                          <div>{store.totalReceiveFormat}&nbsp;{ store.indexOfPool }</div>\r\n                        </div>\r\n                    </div>\r\n\r\n                {/* {store.currentCYCDenomination.value.comparedTo(0) > 0 && pageStore.account && (\r\n                  <BorderBox css={{ padding: '0.6rem 0'}}>\r\n                    <div style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '15px',\r\n                          color: '#959191',\r\n                          paddingBottom: '12px'\r\n                    }}>\r\n                      {lang.t('balance')}:&nbsp;\r\n                      {pageStore.balanceOfCYC.format}\r\n                      &nbsp;M87&nbsp;\r\n                      {store.currentCYCDenomination.value.comparedTo(pageStore.balanceOfCYC.value) > 0 ? (\r\n                        <>\r\n                          <Popover\r\n                            placement=\"top\"\r\n                            trigger=\"click\"\r\n                            content={\r\n                              <>\r\n                                <div style={{ textAlign: 'center', fontWeight: 'bold', maxWidth: '12rem' }}>\r\n                                  {lang.t('cyc.tips')}\r\n                                </div>\r\n                                <div\r\n                                  style={{\r\n                                    textAlign: 'center',\r\n                                    fontWeight: 'bold',\r\n                                    maxWidth: '12rem',\r\n                                    pointerEvents: 'auto'\r\n                                  }}\r\n                                >\r\n                                  <a\r\n                                    style={{\r\n                                      color: 'black',\r\n                                      textDecoration: 'underline'\r\n                                    }}\r\n                                    href={pageStore.currentChain.swapURL}\r\n                                  >\r\n                                    {lang.t('click.buy')}\r\n                                  </a>\r\n                                </div>\r\n                              </>\r\n                            }\r\n                            backgroundColor=\"#45bcb8\"\r\n                          >\r\n                            <img src=\"/images/alert.png\" style={{ cursor: 'pointer' }} alt=\"\" />\r\n                          </Popover>\r\n                        </>\r\n                      ) : null}\r\n                    </div>\r\n\r\n                    <div className={styles.denomenation.className}>\r\n                      <div\r\n                        style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '18px',\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        {lang.t('cyc.denomenation')}:&nbsp;{store.currentCYCDenomination.format}\r\n                        <Popover\r\n                            placement=\"top\"\r\n                            trigger=\"click\"\r\n                            content={\r\n                              <>\r\n                                <div style={{ textAlign: 'center', fontWeight: 'bold', maxWidth: '12rem' }}>\r\n                                  {lang.t('cyc.reward')}\r\n                                </div>\r\n                              </>\r\n                            }\r\n                            backgroundColor=\"#45bcb8\"\r\n                          >\r\n                            <img src=\"/images/reward.png\" style={{ cursor: 'pointer', paddingLeft: 5, marginTop: -2 }} alt=\"\" />\r\n                        </Popover>\r\n                      </div>\r\n\r\n                      \r\n                    </div>\r\n\r\n                    {pageStore.balanceOfCYC.value.comparedTo(store.currentCYCDenomination.value) < 0 && pageStore.account && (\r\n                      <div\r\n                        className=\"flex item-center\"\r\n                        style={{\r\n                          marginTop: '0.5rem'\r\n                        }}\r\n                      >\r\n                        <input\r\n                          disabled={\r\n                            pageStore.balanceOfCoin.value.comparedTo(\r\n                              store.currentCoinDenomination.value.plus(pageStore.BNBtoBuyCYC.value)\r\n                            ) < 0\r\n                          }\r\n                          id=\"check\"\r\n                          type=\"checkbox\"\r\n                          style={{ verticalAlign: 'middle' }}\r\n                          onChange={store.onChangeBuyCYCCheckBox}\r\n                        />\r\n                        <label htmlFor=\"check\" style={{ marginLeft: 10, verticalAlign: 'middle', color: 'white' }}>\r\n                          {lang.t('use.coin.to.buy.cyc', {\r\n                            amount: pageStore.BNBtoBuyCYC.format,\r\n                            symbol: pageStore.currentChain.Coin.symbol\r\n                          })}\r\n                        </label>\r\n                      </div>\r\n                    )}\r\n                  </BorderBox>\r\n                )} */}\r\n\r\n                {/* {store.currentAmount.value.comparedTo(0) > 0 && (\r\n                  <BorderBox css={{ padding: '0.6rem 0'}}>\r\n                    <div style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '15px',\r\n                          color: '#959191',\r\n                          paddingBottom: '12px'\r\n                    }}>\r\n                      {lang.t('balance')}:&nbsp;\r\n                      {pageStore.balanceOfCoin.getFormat({ decimals: pageStore.currentChain.Coin.decimals })} ETH\r\n                      {store.currentCoinDenomination.value.comparedTo(pageStore.balanceOfCoin.value) > 0 ? (\r\n                        <>\r\n                          <Popover\r\n                            placement=\"top\"\r\n                            trigger=\"click\"\r\n                            content={\r\n                              <>\r\n                                <div style={{ textAlign: 'center', fontWeight: 'bold', maxWidth: '12rem' }}>\r\n                                  {lang.t('amount.invalid')}\r\n                                </div>\r\n                                <div\r\n                                  style={{\r\n                                    textAlign: 'center',\r\n                                    fontWeight: 'bold',\r\n                                    maxWidth: '12rem',\r\n                                    pointerEvents: 'auto'\r\n                                  }}\r\n                                ></div>\r\n                              </>\r\n                            }\r\n                            backgroundColor=\"#45bcb8\"\r\n                          >\r\n                            <img src=\"/images/alert.png\" style={{ cursor: 'pointer' }} alt=\"\" />\r\n                          </Popover>\r\n                        </>\r\n                      ) : null}\r\n                    </div>\r\n\r\n                    <div\r\n                      className={styles.denomenation.className}\r\n                      style={{\r\n                        marginBottom: '0.5rem'\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '18px',\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        ETH&nbsp;{lang.t('Denomination')}:&nbsp;\r\n                        {store.currentCoinDenomination.getFormat({ decimals: pageStore.currentChain.Coin.decimals })}\r\n                      </div>\r\n                    </div>\r\n                  </BorderBox>\r\n                )} */}\r\n              </div>\r\n            </Section>\r\n            \r\n            <Section css={{ width: '100%', '@md': { width: '46%' } }}>\r\n              {/* <Button\r\n                avaliable={\r\n                  pageStore.isConnect &&\r\n                  !store.cycApproved &&\r\n                  new BigNumber(pageStore.balanceOfCYC.value).comparedTo('0') &&\r\n                  store.currentCYCDenomination.value.comparedTo(0) > 0\r\n                }\r\n                label={lang.t('approve') + ' M87'}\r\n                disabledLabel={lang.t('approved')}\r\n                disable={store.cycApproved}\r\n                onClick={store.onApproveCYC}\r\n\r\n                LoadingButton\r\n              /> */}\r\n              <div style={{ flexDirection: 'column', justifyContent: 'space-between', height: '160px', display: 'flex' }}>\r\n                <Section css={{ position: 'relative', mb: '1.5rem' }}>\r\n                  <Input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    step={0.1}\r\n                    css={{ pr: '50px' }}\r\n                    value={store.depositAmountInput.format}\r\n                    onChange={(e) => store.setDepositAmount(e.target.value)}\r\n                  />\r\n                  <Text\r\n                    size=\"small\"\r\n                    color=\"primary\"\r\n                    cursor=\"pointer\"\r\n                    onClick={store.setMaxLimitAmount}\r\n                    css={{ position: 'absolute', lineHeight: '40px', top: 0, right: 11 }}\r\n                  >\r\n                    {lang.t('Max')}\r\n                  </Text>\r\n                </Section>\r\n                <Section css={{ position: 'relative', mb: '1.5rem' }}>\r\n                  <Input\r\n                    css={{ pr: '50px' }}\r\n                    value={store.recipientAddress}\r\n                    placeholder={lang.t('copy.recipient.address')}\r\n                    onChange={(e) => {store.checkValidAccount(e.target.value)}}\r\n                  />\r\n                </Section>\r\n                <ThemeProvider theme={theme}>\r\n                  {/* {\r\n                    pageStore.CurrentSet.XRCToken && store.currentAmount.value.comparedTo(0) > 0 ?\r\n                      <LoadingButton\r\n                      color=\"MessierOrange\"\r\n                      loadingPosition='start'\r\n                      loading={store.TokenApproveStatus == \"loading\"}\r\n                      disabled={store.TokenApproveStatus != \"notApproved\"}\r\n                      variant=\"outlined\"\r\n                      onClick={store.onApproveXRC}\r\n                      sx={{\r\n                        height: '40px',\r\n                        fontWeight: 'bold',\r\n                        color: store.TokenApproveStatus != \"notApproved\" ? '#acb3bb !important' : '',\r\n                        background: store.TokenApproveStatus != \"notApproved\" ? '#b9b9b952 !important' : ''\r\n                      }}\r\n                      fullWidth\r\n                      >\r\n                        { store.TokenApproveStatus == \"approved\" ? lang.t('approved') : lang.t('approve.token', { token: pageStore.CurrentSet.XRCToken.symbol })}\r\n                      </LoadingButton> : (\r\n                          <LoadingButton\r\n                          color=\"MessierOrange\"\r\n                          loadingPosition='start'\r\n                          loading={store.ApproveStatus == \"loading\"}\r\n                          disabled={store.ApproveStatus != \"notApproved\"}\r\n                          variant=\"outlined\"\r\n                          onClick={store.onApproveCYC}\r\n                          sx={{\r\n                            height: '40px',\r\n                            fontWeight: 'bold',\r\n                            color: store.ApproveStatus != \"notApproved\" ? '#acb3bb !important' : '',\r\n                            background: store.ApproveStatus != \"notApproved\" ? '#b9b9b952 !important' : ''\r\n                          }}\r\n                          fullWidth\r\n                          >\r\n                            { store.ApproveStatus == \"approved\" ? lang.t('approved') : lang.t('approve')}\r\n                          </LoadingButton>\r\n                      )\r\n                  } */}\r\n                  \r\n                  <LoadingButton\r\n                    color=\"MessierOrange\"\r\n                    loadingPosition='start'\r\n                    loading={store.DepositStatus == \"loading\"}\r\n                    disabled={store.DepositStatus != \"active\"}\r\n                    variant=\"outlined\"\r\n                    sx={{\r\n                      height: '40px',\r\n                      fontWeight: 'bold',\r\n                      color: store.DepositStatus != \"active\" ? '#acb3bb !important' : '',\r\n                      background: store.DepositStatus != \"active\" ? '#b9b9b952 !important' : ''\r\n                    }}\r\n                    onClick={store.deposit}\r\n                    fullWidth\r\n                  >\r\n                    {lang.t('Withdraw')}\r\n                  </LoadingButton>\r\n                </ThemeProvider>\r\n              </div>\r\n             {/* <div className={styles.buttonPanel.className}>{ActionButton}</div> */}\r\n            </Section>\r\n          </FlexBox>\r\n        </DropBox>\r\n      </div>\r\n      );\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    // console.log('props.chainID', props.chainID);\r\n    store.init(props.chainID);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(pageStore.connectingStatus);\r\n    if(pageStore.connectingStatus == 'idle')\r\n      store.isConnecting = false;\r\n    else\r\n      store.isConnecting = true;\r\n  }, [pageStore.connectingStatus]);\r\n\r\n  useEffect(() => {\r\n    store.isShowDetail = (store.indexOfPool == pageStore.currentPoolIndex) && !pageStore.isLockStatus;\r\n  }, [pageStore.currentPoolIndex, pageStore.isLockStatus]);\r\n\r\n  useEffect(() => {\r\n    // console.log('DepositStatus', store.DepositStatus);\r\n    if(store.DepositStatus == \"loading\")\r\n      return;\r\n    if( store.allowDeposit )\r\n      store.DepositStatus = \"active\";\r\n    else\r\n      store.DepositStatus = 'notActive';\r\n  }, [ store.allowDeposit, baseStore.refetchTimer ]);\r\n\r\n  useEffect(() => {\r\n    if( !pageStore.CurrentSet.XRCToken )\r\n      return;\r\n    // console.log(\"Approve consider\");\r\n    if(store.TokenApproveStatus == \"loading\")\r\n      return;\r\n    // console.log(store.ApproveStatus);\r\n    if( store.xrcApproved ) {\r\n      store.TokenApproveStatus = \"approved\";\r\n      // console.log('1');\r\n    }\r\n    else {\r\n      // console.log('2'); \r\n      const isActive = pageStore.isConnect &&\r\n        new BigNumber(pageStore.balanceOfXRC.value).comparedTo('0') &&\r\n        store.currentAmount.value.comparedTo(0) > 0;\r\n      if( isActive )\r\n        store.TokenApproveStatus = \"notApproved\";\r\n      else\r\n        store.TokenApproveStatus = \"disabled\";\r\n    }\r\n  }, [pageStore.isConnect, store.xrcApproved, pageStore.balanceOfXRC, store.currentAmount ]);\r\n\r\n  useEffect(() => {\r\n    // console.log('props.chainID =', props.chainID);\r\n\r\n    store.init(props.chainID);\r\n  }, [props.chainID, pageStore.web3, pageStore.account]);\r\n\r\n  useEffect(() => {\r\n    store.loadAmount();\r\n    const doNecessary = async () => {\r\n      if(pageStore.currentChain.chainId == 56) {\r\n        store.gasPrice = ethers.utils.parseUnits(\"50\", \"gwei\");\r\n      }\r\n      else {\r\n        store.gasPrice = await store.fetchGasPrice(pageStore.currentChain.chainId);\r\n      }\r\n    }\r\n    doNecessary();\r\n  }, [baseStore.refetchTimer, pageStore.CurrentSet.balance.value]);\r\n\r\n  useEffect(() => {\r\n    if(!store.isUsingMax)\r\n        return;\r\n    if(store.currentShieldedAmount.loading || store.gasPrice == '0')\r\n        return;\r\n    store.depositAmountInput.setValue(store.maxLimitAmount);\r\n  }, [store.maxLimitAmount]);\r\n\r\n  return (\r\n    <>\r\n    { \r\n      <Section>\r\n        <BorderBox css={{ padding: '0.6rem 0', cursor: 'pointer' }}\r\n        onClick={\r\n          () => {\r\n              store.onSelectPool(); \r\n          }\r\n        }>\r\n          <FlexBox justify=\"between\">\r\n            <FlexBox css={{ width: 'max-content', cursor: 'pointer', '@md': { width: '32%' } }}>\r\n              {\r\n                <SingleSymbol imgs={['/images/home/' + (store.indexOfPool ? store.indexOfPool.toLowerCase() : '') + '.png']} />\r\n              }\r\n              <Text size=\"small\" color=\"primary\" css={{ ml: '0.8rem' }}>\r\n                <span>\r\n                  {store.tokens &&\r\n                    store.tokens[store.indexOfPool].set\r\n                  }\r\n                </span>\r\n              </Text>\r\n            </FlexBox>\r\n            <Text size=\"small\" color=\"white\" css={{ flex: 1, textAlign: 'right', cursor: 'pointer' }}>\r\n              {/* { (pageStore.currentChain.chainId == 1) && (store.indexOfPool == 1 || store.indexOfPool == 10) && store.tokens[store.indexOfPool].Apy.format + ' % / ' + store.tokens[store.indexOfPool].dailyApy.getFormat({fixed: 3}) + ' %' } */}\r\n            </Text>\r\n            <FlexBox justify=\"end\" css={{ width: 'max-content', cursor: 'pointer', '@md': { width: '40%' } }}>\r\n              <Text size=\"small\" color=\"white\" css={{ display: 'none', '@md': { display: 'block' } }}>\r\n                {/* ${store.tokens[store.indexOfPool].tvl.format} */}\r\n              </Text>\r\n              <Icon\r\n                css={{ width: '1rem', ml: '1rem', '@md': { width: '1.375rem', ml: '1.5rem' } }}\r\n                src={`/images/home/${store.isShowDetail ? 'dropup' : 'dropdown'}.png`}\r\n              ></Icon>\r\n            </FlexBox>\r\n          </FlexBox>\r\n        </BorderBox>\r\n        {AnonymityPool}\r\n      </Section>\r\n    }\r\n    </>\r\n  );\r\n});\r\n\r\nconst styles = {\r\n  depositView: css({\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    flexDirection: 'column',\r\n    height: '530',\r\n    '@md': {\r\n      minHeight: '390px'\r\n    }\r\n  }),\r\n  token: css({\r\n    marginTop: '1.2rem',\r\n    marginLeft: '7vw',\r\n    '@xs': {\r\n      marginTop: '25px',\r\n      marginLeft: '40px'\r\n    },\r\n    '.select': {\r\n      border: '1px solid #45BCB8',\r\n      color: 'white',\r\n      background: 'transparent',\r\n      height: '40px',\r\n      width: '95%',\r\n      appearance: 'none',\r\n      fontSize: '18px',\r\n      fontFamily: \"'IBM Plex Mono', monospace\",\r\n      paddingLeft: '0.5rem'\r\n    }\r\n  }),\r\n  amount: css({\r\n    width: '95%',\r\n    overflow: 'hidden',\r\n    marginTop: '2rem',\r\n    marginLeft: '7vw',\r\n    marginBottom: '2rem',\r\n    '@xs': {\r\n      width: '94%',\r\n      overflow: 'auto',\r\n      marginLeft: '40px',\r\n      paddingRight: '40px'\r\n    },\r\n    '.stepperTrack': {\r\n      width: '100%',\r\n      borderWidth: '2px',\r\n      borderStyle: 'solid',\r\n      borderColor: '#45bcb8',\r\n      marginTop: '20px'\r\n    }\r\n  }),\r\n  buttonPanel: css({\r\n    height: '40px',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#ffffff12',\r\n    color: '#44ee95',\r\n    fontSize: '16px',\r\n    fontWeight: 'bold',\r\n    cursor: 'pointer',\r\n    textTransform: 'uppercase',\r\n    border: 'solid 1px',\r\n    borderColor: '#44ee95',\r\n    '&:hover': {\r\n      backgroundColor: '#00ff0312'\r\n    },\r\n    marginBottom: '1rem',\r\n    marginTop: '2.5rem',\r\n  }),\r\n  bottomTips: css({\r\n    marginLeft: '10%',\r\n    marginRight: '4vw',\r\n    fontSize: '12px',\r\n    padding: '0 0 0.3rem 3rem',\r\n    whiteSpace: 'nowrap',\r\n    textOverflow: 'ellipsis',\r\n    overflow: 'hidden',\r\n    '@md': {\r\n      marginLeft: '64px',\r\n      marginRight: '28px',\r\n      fontSize: '12px',\r\n      paddingLeft: '40px',\r\n      paddingBottom: '0.35rem',\r\n      whiteSpace: 'nowrap'\r\n    }\r\n  }),\r\n  poolInfos: css({\r\n      marginTop: '0.7rem'\r\n  }),\r\n  poolAudio: css({\r\n    paddingRight: '5%',\r\n    ul: {\r\n      listStyleType: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between',\r\n      flexWrap: 'wrap',\r\n      padding: 0,\r\n      margin: 0,\r\n      li: {\r\n        width: '100%',\r\n        padding: '4px 0',\r\n        border: '1px solid #45BCB8',\r\n        textAlign: 'left',\r\n        marginBottom: '8px',\r\n        paddingLeft: '4px',\r\n        fontSize: '0.875rem',\r\n        cursor: 'pointer',\r\n        '@md': {\r\n          width: '48%'\r\n        },\r\n        '&:hover': {\r\n          background: 'rgba(69, 188, 184, 0.35)'\r\n        }\r\n      },\r\n      '.active': {\r\n        fontWeight: 'bold',\r\n        color: '#38DCD5',\r\n        borderColor: '#45BCB8',\r\n        background: 'rgba(69, 188, 184, 0.35)'\r\n      }\r\n    }\r\n  }),\r\n  logo: css({\r\n    width: '24px',\r\n    height: '24px'\r\n  }),\r\n  denomenation: css({\r\n    width: '95%',\r\n    rowGap: '0.5rem',\r\n    flexBetweenCenter: 'column',\r\n    '.input': {\r\n      marginBottom: '8px'\r\n    },\r\n    '.button': {\r\n      width: '100%'\r\n    },\r\n    '.buttonDisable': {\r\n      width: '100%'\r\n    },\r\n    '@xs': {\r\n      columnGap: '1rem',\r\n      flexBetweenCenter: 'row',\r\n      '.input': {\r\n        marginBottom: 0\r\n      },\r\n      '.button': {\r\n        width: 'max-content'\r\n      },\r\n      '.buttonDisable': {\r\n        width: 'max-content'\r\n      }\r\n    },\r\n    '@md': {\r\n      '.input': {\r\n        marginBottom: 0\r\n      }\r\n    }\r\n  }),\r\n  approveBtn: css({\r\n    padding: '0 10px',\r\n    width: '100%',\r\n    height: '34px',\r\n    outline: 'none',\r\n    border: '1px solid #45BCB8',\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n    fontSize: '0.875rem',\r\n    backgroundColor: '#45BCB8',\r\n    '@xs': {\r\n      height: '40px',\r\n      maxWidth: '152px'\r\n    },\r\n    '@md': {\r\n      maxWidth: '90px',\r\n      fontSize: '12px'\r\n    },\r\n    xl: {\r\n      maxWidth: '152px',\r\n      fontSize: '1rem'\r\n    },\r\n    '&:disabled': {\r\n      backgroundColor: 'black'\r\n    }\r\n  }),\r\n  loginOut: css({\r\n    flexCenterCenter: 'row',\r\n    paddingLeft: '8%',\r\n    marginBottom: '2rem',\r\n    '@md': {\r\n      marginBottom: '3rem'\r\n    },\r\n    span: {\r\n      textDecoration: 'underline',\r\n      fontSize: '1',\r\n      cursor: 'pointer',\r\n      fontWeight: 'bold'\r\n    }\r\n  })\r\n};\r\n\r\nexport default WithdrawViewForETH;","import React, { useEffect, useMemo } from 'react';\r\nimport Button from './Button';\r\nimport { Popover } from 'antd';\r\nimport { css } from '../modules/index';\r\nimport { useStore } from '../store';\r\nimport { observer, useLocalStore, useObserver } from 'mobx-react-lite';\r\nimport BigNumber from 'bignumber.js';\r\nimport { toast } from 'react-toastify';\r\nimport { debounce } from 'lodash';\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { BigNumberState } from '../store/type';\r\nimport { Icon, Text, FlexBox, Wrapper, BorderBox, DropBox, Section, Input } from '../modules/globalStyle';\r\nimport { SingleSymbol } from './SingleSymbol';\r\nimport LoadingButton from '@mui/lab/LoadingButton';\r\nimport { injectedConnector } from '../lib/web3-react-bsc';\r\nimport { GasPriceOracle } from 'gas-price-oracle';\r\nimport { toWei, toBN, BN } from 'web3-utils';\r\nimport { BigNumberInputState } from '../store/lib/BignumberInputState';\r\nimport bigInt from 'big-integer';\r\nimport axios from 'axios';\r\nimport { hooks } from '../lib/hooks';\r\nimport { isAddress } from 'web3-utils'\r\n\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport { display } from '@mui/system';\r\n\r\nexport function toHex(number, length = 32) {\r\n  const str = number instanceof Buffer ? number.toString('hex') : bigInt(number).toString(16);\r\n  return '0x' + str.padStart(length * 2, '0');\r\n}\r\n\r\nfunction gasPricesETH(value = 80) {\r\n  const tenPercent = (Number(value) * 5) / 100;\r\n  const max = Math.max(tenPercent, 3);\r\n  const bumped = Math.floor(Number(value) + max);\r\n  return toHex(toWei(bumped.toString(), 'gwei'));\r\n}\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    MessierOrange: {\r\n      main: '#FF7518',\r\n      contrastText: '#fff',\r\n    },\r\n  },\r\n});\r\n\r\nlet clipboardy = null;\r\n\r\nexport const TransferView = observer(props => {\r\n  const { lang, god: pageStore, base: baseStore } = useStore();\r\n  const { activate, error, deactivate } = useWeb3React();\r\n  \r\n  const store = useLocalStore(() => ({\r\n    tokens: null,\r\n    // indexOfToken: 0,\r\n    // indexOfAmountSet: 0,\r\n    isShowDetail: false,\r\n    indexOfPool: null,\r\n    currentAmount: new BigNumberState({ loading: true }),\r\n    currentShieldedAmount: new BigNumberState({ value: new BigNumber(0), fixed: 5 }),\r\n    currentCYCDenomination: new BigNumberState({ loading: true }),\r\n    currentCoinDenomination: new BigNumberState({ loading: true }),\r\n    poolSize: -1,\r\n    anonymityFee: new BigNumberState({ loading: true }),\r\n    ApproveStatus: \"disabled\",\r\n    TokenApproveStatus: \"disabled\",\r\n    DepositStatus: \"disabled\",\r\n    WithdrawStatus: \"disabled\",\r\n    isConnecting: false,\r\n    gasPrice: '0',\r\n    depositAmountInput: new BigNumberInputState({}),\r\n    recipientAddress: null,\r\n    recipientPublicKey: null,\r\n    \r\n    setDepositAmount(val) {\r\n      if(store.currentShieldedAmount.loading)\r\n        return;\r\n      const subArr = val.split(\".\");\r\n      if(subArr[1]) {\r\n        if(subArr[1].length > store.depositAmountInput.decimals)\r\n          return;\r\n      }\r\n      store.depositAmountInput.setFormat(val);\r\n    },\r\n\r\n    setMaxLimitAmount() {\r\n      if(store.currentShieldedAmount.loading)\r\n        return;\r\n      store.depositAmountInput.setValue(this.maxLimitAmount);\r\n    },\r\n\r\n    getAnonymityFee() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n      this.anonymityFee.setValue(pageStore.CurrentSet.anonymityPoolFee.value);\r\n    },\r\n    \r\n    async checkRegisteredAccount(recipient) {\r\n      if(!isAddress(recipient) || recipient == pageStore.myAddress) {\r\n        store.recipientAddress = '';\r\n        return;\r\n      }\r\n      store.recipientAddress = recipient;\r\n      pageStore.setLoadingText(lang.t('request.registered.account'));\r\n      pageStore.setLoadingView(true);\r\n      let response = await axios.post(pageStore.currentChain.relayer + '/v1/getAccountStatus', {address: recipient}, {});\r\n      let res = response.data;\r\n      const { blockNumber, isExist, publicKey } = res;\r\n      pageStore.setLoadingView(false);\r\n      if(isExist) {\r\n        store.recipientPublicKey = publicKey;\r\n        store.recipientAddress = recipient;\r\n      }\r\n      else {\r\n        store.recipientPublicKey = null;\r\n        await hooks.waitModal({title: lang.t('notification'), msg: lang.t('not.registered')});\r\n        store.recipientAddress = '';\r\n      }\r\n    },\r\n\r\n    // get currentCYCDenominationLabel() {\r\n    //   return '...';\r\n    // },\r\n\r\n    get xrcApproved() {\r\n      if( pageStore.CurrentSet.XRCToken ) {\r\n        return (\r\n          new BigNumber(pageStore.CurrentSet.XRCToken.allownaceForRouter.value).comparedTo(store.currentAmount.value) >= 0 &&\r\n          store.currentAmount.value.comparedTo('0') > 0\r\n        );\r\n      }\r\n      return false;\r\n    },\r\n\r\n    async fetchGasPrice(netId) {\r\n      try {\r\n        const options = {\r\n        chainId: netId,\r\n        defaultRpc: pageStore.currentChain.rpcUrl,\r\n        timeout: 10000,\r\n        defaultFallbackGasPrices: {\r\n          instant: 28,\r\n          fast: 22,\r\n          standard: 17,\r\n          low: 11,\r\n        },\r\n        };\r\n        // Bump fees for Ethereum network\r\n        if (netId == 1 || netId == 56 || netId == 137) {\r\n          const oracle = new GasPriceOracle(options);\r\n          const fallbackGasPrices = {\r\n            instant: 70,\r\n            fast: 31,\r\n            standard: 20,\r\n            low: 7,\r\n          };\r\n          const gas = await oracle.gasPrices(fallbackGasPrices);\r\n          return gasPricesETH(gas.instant);\r\n        }\r\n      } catch (err) {\r\n        return '0x0';\r\n      }\r\n    },\r\n    \r\n    init(chainID) {\r\n      // console.log('EthereumConfig.tokensOnEthereum[chainID] =', EthereumConfig.tokensOnEthereum[chainID]);\r\n\r\n      store.tokens = pageStore.currentChain.pools;\r\n      // console.log('store.tokens =', store.tokens);\r\n      // console.log('cyc denomination', store.currentCYCDenomination.format);\r\n      // console.log(store.tokens.length);\r\n      if( store.tokens ) {\r\n        // console.log('ininin');\r\n        this.indexOfPool = props.indexOfPool;\r\n      }\r\n      // console.log('this.indexOfPool =', this.indexOfPool);\r\n      this.loadAmount();\r\n    },\r\n\r\n    loadAmount() {\r\n      if (pageStore.web3) {\r\n        store.getCurrentAmount();\r\n        // store.getPoolSize();\r\n        // store.getAnonymityFee();\r\n        // store.getCurrentCYCDenomination();\r\n        // store.getCurrentCoinDenomination();\r\n      }\r\n      store.getCurrentShieldedAmount();\r\n      if (pageStore.account) {\r\n        // pageStore.getBalanceOfXRC();\r\n        // pageStore.getBNBtoBuyCYC();\r\n        // pageStore.getBalanceOfCoin();\r\n      }\r\n    },\r\n\r\n    // onSelectAmount(id) {\r\n    //   pageStore.setCurrentSelectedAmount(id);\r\n    // },\r\n\r\n    // onSelectToken(event) {\r\n    //   const idx = event.target.value;\r\n    //   store.indexOfToken = idx;\r\n    //   props.onSelectToken(idx);\r\n    // },\r\n\r\n    onSelectPool() {\r\n      pageStore.setCurrentSelectedAmount(store.indexOfPool);\r\n      if(pageStore.CurrentSet.XRCToken)\r\n        store.currentAmount.setDecimals(pageStore.CurrentSet.XRCToken.decimals);\r\n      this.loadAmount();\r\n    },\r\n\r\n    async onConnect() {\r\n      pageStore.connectingStatus = \"connecting\";\r\n      await activate(injectedConnector);\r\n      pageStore.eth.connector.latestProvider.save('inject');\r\n      if(!pageStore.isConnect && pageStore.connectingStatus == 'connecting') {\r\n        pageStore.connectingStatus = 'idle';\r\n      }\r\n      if(pageStore.isConnect) {\r\n        baseStore.startRefetchForce();\r\n      }\r\n      \r\n    },\r\n\r\n    logout() {\r\n      deactivate();\r\n      pageStore.latestEthProvider.clear();\r\n    },\r\n\r\n    // onSelectPool(event) {\r\n    //   const tempInt = event.target.value;\r\n    //   store.indexOfPool = tempInt;\r\n    //   props.onSelectAmount(tempInt);\r\n    // },\r\n\r\n    async onApproveXRC() {\r\n      store.TokenApproveStatus = \"loading\";\r\n      pageStore.isOnProgress = true;\r\n      try {\r\n        await props.onApproveXRC(pageStore.CurrentSet.XRCToken, store.currentAmount.value.toString());\r\n        store.TokenApproveStatus = \"disabled\";\r\n        pageStore.isOnProgress = false;\r\n      } catch (error) {\r\n        store.TokenApproveStatus = \"notApproved\";\r\n        pageStore.isOnProgress = false;\r\n      }\r\n    },\r\n\r\n    async deposit() {\r\n      store.DepositStatus = \"loading\";\r\n      pageStore.isOnProgress = true;\r\n      try {\r\n        await props.onDeposit(store.totalSendAmount, store.recipientPublicKey, store.relayerFeeAmount);\r\n        store.DepositStatus = \"notActive\";\r\n        store.depositAmountInput.setValue(new BigNumber(0));\r\n        pageStore.isOnProgress = false;\r\n      } catch (error) {\r\n        store.DepositStatus = \"active\";\r\n        pageStore.isOnProgress = false;\r\n      }\r\n    },\r\n\r\n    async getCurrentAmount() {\r\n      if (!store.indexOfPool || pageStore.CurrentSet.balance.loading) {\r\n        return;\r\n      }\r\n      const value = pageStore.CurrentSet.balance.value;\r\n      store.currentAmount.setValue(value);\r\n      store.currentAmount.setLoading(false);\r\n    },\r\n\r\n    getCurrentShieldedAmount() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n      const value = pageStore.CurrentSet.shieldedBalance.value;\r\n      store.currentShieldedAmount.setValue(value);\r\n    },\r\n\r\n    getCurrentCoinDenomination() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n\r\n      const value = pageStore.CurrentSet.coinDenomination.value;\r\n      store.currentCoinDenomination.setValue(value);\r\n      store.currentCoinDenomination.setLoading(false);\r\n    },\r\n\r\n    async getCurrentCYCDenomination() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n\r\n      // const set = store.tokens[store.indexOfToken].amountSteps[store.indexOfPool];\r\n      const value = pageStore.CurrentSet.depositCYCAmount.value;\r\n      store.currentCYCDenomination.setValue(value);\r\n      store.currentCYCDenomination.setLoading(false);\r\n    },\r\n\r\n    async getPoolSize() {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n\r\n      store.poolSize = -1;\r\n      if (store.tokens) {\r\n        store.poolSize = pageStore.CurrentSet.numOfShare;\r\n      }\r\n    },\r\n\r\n    onClickCopyButton(event) {\r\n      if (clipboardy) {\r\n        clipboardy.focus();\r\n        clipboardy.select();\r\n        const result = document.execCommand('copy');\r\n        if (result === 'unsuccessful') {\r\n          clipboardy.blur();\r\n        } else {\r\n          clipboardy.blur();\r\n          toast.dark(lang.t('address.copied'), {\r\n            position: 'bottom-center',\r\n            autoClose: 3000,\r\n            hideProgressBar: true,\r\n            closeOnClick: false,\r\n            pauseOnHover: false,\r\n            draggable: false,\r\n            progress: undefined\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    onChangeBuyCYCCheckBox(event) {\r\n      if (!store.indexOfPool) {\r\n        return;\r\n      }\r\n      \r\n      pageStore.CurrentSet.allowBuyCYC = event.target.checked && !event.target.disabled;\r\n    },\r\n\r\n    get allowDeposit() {\r\n      if (store.depositAmountInput.value.comparedTo(0) > 0 && store.depositAmountInput.value.comparedTo(store.maxLimitAmount) <= 0 && store.recipientPublicKey) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    \r\n    get maxLimitAmount() {\r\n      const totalBalance = store.currentShieldedAmount.value;\r\n      const expense = totalBalance.dividedBy(1000).dp(0, BigNumber.ROUND_FLOOR);\r\n      let maxValue = totalBalance.minus(expense);\r\n\r\n      return maxValue;\r\n    },\r\n\r\n    get bridgeFeeAmount() {\r\n      return new BigNumber(0);\r\n    },\r\n    \r\n    get bridgeFeeFormat() {\r\n      return new BigNumberState({value: this.bridgeFeeAmount}).format;\r\n    },\r\n\r\n    get relayerFeeAmount() {\r\n        const totalBalance = store.currentShieldedAmount.value;\r\n        console.log('totalBalance', totalBalance.toString());\r\n        if(store.depositAmountInput.value.eq(store.maxLimitAmount)) {\r\n          return totalBalance.dividedBy(1000).dp(0, BigNumber.ROUND_FLOOR);\r\n        }\r\n        return store.depositAmountInput.value.dividedBy(1000).dp(0, BigNumber.ROUND_FLOOR);\r\n    },\r\n\r\n    get relayerFeeFormat() {\r\n      return new BigNumberState({value: this.relayerFeeAmount}).format;\r\n    },\r\n\r\n    get totalSendAmount() {\r\n      return store.depositAmountInput.value.plus(store.relayerFeeAmount);\r\n    },\r\n\r\n    get totalSendFormat() {\r\n      return new BigNumberState({value: this.totalSendAmount}).format;\r\n    },\r\n    \r\n  }));\r\n\r\n  const ActionButton = useObserver(() => {\r\n    return (\r\n      <div>\r\n        \r\n      </div>\r\n    );\r\n  });\r\n\r\n  const AnonymityPool = useObserver(() => {\r\n    if(store.isShowDetail)\r\n    {\r\n      if (!pageStore.isRegistered) {\r\n        return (\r\n          <DropBox color=\"primary\">\r\n            <FlexBox justify=\"center\" items=\"center\">\r\n              <ThemeProvider theme={theme}>\r\n                <LoadingButton\r\n                  color=\"MessierOrange\"\r\n                  loadingPosition='start'\r\n                  loading={store.isConnecting}\r\n                  variant=\"outlined\"\r\n                  onClick={store.onConnect}\r\n                  sx={{\r\n                    height: '40px',\r\n                    fontWeight: 'bold',\r\n                    maxWidth: '200px'\r\n                  }}\r\n                  fullWidth\r\n                  >\r\n                  {lang.t('connect')}\r\n                </LoadingButton>\r\n              </ThemeProvider>\r\n            </FlexBox>\r\n          </DropBox>\r\n        );\r\n      }\r\n      return (\r\n        <div>\r\n        <DropBox color=\"primary\">\r\n          <FlexBox justify=\"between\" responsive=\"rc\">\r\n            <Section css={{ width: '100%', mb: '1.5rem', '@md': { width: '46%', mb: 0 } }}>\r\n              <div\r\n                style={{\r\n                  marginTop: '0.5rem'\r\n                }}\r\n              >\r\n                {/* {store.currentAmount.value.comparedTo(0) <= 0 && (\r\n                  <BorderBox css={{ padding: '0.6rem 0'}}>\r\n                    <div style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '15px',\r\n                          color: '#959191',\r\n                          paddingBottom: '12px'\r\n                    }}>\r\n                      {lang.t('balance')}:&nbsp;\r\n                      {pageStore.balanceOfCoin.getFormat({ decimals: pageStore.currentChain.Coin.decimals }) + ' ' + pageStore.currentChain.Coin.symbol}  &nbsp;\r\n                      {store.currentCoinDenomination.value.comparedTo(pageStore.balanceOfCoin.value) > 0 && (\r\n                        <>\r\n                          <Popover\r\n                            placement=\"top\"\r\n                            trigger=\"click\"\r\n                            content={\r\n                              <>\r\n                                <div style={{ textAlign: 'center', fontWeight: 'bold', maxWidth: '12rem' }}>\r\n                                  {lang.t('amount.invalid')}\r\n                                </div>\r\n                                <div\r\n                                  style={{\r\n                                    textAlign: 'center',\r\n                                    fontWeight: 'bold',\r\n                                    maxWidth: '12rem',\r\n                                    pointerEvents: 'auto'\r\n                                  }}\r\n                                ></div>\r\n                              </>\r\n                            }\r\n                            backgroundColor=\"#45bcb8\"\r\n                          >\r\n                            <img src=\"/images/alert.png\" style={{ cursor: 'pointer' }} alt=\"\" />\r\n                          </Popover>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div\r\n                      className={styles.denomenation.className}\r\n                      style={{\r\n                        marginBottom: '0.5rem'\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '18px',\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        {pageStore.currentChain.Coin.symbol} &nbsp;{lang.t('Denomination')}:&nbsp;\r\n                        {store.currentCoinDenomination.getFormat({\r\n                        decimals: pageStore.currentChain.Coin.decimals,\r\n                        fixed: 8\r\n                      })}\r\n                      </div>\r\n                    </div>\r\n                  </BorderBox>\r\n                )} */}\r\n\r\n                  <BorderBox css={{ padding: '0.2rem 0'}}>\r\n                    <div\r\n                      className={styles.denomenation.className}\r\n                      style={{\r\n                        marginBottom: '0.5rem'\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '18px',\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        {lang.t('shielded')}&nbsp;{lang.t('balance')}&nbsp;:&nbsp;{store.currentShieldedAmount.format}&nbsp;{store.indexOfPool}\r\n                      </div>\r\n                    </div>\r\n                  </BorderBox>\r\n\r\n                  <div style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '15px',\r\n                          color: '#959191',\r\n                          paddingTop: '35px',\r\n                          display: 'flex',\r\n                          width: '100%',\r\n                          flexDirection: 'column'\r\n                    }}>\r\n                        <div style={{display: 'flex', justifyContent: \"space-between\", width: '100%'}}>\r\n                          <div>{lang.t('relayer.fee')}</div>\r\n                          <div>{store.relayerFeeFormat}&nbsp;{ store.indexOfPool }</div>\r\n                        </div>\r\n                        <div style={{display: 'flex', justifyContent: \"space-between\", width: '100%'}}>\r\n                          <div>{lang.t('bridge.fee')}</div>\r\n                          <div>{store.bridgeFeeFormat}&nbsp;{ store.indexOfPool }</div>\r\n                        </div>\r\n                        <div style={{display: 'flex', justifyContent: \"space-between\", width: '100%'}}>\r\n                          <div>{lang.t('total.transfer')}</div>\r\n                          <div>{store.totalSendFormat}&nbsp;{ store.indexOfPool }</div>\r\n                        </div>\r\n                    </div>\r\n\r\n                {/* {store.currentCYCDenomination.value.comparedTo(0) > 0 && pageStore.account && (\r\n                  <BorderBox css={{ padding: '0.6rem 0'}}>\r\n                    <div style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '15px',\r\n                          color: '#959191',\r\n                          paddingBottom: '12px'\r\n                    }}>\r\n                      {lang.t('balance')}:&nbsp;\r\n                      {pageStore.balanceOfCYC.format}\r\n                      &nbsp;M87&nbsp;\r\n                      {store.currentCYCDenomination.value.comparedTo(pageStore.balanceOfCYC.value) > 0 ? (\r\n                        <>\r\n                          <Popover\r\n                            placement=\"top\"\r\n                            trigger=\"click\"\r\n                            content={\r\n                              <>\r\n                                <div style={{ textAlign: 'center', fontWeight: 'bold', maxWidth: '12rem' }}>\r\n                                  {lang.t('cyc.tips')}\r\n                                </div>\r\n                                <div\r\n                                  style={{\r\n                                    textAlign: 'center',\r\n                                    fontWeight: 'bold',\r\n                                    maxWidth: '12rem',\r\n                                    pointerEvents: 'auto'\r\n                                  }}\r\n                                >\r\n                                  <a\r\n                                    style={{\r\n                                      color: 'black',\r\n                                      textDecoration: 'underline'\r\n                                    }}\r\n                                    href={pageStore.currentChain.swapURL}\r\n                                  >\r\n                                    {lang.t('click.buy')}\r\n                                  </a>\r\n                                </div>\r\n                              </>\r\n                            }\r\n                            backgroundColor=\"#45bcb8\"\r\n                          >\r\n                            <img src=\"/images/alert.png\" style={{ cursor: 'pointer' }} alt=\"\" />\r\n                          </Popover>\r\n                        </>\r\n                      ) : null}\r\n                    </div>\r\n\r\n                    <div className={styles.denomenation.className}>\r\n                      <div\r\n                        style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '18px',\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        {lang.t('cyc.denomenation')}:&nbsp;{store.currentCYCDenomination.format}\r\n                        <Popover\r\n                            placement=\"top\"\r\n                            trigger=\"click\"\r\n                            content={\r\n                              <>\r\n                                <div style={{ textAlign: 'center', fontWeight: 'bold', maxWidth: '12rem' }}>\r\n                                  {lang.t('cyc.reward')}\r\n                                </div>\r\n                              </>\r\n                            }\r\n                            backgroundColor=\"#45bcb8\"\r\n                          >\r\n                            <img src=\"/images/reward.png\" style={{ cursor: 'pointer', paddingLeft: 5, marginTop: -2 }} alt=\"\" />\r\n                        </Popover>\r\n                      </div>\r\n\r\n                      \r\n                    </div>\r\n\r\n                    {pageStore.balanceOfCYC.value.comparedTo(store.currentCYCDenomination.value) < 0 && pageStore.account && (\r\n                      <div\r\n                        className=\"flex item-center\"\r\n                        style={{\r\n                          marginTop: '0.5rem'\r\n                        }}\r\n                      >\r\n                        <input\r\n                          disabled={\r\n                            pageStore.balanceOfCoin.value.comparedTo(\r\n                              store.currentCoinDenomination.value.plus(pageStore.BNBtoBuyCYC.value)\r\n                            ) < 0\r\n                          }\r\n                          id=\"check\"\r\n                          type=\"checkbox\"\r\n                          style={{ verticalAlign: 'middle' }}\r\n                          onChange={store.onChangeBuyCYCCheckBox}\r\n                        />\r\n                        <label htmlFor=\"check\" style={{ marginLeft: 10, verticalAlign: 'middle', color: 'white' }}>\r\n                          {lang.t('use.coin.to.buy.cyc', {\r\n                            amount: pageStore.BNBtoBuyCYC.format,\r\n                            symbol: pageStore.currentChain.Coin.symbol\r\n                          })}\r\n                        </label>\r\n                      </div>\r\n                    )}\r\n                  </BorderBox>\r\n                )} */}\r\n\r\n                {/* {store.currentAmount.value.comparedTo(0) > 0 && (\r\n                  <BorderBox css={{ padding: '0.6rem 0'}}>\r\n                    <div style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '15px',\r\n                          color: '#959191',\r\n                          paddingBottom: '12px'\r\n                    }}>\r\n                      {lang.t('balance')}:&nbsp;\r\n                      {pageStore.balanceOfCoin.getFormat({ decimals: pageStore.currentChain.Coin.decimals })} ETH\r\n                      {store.currentCoinDenomination.value.comparedTo(pageStore.balanceOfCoin.value) > 0 ? (\r\n                        <>\r\n                          <Popover\r\n                            placement=\"top\"\r\n                            trigger=\"click\"\r\n                            content={\r\n                              <>\r\n                                <div style={{ textAlign: 'center', fontWeight: 'bold', maxWidth: '12rem' }}>\r\n                                  {lang.t('amount.invalid')}\r\n                                </div>\r\n                                <div\r\n                                  style={{\r\n                                    textAlign: 'center',\r\n                                    fontWeight: 'bold',\r\n                                    maxWidth: '12rem',\r\n                                    pointerEvents: 'auto'\r\n                                  }}\r\n                                ></div>\r\n                              </>\r\n                            }\r\n                            backgroundColor=\"#45bcb8\"\r\n                          >\r\n                            <img src=\"/images/alert.png\" style={{ cursor: 'pointer' }} alt=\"\" />\r\n                          </Popover>\r\n                        </>\r\n                      ) : null}\r\n                    </div>\r\n\r\n                    <div\r\n                      className={styles.denomenation.className}\r\n                      style={{\r\n                        marginBottom: '0.5rem'\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          alignItems: 'center',\r\n                          display: 'flex',\r\n                          fontSize: '18px',\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        ETH&nbsp;{lang.t('Denomination')}:&nbsp;\r\n                        {store.currentCoinDenomination.getFormat({ decimals: pageStore.currentChain.Coin.decimals })}\r\n                      </div>\r\n                    </div>\r\n                  </BorderBox>\r\n                )} */}\r\n              </div>\r\n            </Section>\r\n            \r\n            <Section css={{ width: '100%', '@md': { width: '46%' } }}>\r\n              {/* <Button\r\n                avaliable={\r\n                  pageStore.isConnect &&\r\n                  !store.cycApproved &&\r\n                  new BigNumber(pageStore.balanceOfCYC.value).comparedTo('0') &&\r\n                  store.currentCYCDenomination.value.comparedTo(0) > 0\r\n                }\r\n                label={lang.t('approve') + ' M87'}\r\n                disabledLabel={lang.t('approved')}\r\n                disable={store.cycApproved}\r\n                onClick={store.onApproveCYC}\r\n\r\n                LoadingButton\r\n              /> */}\r\n              <div style={{ flexDirection: 'column', justifyContent: 'space-between', height: '160px', display: 'flex' }}>\r\n                <Section css={{ position: 'relative', mb: '1.5rem' }}>\r\n                  <Input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    step={0.1}\r\n                    css={{ pr: '50px' }}\r\n                    value={store.depositAmountInput.format}\r\n                    onChange={(e) => store.setDepositAmount(e.target.value)}\r\n                  />\r\n                  <Text\r\n                    size=\"small\"\r\n                    color=\"primary\"\r\n                    cursor=\"pointer\"\r\n                    onClick={store.setMaxLimitAmount}\r\n                    css={{ position: 'absolute', lineHeight: '40px', top: 0, right: 11 }}\r\n                  >\r\n                    {lang.t('Max')}\r\n                  </Text>\r\n                </Section>\r\n                <Section css={{ position: 'relative', mb: '1.5rem' }}>\r\n                  <Input\r\n                    css={{ pr: '50px' }}\r\n                    value={store.recipientAddress}\r\n                    placeholder={lang.t('copy.recipient.address')}\r\n                    onChange={(e) => {store.checkRegisteredAccount(e.target.value)}}\r\n                  />\r\n                </Section>\r\n                <ThemeProvider theme={theme}>\r\n                  {/* {\r\n                    pageStore.CurrentSet.XRCToken && store.currentAmount.value.comparedTo(0) > 0 ?\r\n                      <LoadingButton\r\n                      color=\"MessierOrange\"\r\n                      loadingPosition='start'\r\n                      loading={store.TokenApproveStatus == \"loading\"}\r\n                      disabled={store.TokenApproveStatus != \"notApproved\"}\r\n                      variant=\"outlined\"\r\n                      onClick={store.onApproveXRC}\r\n                      sx={{\r\n                        height: '40px',\r\n                        fontWeight: 'bold',\r\n                        color: store.TokenApproveStatus != \"notApproved\" ? '#acb3bb !important' : '',\r\n                        background: store.TokenApproveStatus != \"notApproved\" ? '#b9b9b952 !important' : ''\r\n                      }}\r\n                      fullWidth\r\n                      >\r\n                        { store.TokenApproveStatus == \"approved\" ? lang.t('approved') : lang.t('approve.token', { token: pageStore.CurrentSet.XRCToken.symbol })}\r\n                      </LoadingButton> : (\r\n                          <LoadingButton\r\n                          color=\"MessierOrange\"\r\n                          loadingPosition='start'\r\n                          loading={store.ApproveStatus == \"loading\"}\r\n                          disabled={store.ApproveStatus != \"notApproved\"}\r\n                          variant=\"outlined\"\r\n                          onClick={store.onApproveCYC}\r\n                          sx={{\r\n                            height: '40px',\r\n                            fontWeight: 'bold',\r\n                            color: store.ApproveStatus != \"notApproved\" ? '#acb3bb !important' : '',\r\n                            background: store.ApproveStatus != \"notApproved\" ? '#b9b9b952 !important' : ''\r\n                          }}\r\n                          fullWidth\r\n                          >\r\n                            { store.ApproveStatus == \"approved\" ? lang.t('approved') : lang.t('approve')}\r\n                          </LoadingButton>\r\n                      )\r\n                  } */}\r\n                  \r\n                  <LoadingButton\r\n                    color=\"MessierOrange\"\r\n                    loadingPosition='start'\r\n                    loading={store.DepositStatus == \"loading\"}\r\n                    disabled={store.DepositStatus != \"active\"}\r\n                    variant=\"outlined\"\r\n                    sx={{\r\n                      height: '40px',\r\n                      fontWeight: 'bold',\r\n                      color: store.DepositStatus != \"active\" ? '#acb3bb !important' : '',\r\n                      background: store.DepositStatus != \"active\" ? '#b9b9b952 !important' : ''\r\n                    }}\r\n                    onClick={store.deposit}\r\n                    fullWidth\r\n                  >\r\n                    {lang.t('Transfer')}\r\n                  </LoadingButton>\r\n                </ThemeProvider>\r\n              </div>\r\n             {/* <div className={styles.buttonPanel.className}>{ActionButton}</div> */}\r\n            </Section>\r\n          </FlexBox>\r\n        </DropBox>\r\n      </div>\r\n      );\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    // console.log('props.chainID', props.chainID);\r\n    store.init(props.chainID);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(pageStore.connectingStatus);\r\n    if(pageStore.connectingStatus == 'idle')\r\n      store.isConnecting = false;\r\n    else\r\n      store.isConnecting = true;\r\n  }, [pageStore.connectingStatus]);\r\n\r\n  useEffect(() => {\r\n    store.isShowDetail = (store.indexOfPool == pageStore.currentPoolIndex) && !pageStore.isLockStatus;\r\n  }, [pageStore.currentPoolIndex, pageStore.isLockStatus]);\r\n\r\n  useEffect(() => {\r\n    // console.log('DepositStatus', store.DepositStatus);\r\n    if(store.DepositStatus == \"loading\")\r\n      return;\r\n    if( store.allowDeposit )\r\n      store.DepositStatus = \"active\";\r\n    else\r\n      store.DepositStatus = 'notActive';\r\n  }, [ store.allowDeposit, baseStore.refetchTimer ]);\r\n\r\n  useEffect(() => {\r\n    if( !pageStore.CurrentSet.XRCToken )\r\n      return;\r\n    // console.log(\"Approve consider\");\r\n    if(store.TokenApproveStatus == \"loading\")\r\n      return;\r\n    // console.log(store.ApproveStatus);\r\n    if( store.xrcApproved ) {\r\n      store.TokenApproveStatus = \"approved\";\r\n      // console.log('1');\r\n    }\r\n    else {\r\n      // console.log('2'); \r\n      const isActive = pageStore.isConnect &&\r\n        new BigNumber(pageStore.balanceOfXRC.value).comparedTo('0') &&\r\n        store.currentAmount.value.comparedTo(0) > 0;\r\n      if( isActive )\r\n        store.TokenApproveStatus = \"notApproved\";\r\n      else\r\n        store.TokenApproveStatus = \"disabled\";\r\n    }\r\n  }, [pageStore.isConnect, store.xrcApproved, pageStore.balanceOfXRC, store.currentAmount ]);\r\n\r\n  useEffect(() => {\r\n    // console.log('props.chainID =', props.chainID);\r\n\r\n    store.init(props.chainID);\r\n  }, [props.chainID, pageStore.web3, pageStore.account]);\r\n\r\n  useEffect(() => {\r\n    store.loadAmount();\r\n    const doNecessary = async () => {\r\n      store.gasPrice = await store.fetchGasPrice(pageStore.currentChain.chainId);\r\n    }\r\n    doNecessary();\r\n  }, [baseStore.refetchTimer, pageStore.CurrentSet.balance.value]);\r\n\r\n  return (\r\n    <>\r\n    { \r\n      <Section>\r\n        <BorderBox css={{ padding: '0.6rem 0', cursor: 'pointer' }}\r\n        onClick={\r\n          () => {\r\n              store.onSelectPool(); \r\n          }\r\n        }>\r\n          <FlexBox justify=\"between\">\r\n            <FlexBox css={{ width: 'max-content', cursor: 'pointer', '@md': { width: '32%' } }}>\r\n              {\r\n                <SingleSymbol imgs={['/images/home/' + (store.indexOfPool ? store.indexOfPool.toLowerCase() : '') + '.png']} />\r\n              }\r\n              <Text size=\"small\" color=\"primary\" css={{ ml: '0.8rem' }}>\r\n                <span>\r\n                  {store.tokens &&\r\n                    store.tokens[store.indexOfPool].set\r\n                  }\r\n                </span>\r\n              </Text>\r\n            </FlexBox>\r\n            <Text size=\"small\" color=\"white\" css={{ flex: 1, textAlign: 'right', cursor: 'pointer' }}>\r\n              {/* { (pageStore.currentChain.chainId == 1) && (store.indexOfPool == 1 || store.indexOfPool == 10) && store.tokens[store.indexOfPool].Apy.format + ' % / ' + store.tokens[store.indexOfPool].dailyApy.getFormat({fixed: 3}) + ' %' } */}\r\n            </Text>\r\n            <FlexBox justify=\"end\" css={{ width: 'max-content', cursor: 'pointer', '@md': { width: '40%' } }}>\r\n              <Text size=\"small\" color=\"white\" css={{ display: 'none', '@md': { display: 'block' } }}>\r\n                {/* ${store.tokens[store.indexOfPool].tvl.format} */}\r\n              </Text>\r\n              <Icon\r\n                css={{ width: '1rem', ml: '1rem', '@md': { width: '1.375rem', ml: '1.5rem' } }}\r\n                src={`/images/home/${store.isShowDetail ? 'dropup' : 'dropdown'}.png`}\r\n              ></Icon>\r\n            </FlexBox>\r\n          </FlexBox>\r\n        </BorderBox>\r\n        {AnonymityPool}\r\n      </Section>\r\n    }\r\n    </>\r\n  );\r\n});\r\n\r\nconst styles = {\r\n  depositView: css({\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    flexDirection: 'column',\r\n    height: '530',\r\n    '@md': {\r\n      minHeight: '390px'\r\n    }\r\n  }),\r\n  token: css({\r\n    marginTop: '1.2rem',\r\n    marginLeft: '7vw',\r\n    '@xs': {\r\n      marginTop: '25px',\r\n      marginLeft: '40px'\r\n    },\r\n    '.select': {\r\n      border: '1px solid #45BCB8',\r\n      color: 'white',\r\n      background: 'transparent',\r\n      height: '40px',\r\n      width: '95%',\r\n      appearance: 'none',\r\n      fontSize: '18px',\r\n      fontFamily: \"'IBM Plex Mono', monospace\",\r\n      paddingLeft: '0.5rem'\r\n    }\r\n  }),\r\n  amount: css({\r\n    width: '95%',\r\n    overflow: 'hidden',\r\n    marginTop: '2rem',\r\n    marginLeft: '7vw',\r\n    marginBottom: '2rem',\r\n    '@xs': {\r\n      width: '94%',\r\n      overflow: 'auto',\r\n      marginLeft: '40px',\r\n      paddingRight: '40px'\r\n    },\r\n    '.stepperTrack': {\r\n      width: '100%',\r\n      borderWidth: '2px',\r\n      borderStyle: 'solid',\r\n      borderColor: '#45bcb8',\r\n      marginTop: '20px'\r\n    }\r\n  }),\r\n  buttonPanel: css({\r\n    height: '40px',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#ffffff12',\r\n    color: '#44ee95',\r\n    fontSize: '16px',\r\n    fontWeight: 'bold',\r\n    cursor: 'pointer',\r\n    textTransform: 'uppercase',\r\n    border: 'solid 1px',\r\n    borderColor: '#44ee95',\r\n    '&:hover': {\r\n      backgroundColor: '#00ff0312'\r\n    },\r\n    marginBottom: '1rem',\r\n    marginTop: '2.5rem',\r\n  }),\r\n  bottomTips: css({\r\n    marginLeft: '10%',\r\n    marginRight: '4vw',\r\n    fontSize: '12px',\r\n    padding: '0 0 0.3rem 3rem',\r\n    whiteSpace: 'nowrap',\r\n    textOverflow: 'ellipsis',\r\n    overflow: 'hidden',\r\n    '@md': {\r\n      marginLeft: '64px',\r\n      marginRight: '28px',\r\n      fontSize: '12px',\r\n      paddingLeft: '40px',\r\n      paddingBottom: '0.35rem',\r\n      whiteSpace: 'nowrap'\r\n    }\r\n  }),\r\n  poolInfos: css({\r\n      marginTop: '0.7rem'\r\n  }),\r\n  poolAudio: css({\r\n    paddingRight: '5%',\r\n    ul: {\r\n      listStyleType: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between',\r\n      flexWrap: 'wrap',\r\n      padding: 0,\r\n      margin: 0,\r\n      li: {\r\n        width: '100%',\r\n        padding: '4px 0',\r\n        border: '1px solid #45BCB8',\r\n        textAlign: 'left',\r\n        marginBottom: '8px',\r\n        paddingLeft: '4px',\r\n        fontSize: '0.875rem',\r\n        cursor: 'pointer',\r\n        '@md': {\r\n          width: '48%'\r\n        },\r\n        '&:hover': {\r\n          background: 'rgba(69, 188, 184, 0.35)'\r\n        }\r\n      },\r\n      '.active': {\r\n        fontWeight: 'bold',\r\n        color: '#38DCD5',\r\n        borderColor: '#45BCB8',\r\n        background: 'rgba(69, 188, 184, 0.35)'\r\n      }\r\n    }\r\n  }),\r\n  logo: css({\r\n    width: '24px',\r\n    height: '24px'\r\n  }),\r\n  denomenation: css({\r\n    width: '95%',\r\n    rowGap: '0.5rem',\r\n    flexBetweenCenter: 'column',\r\n    '.input': {\r\n      marginBottom: '8px'\r\n    },\r\n    '.button': {\r\n      width: '100%'\r\n    },\r\n    '.buttonDisable': {\r\n      width: '100%'\r\n    },\r\n    '@xs': {\r\n      columnGap: '1rem',\r\n      flexBetweenCenter: 'row',\r\n      '.input': {\r\n        marginBottom: 0\r\n      },\r\n      '.button': {\r\n        width: 'max-content'\r\n      },\r\n      '.buttonDisable': {\r\n        width: 'max-content'\r\n      }\r\n    },\r\n    '@md': {\r\n      '.input': {\r\n        marginBottom: 0\r\n      }\r\n    }\r\n  }),\r\n  approveBtn: css({\r\n    padding: '0 10px',\r\n    width: '100%',\r\n    height: '34px',\r\n    outline: 'none',\r\n    border: '1px solid #45BCB8',\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n    fontSize: '0.875rem',\r\n    backgroundColor: '#45BCB8',\r\n    '@xs': {\r\n      height: '40px',\r\n      maxWidth: '152px'\r\n    },\r\n    '@md': {\r\n      maxWidth: '90px',\r\n      fontSize: '12px'\r\n    },\r\n    xl: {\r\n      maxWidth: '152px',\r\n      fontSize: '1rem'\r\n    },\r\n    '&:disabled': {\r\n      backgroundColor: 'black'\r\n    }\r\n  }),\r\n  loginOut: css({\r\n    flexCenterCenter: 'row',\r\n    paddingLeft: '8%',\r\n    marginBottom: '2rem',\r\n    '@md': {\r\n      marginBottom: '3rem'\r\n    },\r\n    span: {\r\n      textDecoration: 'underline',\r\n      fontSize: '1',\r\n      cursor: 'pointer',\r\n      fontWeight: 'bold'\r\n    }\r\n  })\r\n};\r\n\r\nexport default TransferView;"],"sourceRoot":""}